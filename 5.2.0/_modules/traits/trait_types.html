<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>traits.trait_types &mdash; Traits 5 User Manual</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '5.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="../../_static/img/favicon.ico">
    <link rel="search" title="Search" href="../../search.html" >
    <link rel="top" title="Traits 5 User Manual" href="../../index.html" >
    <link rel="up" title="Module code" href="../index.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../index.html">Traits 5 User Manual</a></li>
	
          <li class="active"><a href="../index.html" accesskey="U">Module code</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <h1>Source code for traits.trait_types</h1><div class="highlight"><pre>
<span></span><span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1">#  Copyright (c) 2007, Enthought, Inc.</span>
<span class="c1">#  All rights reserved.</span>
<span class="c1">#</span>
<span class="c1">#  This software is provided without warranty under the terms of the BSD</span>
<span class="c1">#  license included in enthought/LICENSE.txt and may be redistributed only</span>
<span class="c1">#  under the conditions described in the aforementioned license.  The license</span>
<span class="c1">#  is also available online at http://www.enthought.com/licenses/BSD.txt</span>
<span class="c1">#</span>
<span class="c1">#  Thanks for using Enthought open source!</span>
<span class="c1">#</span>
<span class="c1">#  Author: David C. Morrill</span>
<span class="c1">#  Date:   03/22/2007</span>
<span class="c1">#</span>
<span class="c1"># ------------------------------------------------------------------------------</span>

<span class="sd">&quot;&quot;&quot; Core Trait definitions.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  Imports:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">absolute_import</span>

<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">isfile</span><span class="p">,</span> <span class="n">isdir</span>
<span class="kn">from</span> <span class="nn">types</span> <span class="k">import</span> <span class="n">FunctionType</span><span class="p">,</span> <span class="n">MethodType</span><span class="p">,</span> <span class="n">ModuleType</span>
<span class="kn">import</span> <span class="nn">uuid</span>

<span class="kn">import</span> <span class="nn">six</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">trait_handlers</span>

<span class="kn">from</span> <span class="nn">.trait_base</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">strx</span><span class="p">,</span>
    <span class="n">get_module_name</span><span class="p">,</span>
    <span class="n">class_of</span><span class="p">,</span>
    <span class="n">SequenceTypes</span><span class="p">,</span>
    <span class="n">TypeTypes</span><span class="p">,</span>
    <span class="n">ClassTypes</span><span class="p">,</span>
    <span class="n">Undefined</span><span class="p">,</span>
    <span class="n">TraitsCache</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">.trait_handlers</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">TraitType</span><span class="p">,</span>
    <span class="n">TraitInstance</span><span class="p">,</span>
    <span class="n">TraitListObject</span><span class="p">,</span>
    <span class="n">TraitSetObject</span><span class="p">,</span>
    <span class="n">TraitSetEvent</span><span class="p">,</span>
    <span class="n">TraitDictObject</span><span class="p">,</span>
    <span class="n">TraitDictEvent</span><span class="p">,</span>
    <span class="n">ThisClass</span><span class="p">,</span>
    <span class="n">items_event</span><span class="p">,</span>
    <span class="n">RangeTypes</span><span class="p">,</span>
    <span class="n">HandleWeakRef</span><span class="p">,</span>
    <span class="n">OBJECT_DEFAULT_VALUE</span><span class="p">,</span>
    <span class="n">TRAIT_LIST_OBJECT_DEFAULT_VALUE</span><span class="p">,</span>
    <span class="n">TRAIT_DICT_OBJECT_DEFAULT_VALUE</span><span class="p">,</span>
    <span class="n">CALLABLE_AND_ARGS_DEFAULT_VALUE</span><span class="p">,</span>
    <span class="n">CALLABLE_DEFAULT_VALUE</span><span class="p">,</span>
    <span class="n">TRAIT_SET_OBJECT_DEFAULT_VALUE</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">.traits</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">Trait</span><span class="p">,</span>
    <span class="n">trait_from</span><span class="p">,</span>
    <span class="n">_TraitMaker</span><span class="p">,</span>
    <span class="n">_InstanceArgs</span><span class="p">,</span>
    <span class="n">code_editor</span><span class="p">,</span>
    <span class="n">html_editor</span><span class="p">,</span>
    <span class="n">password_editor</span><span class="p">,</span>
    <span class="n">shell_editor</span><span class="p">,</span>
    <span class="n">date_editor</span><span class="p">,</span>
    <span class="n">time_editor</span><span class="p">,</span>
    <span class="n">list_editor</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">.trait_errors</span> <span class="k">import</span> <span class="n">TraitError</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">_py2to3</span>
<span class="kn">from</span> <span class="nn">._py2to3</span> <span class="k">import</span> <span class="n">LONG_TYPE</span>

<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  Constants:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>

<span class="n">MutableTypes</span> <span class="o">=</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
<span class="n">SetTypes</span> <span class="o">=</span> <span class="n">SequenceTypes</span> <span class="o">+</span> <span class="p">(</span><span class="nb">set</span><span class="p">,)</span>

<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  Numeric type fast validator definitions:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>

<span class="c1"># A few words about the next block of code:</span>

<span class="c1"># Validator #11 is a generic validator for possibly coercible types</span>
<span class="c1"># (see validate_trait_coerce_type in ctraits.c).</span>
<span class="c1">#</span>
<span class="c1"># The tuples below are of the form</span>
<span class="c1"># (11, type1, [type2, type3, ...], [None, ctype1, [ctype2, ...]])</span>
<span class="c1">#</span>
<span class="c1"># &#39;type1&#39; corresponds to the main type for the trait</span>
<span class="c1"># &#39;None&#39; acts as the separator between &#39;types&#39; and &#39;ctypes&#39; (coercible types)</span>
<span class="c1">#</span>
<span class="c1"># The validation passes if:</span>
<span class="c1"># 1) The trait value type is (a subtype of) one of &#39;type1&#39;, &#39;type2&#39;,  ...</span>
<span class="c1">#    in which case the value is returned as-is</span>
<span class="c1"># or</span>
<span class="c1"># 2) The trait value type is (a subtype of) one of &#39;ctype1&#39;, &#39;ctype2&#39;, ...</span>
<span class="c1">#    in which case the value is returned coerced to trait type using</span>
<span class="c1">#    &#39;return type1(value&#39;)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># The numpy enhanced definitions:</span>
    <span class="kn">from</span> <span class="nn">numpy</span> <span class="k">import</span> <span class="n">integer</span><span class="p">,</span> <span class="n">floating</span><span class="p">,</span> <span class="n">complexfloating</span><span class="p">,</span> <span class="n">bool_</span>

    <span class="n">int_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">integer</span><span class="p">)</span>
    <span class="n">long_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">LONG_TYPE</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">integer</span><span class="p">)</span>
    <span class="n">float_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">floating</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">LONG_TYPE</span><span class="p">,</span> <span class="n">integer</span><span class="p">)</span>
    <span class="n">complex_fast_validate</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mi">11</span><span class="p">,</span>
        <span class="nb">complex</span><span class="p">,</span>
        <span class="n">complexfloating</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="nb">float</span><span class="p">,</span>
        <span class="n">floating</span><span class="p">,</span>
        <span class="nb">int</span><span class="p">,</span>
        <span class="n">integer</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">bool_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">bool_</span><span class="p">)</span>
    <span class="c1"># Tuple or single type suitable for an isinstance check.</span>
    <span class="n">_BOOL_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="n">bool_</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="c1"># The standard python definitions (without numpy):</span>
    <span class="n">int_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="n">long_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">LONG_TYPE</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="n">float_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">LONG_TYPE</span><span class="p">)</span>
    <span class="n">complex_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="n">bool_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
    <span class="c1"># Tuple or single type suitable for an isinstance check.</span>
    <span class="n">_BOOL_TYPES</span> <span class="o">=</span> <span class="nb">bool</span>

<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  Returns a default text editor:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="default_text_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.default_text_editor">[docs]</a><span class="k">def</span> <span class="nf">default_text_editor</span><span class="p">(</span><span class="n">trait</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">auto_set</span> <span class="o">=</span> <span class="n">trait</span><span class="o">.</span><span class="n">auto_set</span>
    <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">enter_set</span> <span class="o">=</span> <span class="n">trait</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span>

    <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TextEditor</span>

    <span class="k">if</span> <span class="nb">type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TextEditor</span><span class="p">(</span><span class="n">auto_set</span><span class="o">=</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">enter_set</span><span class="o">=</span><span class="n">enter_set</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">TextEditor</span><span class="p">(</span><span class="n">auto_set</span><span class="o">=</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">enter_set</span><span class="o">=</span><span class="n">enter_set</span><span class="p">,</span> <span class="n">evaluate</span><span class="o">=</span><span class="nb">type</span><span class="p">)</span></div>


<span class="c1"># Generic validators</span>


<span class="k">def</span> <span class="nf">_validate_float</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert an arbitrary Python object to a float, or raise TypeError.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span><span class="p">:</span>  <span class="c1"># fast path for common case</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">nb_float</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="fm">__float__</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;Object of type </span><span class="si">{!r}</span><span class="s2"> not convertible to float&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">nb_float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Any&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Any"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Any">[docs]</a><span class="k">class</span> <span class="nc">Any</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value can be anything.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;any value&quot;</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Generic&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Generic"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Generic">[docs]</a><span class="k">class</span> <span class="nc">Generic</span><span class="p">(</span><span class="n">Any</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value can be anything and whose definition can</span>
<span class="sd">        be redefined via assignment using a TraitValue object.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;trait_value&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseInt&#39; and &#39;Int&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseInt"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInt">[docs]</a><span class="k">class</span> <span class="nc">BaseInt</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose type must be an int or long.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">int</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;an integer (int or long)&quot;</span>

<div class="viewcode-block" id="BaseInt.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInt.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="n">LONG_TYPE</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">int_value</span> <span class="o">=</span> <span class="n">operator</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">int_value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseInt.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInt.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">default_text_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Int"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Int">[docs]</a><span class="k">class</span> <span class="nc">Int</span><span class="p">(</span><span class="n">BaseInt</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose type must be an int or long using a C-level fast</span>
<span class="sd">        validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseLong&#39; and &#39;Long&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseLong"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseLong">[docs]</a><span class="k">class</span> <span class="nc">BaseLong</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python long.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="n">LONG_TYPE</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="n">LONG_TYPE</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a long&quot;</span>

<div class="viewcode-block" id="BaseLong.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseLong.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">LONG_TYPE</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">integer_types</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseLong.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseLong.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">default_text_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">LONG_TYPE</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Long"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Long">[docs]</a><span class="k">class</span> <span class="nc">Long</span><span class="p">(</span><span class="n">BaseLong</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python long using a C-level fast</span>
<span class="sd">        validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="n">long_fast_validate</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseFloat&#39; and &#39;Float&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseFloat"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFloat">[docs]</a><span class="k">class</span> <span class="nc">BaseFloat</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python float.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">float</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="mf">0.0</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a float&quot;</span>

<div class="viewcode-block" id="BaseFloat.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFloat.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_validate_float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseFloat.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFloat.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">default_text_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Float"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Float">[docs]</a><span class="k">class</span> <span class="nc">Float</span><span class="p">(</span><span class="n">BaseFloat</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python float using a C-level fast</span>
<span class="sd">        validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">21</span><span class="p">,)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseComplex&#39; and &#39;Complex&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseComplex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseComplex">[docs]</a><span class="k">class</span> <span class="nc">BaseComplex</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python complex.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">complex</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="o">+</span> <span class="mf">0.0</span><span class="n">j</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a complex number&quot;</span>

<div class="viewcode-block" id="BaseComplex.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseComplex.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">complex</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="k">return</span> <span class="nb">complex</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseComplex.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseComplex.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">default_text_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">complex</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Complex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Complex">[docs]</a><span class="k">class</span> <span class="nc">Complex</span><span class="p">(</span><span class="n">BaseComplex</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python complex using a C-level</span>
<span class="sd">        fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="n">complex_fast_validate</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseStr&#39; and &#39;Str&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseStr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseStr">[docs]</a><span class="k">class</span> <span class="nc">BaseStr</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python string.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a string&quot;</span>

<div class="viewcode-block" id="BaseStr.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseStr.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseStr.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseStr.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.traits</span> <span class="k">import</span> <span class="n">multi_line_text_editor</span>

        <span class="n">auto_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span>
        <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">enter_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">multi_line_text_editor</span><span class="p">(</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">enter_set</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Str"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Str">[docs]</a><span class="k">class</span> <span class="nc">Str</span><span class="p">(</span><span class="n">BaseStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python string using a C-level</span>
<span class="sd">        fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,)</span> <span class="o">+</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span></div>


<div class="viewcode-block" id="Title"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Title">[docs]</a><span class="k">class</span> <span class="nc">Title</span><span class="p">(</span><span class="n">Str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a string type which by default uses the traits ui TitleEditor</span>
<span class="sd">        when used in a View.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Title.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Title.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor to use for a trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TitleEditor</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;allow_selection&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">TitleEditor</span><span class="p">(</span><span class="n">allow_selection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">allow_selection</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">TitleEditor</span><span class="p">()</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseUnicode&#39; and &#39;Unicode&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseUnicode"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseUnicode">[docs]</a><span class="k">class</span> <span class="nc">BaseUnicode</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python unicode string.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="sa">u</span><span class="s2">&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a unicode string&quot;</span>

<div class="viewcode-block" id="BaseUnicode.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseUnicode.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseUnicode.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseUnicode.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.traits</span> <span class="k">import</span> <span class="n">multi_line_text_editor</span>

        <span class="n">auto_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span>
        <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">enter_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">multi_line_text_editor</span><span class="p">(</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">enter_set</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Unicode"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Unicode">[docs]</a><span class="k">class</span> <span class="nc">Unicode</span><span class="p">(</span><span class="n">BaseUnicode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python unicode string using a</span>
<span class="sd">        C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseBytes&#39; and &#39;Bytes&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseBytes"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBytes">[docs]</a><span class="k">class</span> <span class="nc">BaseBytes</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python bytes string.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a bytes string&quot;</span>

    <span class="c1">#: An encoding to use with TraitsUI editors</span>
    <span class="n">encoding</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="BaseBytes.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBytes.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseBytes.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBytes.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.traits</span> <span class="k">import</span> <span class="n">bytes_editor</span>

        <span class="n">auto_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span>
        <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">enter_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">bytes_editor</span><span class="p">(</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">enter_set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Bytes"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Bytes">[docs]</a><span class="k">class</span> <span class="nc">Bytes</span><span class="p">(</span><span class="n">BaseBytes</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python bytes string using a</span>
<span class="sd">        C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseBool&#39; and &#39;Bool&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseBool"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBool">[docs]</a><span class="k">class</span> <span class="nc">BaseBool</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python boolean.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">bool</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a boolean&quot;</span>

<div class="viewcode-block" id="BaseBool.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBool.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">_BOOL_TYPES</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseBool.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBool.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">BooleanEditor</span>

        <span class="k">return</span> <span class="n">BooleanEditor</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Bool"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Bool">[docs]</a><span class="k">class</span> <span class="nc">Bool</span><span class="p">(</span><span class="n">BaseBool</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python boolean using a C-level</span>
<span class="sd">        fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="n">bool_fast_validate</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseCInt&#39; and &#39;CInt&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseCInt"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCInt">[docs]</a><span class="k">class</span> <span class="nc">BaseCInt</span><span class="p">(</span><span class="n">BaseInt</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python int and which supports</span>
<span class="sd">        coercions of non-int values to int.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">int</span>

<div class="viewcode-block" id="BaseCInt.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCInt.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CInt"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CInt">[docs]</a><span class="k">class</span> <span class="nc">CInt</span><span class="p">(</span><span class="n">BaseCInt</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python int and which supports</span>
<span class="sd">        coercions of non-int values to int using a C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseCLong&#39; and &#39;CLong&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseCLong"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCLong">[docs]</a><span class="k">class</span> <span class="nc">BaseCLong</span><span class="p">(</span><span class="n">BaseLong</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python long and which supports</span>
<span class="sd">        coercions of non-long values to long.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="n">LONG_TYPE</span>

<div class="viewcode-block" id="BaseCLong.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCLong.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">LONG_TYPE</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CLong"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CLong">[docs]</a><span class="k">class</span> <span class="nc">CLong</span><span class="p">(</span><span class="n">BaseCLong</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python long and which supports</span>
<span class="sd">        coercions of non-long values to long using a C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">LONG_TYPE</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseCFloat&#39; and &#39;CFloat&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseCFloat"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCFloat">[docs]</a><span class="k">class</span> <span class="nc">BaseCFloat</span><span class="p">(</span><span class="n">BaseFloat</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python float and which supports</span>
<span class="sd">        coercions of non-float values to float.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">float</span>

<div class="viewcode-block" id="BaseCFloat.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCFloat.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CFloat"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CFloat">[docs]</a><span class="k">class</span> <span class="nc">CFloat</span><span class="p">(</span><span class="n">BaseCFloat</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python float and which supports</span>
<span class="sd">        coercions of non-float values to float using a C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseCComplex&#39; and &#39;CComplex&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseCComplex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCComplex">[docs]</a><span class="k">class</span> <span class="nc">BaseCComplex</span><span class="p">(</span><span class="n">BaseComplex</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python complex and which supports</span>
<span class="sd">        coercions of non-complex values to complex.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">complex</span>

<div class="viewcode-block" id="BaseCComplex.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCComplex.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">complex</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CComplex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CComplex">[docs]</a><span class="k">class</span> <span class="nc">CComplex</span><span class="p">(</span><span class="n">BaseCComplex</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python complex and which supports</span>
<span class="sd">        coercions of non-complex values to complex using a C-level fast</span>
<span class="sd">        validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="nb">complex</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseCStr&#39; and &#39;CStr&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseCStr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCStr">[docs]</a><span class="k">class</span> <span class="nc">BaseCStr</span><span class="p">(</span><span class="n">BaseStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python string and which supports</span>
<span class="sd">        coercions of non-string values to string.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseCStr.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCStr.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CStr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CStr">[docs]</a><span class="k">class</span> <span class="nc">CStr</span><span class="p">(</span><span class="n">BaseCStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python string and which supports</span>
<span class="sd">        coercions of non-string values to string using a C-level fast</span>
<span class="sd">        validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="p">((</span><span class="mi">12</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">)))</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseCUnicode&#39; and &#39;CUnicode&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseCUnicode"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCUnicode">[docs]</a><span class="k">class</span> <span class="nc">BaseCUnicode</span><span class="p">(</span><span class="n">BaseUnicode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python unicode string and which</span>
<span class="sd">        supports coercions of non-unicode values to unicode.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseCUnicode.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCUnicode.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CUnicode"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CUnicode">[docs]</a><span class="k">class</span> <span class="nc">CUnicode</span><span class="p">(</span><span class="n">BaseCUnicode</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python unicode string and which</span>
<span class="sd">        supports coercions of non-unicode values to unicode using a C-level</span>
<span class="sd">        fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseCBytes&#39; and &#39;CBytes&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseCBytes"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCBytes">[docs]</a><span class="k">class</span> <span class="nc">BaseCBytes</span><span class="p">(</span><span class="n">BaseBytes</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python bytes object and which</span>
<span class="sd">        supports coercions of non-bytes values to bytes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseCBytes.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCBytes.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CBytes"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CBytes">[docs]</a><span class="k">class</span> <span class="nc">CBytes</span><span class="p">(</span><span class="n">BaseCBytes</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python bytes and which</span>
<span class="sd">        supports coercions of non-bytes values bytes using a C-level</span>
<span class="sd">        fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseCBool&#39; and &#39;CBool&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseCBool"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCBool">[docs]</a><span class="k">class</span> <span class="nc">BaseCBool</span><span class="p">(</span><span class="n">BaseBool</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python boolean and which supports</span>
<span class="sd">        coercions of non-boolean values to boolean.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">bool</span>

<div class="viewcode-block" id="BaseCBool.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCBool.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CBool"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CBool">[docs]</a><span class="k">class</span> <span class="nc">CBool</span><span class="p">(</span><span class="n">BaseCBool</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python boolean and which supports</span>
<span class="sd">        coercions of non-boolean values to boolean using a C-level fast</span>
<span class="sd">        validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;String&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="String"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String">[docs]</a><span class="k">class</span> <span class="nc">String</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python string whose length is</span>
<span class="sd">        optionally in a specified range, and which optionally matches a</span>
<span class="sd">        specified regular expression.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">minlen</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">maxlen</span><span class="o">=</span><span class="n">six</span><span class="o">.</span><span class="n">MAXSIZE</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a String trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str</span>
<span class="sd">            The default value for the string.</span>
<span class="sd">        minlen : integer</span>
<span class="sd">            The minimum length allowed for the string.</span>
<span class="sd">        maxlen : integer</span>
<span class="sd">            The maximum length allowed for the string.</span>
<span class="sd">        regex : str</span>
<span class="sd">            A Python regular expression that the string must match.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">minlen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span><span class="p">,</span> <span class="n">maxlen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">regex</span> <span class="o">=</span> <span class="n">regex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Completes initialization of the trait at construction or unpickling</span>
<span class="sd">            time.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;validate_all&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">regex</span><span class="p">)</span><span class="o">.</span><span class="n">match</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">==</span> <span class="n">six</span><span class="o">.</span><span class="n">MAXSIZE</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;validate_regex&quot;</span>
        <span class="k">elif</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">==</span> <span class="n">six</span><span class="o">.</span><span class="n">MAXSIZE</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;validate_str&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;validate_len&quot;</span>

<div class="viewcode-block" id="String.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">)(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.validate_all"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate_all">[docs]</a>    <span class="k">def</span> <span class="nf">validate_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string in the specified length</span>
<span class="sd">            range which matches the specified regular expression.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">strx</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.validate_str"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate_str">[docs]</a>    <span class="k">def</span> <span class="nf">validate_str</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">strx</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.validate_len"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate_len">[docs]</a>    <span class="k">def</span> <span class="nf">validate_len</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string in the specified length</span>
<span class="sd">            range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">strx</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.validate_regex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate_regex">[docs]</a>    <span class="k">def</span> <span class="nf">validate_regex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string which matches the</span>
<span class="sd">            specified regular expression.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">strx</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">!=</span> <span class="n">six</span><span class="o">.</span><span class="n">MAXSIZE</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; between </span><span class="si">%d</span><span class="s2"> and </span><span class="si">%d</span><span class="s2"> characters long&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">!=</span> <span class="n">six</span><span class="o">.</span><span class="n">MAXSIZE</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; &lt;= </span><span class="si">%d</span><span class="s2"> characters long&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; &gt;= </span><span class="si">%d</span><span class="s2"> characters long&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; and&quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; matching the pattern &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span>
        <span class="k">return</span> <span class="s2">&quot;a string&quot;</span> <span class="o">+</span> <span class="n">msg</span></div>

<div class="viewcode-block" id="String.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">default_text_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the current state of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;validate&quot;</span><span class="p">,</span> <span class="s2">&quot;match&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">result</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the current state of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">()</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Regex&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Regex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Regex">[docs]</a><span class="k">class</span> <span class="nc">Regex</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value is a Python string that matches a specified</span>
<span class="sd">        regular expression.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="s2">&quot;.*&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a Regex trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str</span>
<span class="sd">            The default value of the trait.</span>
<span class="sd">        regex : str</span>
<span class="sd">            The regular expression that the trait value must match.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        *value* or &#39;&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Regex</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="n">regex</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Code&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Code"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Code">[docs]</a><span class="k">class</span> <span class="nc">Code</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value is a Python string that represents source</span>
<span class="sd">        code in some language.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;editor&quot;</span><span class="p">:</span> <span class="n">code_editor</span><span class="p">}</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;HTML&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="HTML"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.HTML">[docs]</a><span class="k">class</span> <span class="nc">HTML</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a string that is interpreted as</span>
<span class="sd">    being HTML. By default the value is parsed and displayed as HTML in</span>
<span class="sd">    TraitsUI views. The validation of the value does not enforce HTML syntax.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;editor&quot;</span><span class="p">:</span> <span class="n">html_editor</span><span class="p">}</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Password&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Password"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Password">[docs]</a><span class="k">class</span> <span class="nc">Password</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a string, optionally of constrained</span>
<span class="sd">    length or matching a regular expression.</span>

<span class="sd">    The trait is identical to a String trait except that by default it uses a</span>
<span class="sd">    PasswordEditor in TraitsUI views, which obscures text entered by the user.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;editor&quot;</span><span class="p">:</span> <span class="n">password_editor</span><span class="p">}</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Callable&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Callable"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Callable">[docs]</a><span class="k">class</span> <span class="nc">Callable</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python callable.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;copy&quot;</span><span class="p">:</span> <span class="s2">&quot;ref&quot;</span><span class="p">}</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a callable value&quot;</span>

<div class="viewcode-block" id="Callable.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Callable.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a Python callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="n">callable</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseType&#39; base class:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseType"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseType">[docs]</a><span class="k">class</span> <span class="nc">BaseType</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be an instance of a simple Python type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseType.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseType.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a Python callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="This"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.This">[docs]</a><span class="k">class</span> <span class="nc">This</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be an instance of the defining class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;an instance of the same type as the receiver&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">This</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">allow_none</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_none</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info_none</span>

<div class="viewcode-block" id="This.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.This.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">validate_none</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="This.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.This.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;an instance of the same type as the receiver&quot;</span></div>

    <span class="k">def</span> <span class="nf">info_none</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;an instance of the same type as the receiver or None&quot;</span>

    <span class="k">def</span> <span class="nf">validate_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">kind</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_py2to3</span><span class="o">.</span><span class="n">is_InstanceType</span><span class="p">(</span><span class="n">kind</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;class </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> (i.e. </span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">kind</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nb">repr</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span></div>


<div class="viewcode-block" id="self"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.self">[docs]</a><span class="k">class</span> <span class="nc">self</span><span class="p">(</span><span class="n">This</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be an instance of the defining class</span>
<span class="sd">        and whose default value is the object containing the trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value type to use (i.e. &#39;self&#39;):</span>
    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">OBJECT_DEFAULT_VALUE</span></div>


<div class="viewcode-block" id="Function"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Function">[docs]</a><span class="k">class</span> <span class="nc">Function</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python function.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">FunctionType</span><span class="p">)</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a function&quot;</span></div>


<div class="viewcode-block" id="Method"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Method">[docs]</a><span class="k">class</span> <span class="nc">Method</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python method.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">MethodType</span><span class="p">)</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a method&quot;</span></div>


<div class="viewcode-block" id="Module"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Module">[docs]</a><span class="k">class</span> <span class="nc">Module</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a Python module.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">ModuleType</span><span class="p">)</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a module&quot;</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Python&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Python"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Python">[docs]</a><span class="k">class</span> <span class="nc">Python</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait that provides behavior identical to a standard Python</span>
<span class="sd">        attribute. That is, it allows any value to be assigned, and raises an</span>
<span class="sd">        ValueError if an attempt is made to get the value before one has been</span>
<span class="sd">        assigned. It has no default value. This trait is most often used in</span>
<span class="sd">        conjunction with wildcard naming. See the *Traits User Manual* for</span>
<span class="sd">        details on wildcards.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;python&quot;</span><span class="p">}</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="n">Undefined</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;ReadOnly&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="ReadOnly"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ReadOnly">[docs]</a><span class="k">class</span> <span class="nc">ReadOnly</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait that is write-once, and then read-only.</span>
<span class="sd">        The initial value of the attribute is the special, singleton object</span>
<span class="sd">        Undefined. The trait allows any value to be assigned to the attribute</span>
<span class="sd">        if the current value is the Undefined object. Once any other value is</span>
<span class="sd">        assigned, no further assignment is allowed. Normally, the initial</span>
<span class="sd">        assignment to the attribute is performed in the class constructor,</span>
<span class="sd">        based on information passed to the constructor. If the read-only value</span>
<span class="sd">        is known in advance of run time, use the Constant() function instead of</span>
<span class="sd">        ReadOnly to define the trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Defines the CTrait type to use for this trait:</span>
    <span class="n">ctrait_type</span> <span class="o">=</span> <span class="mi">6</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="n">Undefined</span></div>


<span class="c1"># Create a singleton instance as the trait:</span>
<span class="n">ReadOnly</span> <span class="o">=</span> <span class="n">ReadOnly</span><span class="p">()</span>

<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Disallow&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Disallow"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Disallow">[docs]</a><span class="k">class</span> <span class="nc">Disallow</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait that prevents any value from being assigned or read.</span>
<span class="sd">        That is, any attempt to get or set the value of the trait attribute</span>
<span class="sd">        raises an exception. This trait is most often used in conjunction with</span>
<span class="sd">        wildcard naming, for example, to catch spelling mistakes in attribute</span>
<span class="sd">        names. See the *Traits User Manual* for details on wildcards.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: Defines the CTrait type to use for this trait:</span>
    <span class="n">ctrait_type</span> <span class="o">=</span> <span class="mi">5</span></div>


<span class="c1"># Create a singleton instance as the trait:</span>
<span class="n">Disallow</span> <span class="o">=</span> <span class="n">Disallow</span><span class="p">()</span>

<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Constant&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Constant"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Constant">[docs]</a><span class="k">class</span> <span class="nc">Constant</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;  Defines a trait whose value is a constant.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: Defines the CTrait type to use for this trait:</span>
    <span class="n">ctrait_type</span> <span class="o">=</span> <span class="mi">7</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;constant&quot;</span><span class="p">,</span> <span class="s2">&quot;transient&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a constant, read-only trait whose value is *value*.</span>

<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            value : any type except a list or dictionary</span>
<span class="sd">                The default value for the trait.</span>

<span class="sd">            Default Value</span>
<span class="sd">            -------------</span>
<span class="sd">            *value*</span>

<span class="sd">            Description</span>
<span class="sd">            -----------</span>
<span class="sd">            Traits of this type are very space efficient (and fast) because</span>
<span class="sd">            *value* is not stored in each instance using the trait, but only in</span>
<span class="sd">            the trait object itself. The *value* cannot be a list or dictionary,</span>
<span class="sd">            because those types have mutable values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">MutableTypes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;Cannot define a constant using a mutable list or dictionary&quot;</span>
            <span class="p">)</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Constant</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Delegate&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Delegate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Delegate">[docs]</a><span class="k">class</span> <span class="nc">Delegate</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value is delegated to a trait on another object.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: Defines the CTrait type to use for this trait:</span>
    <span class="n">ctrait_type</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;delegate&quot;</span><span class="p">,</span> <span class="s2">&quot;transient&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">modify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">listenable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a Delegate trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">prefix_type</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="n">prefix</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s2">&quot;*&quot;</span><span class="p">:</span>
            <span class="n">prefix_type</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">prefix</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">prefix_type</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">prefix_type</span> <span class="o">=</span> <span class="mi">3</span>

        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;_delegate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">delegate</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;_prefix&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prefix</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;_listenable&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listenable</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Delegate</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">delegate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_type</span> <span class="o">=</span> <span class="n">prefix_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modify</span> <span class="o">=</span> <span class="n">modify</span>

<div class="viewcode-block" id="Delegate.as_ctrait"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Delegate.as_ctrait">[docs]</a>    <span class="k">def</span> <span class="nf">as_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a CTrait corresponding to the trait defined by this class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">trait</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Delegate</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span>
        <span class="n">trait</span><span class="o">.</span><span class="n">delegate</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">modify</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">trait</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;DelegatesTo&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="DelegatesTo"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.DelegatesTo">[docs]</a><span class="k">class</span> <span class="nc">DelegatesTo</span><span class="p">(</span><span class="n">Delegate</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait delegate that matches the standard &#39;delegate&#39; design</span>
<span class="sd">        pattern.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">listenable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a &quot;delegator&quot; trait, whose definition and default value are</span>
<span class="sd">            delegated to a *delegate* trait attribute on another object.</span>

<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            delegate : str</span>
<span class="sd">                Name of the attribute on the current object which references</span>
<span class="sd">                the object that is the trait&#39;s delegate.</span>
<span class="sd">            prefix : str</span>
<span class="sd">                A prefix or substitution applied to the original attribute when</span>
<span class="sd">                looking up the delegated attribute.</span>
<span class="sd">            listenable : bool</span>
<span class="sd">                Indicates whether a listener can be attached to this attribute</span>
<span class="sd">                such that changes to the delagate attribute will trigger it.</span>

<span class="sd">            Description</span>
<span class="sd">            -----------</span>
<span class="sd">            An object containing a delegator trait attribute must contain a</span>
<span class="sd">            second attribute that references the object containing the delegate</span>
<span class="sd">            trait attribute. The name of this second attribute is passed as the</span>
<span class="sd">            *delegate* argument to the DelegatesTo() function.</span>

<span class="sd">            The following rules govern the application of the prefix parameter:</span>

<span class="sd">            * If *prefix* is empty or omitted, the delegation is to an attribute</span>
<span class="sd">              of the delegate object with the same name as the delegator</span>
<span class="sd">              attribute.</span>
<span class="sd">            * If *prefix* is a valid Python attribute name, then the delegation</span>
<span class="sd">              is to an attribute whose name is the value of *prefix*.</span>
<span class="sd">            * If *prefix* ends with an asterisk (&#39;*&#39;) and is longer than one</span>
<span class="sd">              character, then the delegation is to an attribute whose name is</span>
<span class="sd">              the value of *prefix*, minus the trailing asterisk, prepended to</span>
<span class="sd">              the delegator attribute name.</span>
<span class="sd">            * If *prefix* is equal to a single asterisk, the delegation is to an</span>
<span class="sd">              attribute whose name is the value of the delegator object&#39;s</span>
<span class="sd">              __prefix__ attribute prepended to delegator attribute name.</span>

<span class="sd">            Note that any changes to the delegator attribute are actually</span>
<span class="sd">            applied to the corresponding attribute on the delegate object. The</span>
<span class="sd">            original object containing the delegator trait is not modified.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DelegatesTo</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">delegate</span><span class="p">,</span>
            <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
            <span class="n">modify</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">listenable</span><span class="o">=</span><span class="n">listenable</span><span class="p">,</span>
            <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;PrototypedFrom&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="PrototypedFrom"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PrototypedFrom">[docs]</a><span class="k">class</span> <span class="nc">PrototypedFrom</span><span class="p">(</span><span class="n">Delegate</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait delegate that matches the standard &#39;prototype&#39; design</span>
<span class="sd">        pattern.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prototype</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">listenable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a &quot;prototyped&quot; trait, whose definition and default value are</span>
<span class="sd">            obtained from a trait attribute on another object.</span>

<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            prototype : str</span>
<span class="sd">                Name of the attribute on the current object which references the</span>
<span class="sd">                object that is the trait&#39;s prototype.</span>
<span class="sd">            prefix : str</span>
<span class="sd">                A prefix or substitution applied to the original attribute when</span>
<span class="sd">                looking up the prototyped attribute.</span>
<span class="sd">            listenable : bool</span>
<span class="sd">                Indicates whether a listener can be attached to this attribute</span>
<span class="sd">                such that changes to the corresponding attribute on the</span>
<span class="sd">                prototype object will trigger it.</span>

<span class="sd">            Description</span>
<span class="sd">            -----------</span>
<span class="sd">            An object containing a prototyped trait attribute must contain a</span>
<span class="sd">            second attribute that references the object containing the prototype</span>
<span class="sd">            trait attribute. The name of this second attribute is passed as the</span>
<span class="sd">            *prototype* argument to the PrototypedFrom() function.</span>

<span class="sd">            The following rules govern the application of the prefix parameter:</span>

<span class="sd">            * If *prefix* is empty or omitted, the prototype delegation is to an</span>
<span class="sd">              attribute of the prototype object with the same name as the</span>
<span class="sd">              prototyped attribute.</span>
<span class="sd">            * If *prefix* is a valid Python attribute name, then the prototype</span>
<span class="sd">              delegation is to an attribute whose name is the value of *prefix*.</span>
<span class="sd">            * If *prefix* ends with an asterisk (&#39;*&#39;) and is longer than one</span>
<span class="sd">              character, then the prototype delegation is to an attribute whose</span>
<span class="sd">              name is the value of *prefix*, minus the trailing asterisk,</span>
<span class="sd">              prepended to the prototyped attribute name.</span>
<span class="sd">            * If *prefix* is equal to a single asterisk, the prototype</span>
<span class="sd">              delegation is to an attribute whose name is the value of the</span>
<span class="sd">              prototype object&#39;s __prefix__ attribute prepended to the</span>
<span class="sd">              prototyped attribute name.</span>

<span class="sd">            Note that any changes to the prototyped attribute are made to the</span>
<span class="sd">            original object, not the prototype object. The prototype object is</span>
<span class="sd">            only used to define to trait type and default value.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PrototypedFrom</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">prototype</span><span class="p">,</span>
            <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
            <span class="n">modify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">listenable</span><span class="o">=</span><span class="n">listenable</span><span class="p">,</span>
            <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Expression&#39; class:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Expression"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression">[docs]</a><span class="k">class</span> <span class="nc">Expression</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a valid Python expression. The</span>
<span class="sd">        compiled form of a valid expression is stored as the mapped value of</span>
<span class="sd">        the trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a valid Python expression&quot;</span>

    <span class="c1">#: Indicate that this is a mapped trait:</span>
    <span class="n">is_mapped</span> <span class="o">=</span> <span class="kc">True</span>

<div class="viewcode-block" id="Expression.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">compile</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Expression.post_setattr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression.post_setattr">[docs]</a>    <span class="k">def</span> <span class="nf">post_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Performs additional post-assignment processing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span></div>

<div class="viewcode-block" id="Expression.mapped_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression.mapped_value">[docs]</a>    <span class="k">def</span> <span class="nf">mapped_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the &#39;mapped&#39; value for the specified **value**.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">compile</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Expression.as_ctrait"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression.as_ctrait">[docs]</a>    <span class="k">def</span> <span class="nf">as_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a CTrait corresponding to the trait defined by this class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Tell the C code that &#39;setattr&#39; should store the original, unadapted</span>
        <span class="c1"># value passed to it:</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">Expression</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span><span class="o">.</span><span class="n">setattr_original_value</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;PythonValue&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="PythonValue"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PythonValue">[docs]</a><span class="k">class</span> <span class="nc">PythonValue</span><span class="p">(</span><span class="n">Any</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value can be of any type, and whose default</span>
<span class="sd">    editor is a Python shell.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;editor&quot;</span><span class="p">:</span> <span class="n">shell_editor</span><span class="p">}</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseFile&#39; and &#39;File&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseFile"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFile">[docs]</a><span class="k">class</span> <span class="nc">BaseFile</span><span class="p">(</span><span class="n">BaseStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be the name of a file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a file name&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nb">filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_set</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">entries</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a File trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str</span>
<span class="sd">            The default value for the trait.</span>
<span class="sd">        filter : str</span>
<span class="sd">            A wildcard string to filter filenames in the file dialog box used by</span>
<span class="sd">            the attribute trait editor.</span>
<span class="sd">        auto_set : bool</span>
<span class="sd">            Indicates whether the file editor updates the trait value after</span>
<span class="sd">            every key stroke.</span>
<span class="sd">        exists : bool</span>
<span class="sd">            Indicates whether the trait value must be an existing file or</span>
<span class="sd">            not.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        *value* or &#39;&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="nb">filter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span> <span class="o">=</span> <span class="n">auto_set</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="o">=</span> <span class="n">entries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exists</span> <span class="o">=</span> <span class="n">exists</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">BaseFile</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="BaseFile.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFile.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">validated_value</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">BaseFile</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">validated_value</span>
        <span class="k">elif</span> <span class="n">isfile</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">validated_value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseFile.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFile.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">traitsui.editors.file_editor</span> <span class="k">import</span> <span class="n">FileEditor</span>

        <span class="n">editor</span> <span class="o">=</span> <span class="n">FileEditor</span><span class="p">(</span>
            <span class="nb">filter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="ow">or</span> <span class="p">[],</span>
            <span class="n">auto_set</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span><span class="p">,</span>
            <span class="n">entries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">,</span>
            <span class="n">dialog_style</span><span class="o">=</span><span class="s2">&quot;open&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exists</span> <span class="k">else</span> <span class="s2">&quot;save&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">editor</span></div></div>


<div class="viewcode-block" id="File"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.File">[docs]</a><span class="k">class</span> <span class="nc">File</span><span class="p">(</span><span class="n">BaseFile</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be the name of a file using a C-level</span>
<span class="sd">        fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nb">filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_set</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">entries</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a File trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str</span>
<span class="sd">            The default value for the trait.</span>
<span class="sd">        filter : str</span>
<span class="sd">            A wildcard string to filter filenames in the file dialog box used</span>
<span class="sd">            by the attribute trait editor.</span>
<span class="sd">        auto_set : bool</span>
<span class="sd">            Indicates whether the file editor updates the trait value after</span>
<span class="sd">            every key stroke.</span>
<span class="sd">        exists : bool</span>
<span class="sd">            Indicates whether the trait value must be an existing file or</span>
<span class="sd">            not.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        *value* or &#39;&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">:</span>
            <span class="c1"># Define the C-level fast validator to use:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,)</span> <span class="o">+</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">File</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">value</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">auto_set</span><span class="p">,</span> <span class="n">entries</span><span class="p">,</span> <span class="n">exists</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseDirectory&#39; and &#39;Directory&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseDirectory"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseDirectory">[docs]</a><span class="k">class</span> <span class="nc">BaseDirectory</span><span class="p">(</span><span class="n">BaseStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be the name of a directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a directory name&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">auto_set</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">entries</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a BaseDirectory trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str</span>
<span class="sd">            The default value for the trait.</span>
<span class="sd">        auto_set : bool</span>
<span class="sd">            Indicates whether the directory editor updates the trait value</span>
<span class="sd">            after every key stroke.</span>
<span class="sd">        exists : bool</span>
<span class="sd">            Indicates whether the trait value must be an existing directory or</span>
<span class="sd">            not.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        *value* or &#39;&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="o">=</span> <span class="n">entries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span> <span class="o">=</span> <span class="n">auto_set</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exists</span> <span class="o">=</span> <span class="n">exists</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">BaseDirectory</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="BaseDirectory.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseDirectory.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">validated_value</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">BaseDirectory</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span>
            <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">validated_value</span>
        <span class="k">elif</span> <span class="n">isdir</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">validated_value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseDirectory.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseDirectory.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">traitsui.editors.directory_editor</span> <span class="k">import</span> <span class="n">DirectoryEditor</span>

        <span class="n">editor</span> <span class="o">=</span> <span class="n">DirectoryEditor</span><span class="p">(</span><span class="n">auto_set</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">entries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">editor</span></div></div>


<div class="viewcode-block" id="Directory"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Directory">[docs]</a><span class="k">class</span> <span class="nc">Directory</span><span class="p">(</span><span class="n">BaseDirectory</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be the name of a directory using a</span>
<span class="sd">        C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">auto_set</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">entries</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a Directory trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : str</span>
<span class="sd">            The default value for the trait.</span>
<span class="sd">        auto_set : bool</span>
<span class="sd">            Indicates whether the directory editor updates the trait value</span>
<span class="sd">            after every key stroke.</span>
<span class="sd">        exists : bool</span>
<span class="sd">            Indicates whether the trait value must be an existing directory or</span>
<span class="sd">            not.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        *value* or &#39;&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Define the C-level fast validator to use if the directory existence</span>
        <span class="c1">#: test is not required:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,)</span> <span class="o">+</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Directory</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">value</span><span class="p">,</span> <span class="n">auto_set</span><span class="p">,</span> <span class="n">entries</span><span class="p">,</span> <span class="n">exists</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseRange&#39; and &#39;Range&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseRange"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange">[docs]</a><span class="k">class</span> <span class="nc">BaseRange</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose numeric value must be in a specified range.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">low</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">high</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exclude_low</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">exclude_high</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a Range trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        low : integer, float or string (i.e. extended trait name)</span>
<span class="sd">            The low end of the range.</span>
<span class="sd">        high : integer, float or string (i.e. extended trait name)</span>
<span class="sd">            The high end of the range.</span>
<span class="sd">        value : integer, float or string (i.e. extended trait name)</span>
<span class="sd">            The default value of the trait.</span>
<span class="sd">        exclude_low : bool</span>
<span class="sd">            Indicates whether the low end of the range is exclusive.</span>
<span class="sd">        exclude_high : bool</span>
<span class="sd">            Indicates whether the high end of the range is exclusive.</span>

<span class="sd">        The *low*, *high*, and *value* arguments must be of the same type</span>
<span class="sd">        (integer or float), except in the case where either *low* or *high* is</span>
<span class="sd">        a string (i.e. extended trait name).</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        *value*; if *value* is None or omitted, the default value is *low*,</span>
<span class="sd">        unless *low* is None or omitted, in which case the default value is</span>
<span class="sd">        *high*.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">low</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">high</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">BaseRange</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

        <span class="n">vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">vtype</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,)</span> <span class="o">+</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

        <span class="n">is_static</span> <span class="o">=</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">vtype</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_static</span> <span class="ow">and</span> <span class="p">(</span><span class="n">vtype</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">RangeTypes</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;Range can only be use for int, long or float &quot;</span>
                <span class="s2">&quot;values, but a value of type </span><span class="si">%s</span><span class="s2"> was specified.&quot;</span> <span class="o">%</span> <span class="n">vtype</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_low_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_high_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="o">=</span> <span class="n">Undefined</span>

        <span class="k">if</span> <span class="n">vtype</span> <span class="ow">is</span> <span class="nb">float</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;float_validate&quot;</span>
            <span class="n">kind</span> <span class="o">=</span> <span class="mi">4</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span> <span class="o">=</span> <span class="s2">&quot;a floating point number&quot;</span>
            <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">low</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">high</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">vtype</span> <span class="ow">is</span> <span class="n">LONG_TYPE</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;long_validate&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span> <span class="o">=</span> <span class="s2">&quot;a long integer&quot;</span>
            <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">low</span> <span class="o">=</span> <span class="n">LONG_TYPE</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">high</span> <span class="o">=</span> <span class="n">LONG_TYPE</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">vtype</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;int_validate&quot;</span>
            <span class="n">kind</span> <span class="o">=</span> <span class="mi">3</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span> <span class="o">=</span> <span class="s2">&quot;an integer&quot;</span>
            <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">low</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">high</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">,</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span> <span class="o">=</span> <span class="s2">&quot;a number&quot;</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">high</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_high_name</span> <span class="o">=</span> <span class="n">high</span> <span class="o">=</span> <span class="s2">&quot;object.&quot;</span> <span class="o">+</span> <span class="n">high</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
            <span class="n">high</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">high</span><span class="p">),</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_low_name</span> <span class="o">=</span> <span class="n">low</span> <span class="o">=</span> <span class="s2">&quot;object.&quot;</span> <span class="o">+</span> <span class="n">low</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>
            <span class="n">low</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">low</span><span class="p">),</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;object.&quot;</span> <span class="o">+</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">default_value_type</span> <span class="o">=</span> <span class="n">CALLABLE_DEFAULT_VALUE</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_default_value</span>

        <span class="n">exclude_mask</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">exclude_low</span><span class="p">:</span>
            <span class="n">exclude_mask</span> <span class="o">|=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">exclude_high</span><span class="p">:</span>
            <span class="n">exclude_mask</span> <span class="o">|=</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">is_static</span> <span class="ow">and</span> <span class="p">(</span><span class="n">vtype</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">LONG_TYPE</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validator</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">exclude_mask</span><span class="p">)</span>

        <span class="c1">#: Assign type-corrected arguments to handler attributes:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">=</span> <span class="n">low</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">=</span> <span class="n">high</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="o">=</span> <span class="n">exclude_low</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="o">=</span> <span class="n">exclude_high</span>

<div class="viewcode-block" id="BaseRange.init_fast_validator"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.init_fast_validator">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Does nothing for the BaseRange class. Used in the Range class to</span>
<span class="sd">            set up the fast validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="BaseRange.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate that the value is in the specified range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">)(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseRange.float_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.float_validate">[docs]</a>    <span class="k">def</span> <span class="nf">float_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate that the value is a float value in the specified range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">RangeTypes</span><span class="p">)</span>
                <span class="ow">and</span> <span class="p">(</span>
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">))</span>
                    <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;=</span> <span class="n">value</span><span class="p">))</span>
                <span class="p">)</span>
                <span class="ow">and</span> <span class="p">(</span>
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">))</span>
                    <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;=</span> <span class="n">value</span><span class="p">))</span>
                <span class="p">)</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseRange.int_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.int_validate">[docs]</a>    <span class="k">def</span> <span class="nf">int_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate that the value is an int value in the specified range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">int_fast_validate</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
                <span class="ow">and</span> <span class="p">(</span>
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">))</span>
                    <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;=</span> <span class="n">value</span><span class="p">))</span>
                <span class="p">)</span>
                <span class="ow">and</span> <span class="p">(</span>
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">))</span>
                    <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;=</span> <span class="n">value</span><span class="p">))</span>
                <span class="p">)</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseRange.long_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.long_validate">[docs]</a>    <span class="k">def</span> <span class="nf">long_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate that the value is a long value in the specified range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">valid_types</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">long_fast_validate</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
            <span class="n">valid_types</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">valid_types</span><span class="p">))</span>
                <span class="ow">and</span> <span class="p">(</span>
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">))</span>
                    <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;=</span> <span class="n">value</span><span class="p">))</span>
                <span class="p">)</span>
                <span class="ow">and</span> <span class="p">(</span>
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">))</span>
                    <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;=</span> <span class="n">value</span><span class="p">))</span>
                <span class="p">)</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default value of the range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">trait</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the current value of a dynamic range trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cname</span> <span class="o">=</span> <span class="s2">&quot;_traits_cache_&quot;</span> <span class="o">+</span> <span class="n">name</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cname</span><span class="p">,</span> <span class="n">Undefined</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">Undefined</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">)</span>

        <span class="n">low</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span><span class="p">)</span>
        <span class="n">high</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">value</span> <span class="o">&lt;</span> <span class="n">low</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">low</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">value</span> <span class="o">&gt;</span> <span class="n">high</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">high</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_typed_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the current value of a dynamic range trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">low</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span><span class="p">)</span>
                <span class="n">high</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">RangeTypes</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_set_value</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                        <span class="k">return</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_typed_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="p">(</span><span class="n">low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="ow">and</span> <span class="p">(</span><span class="n">low</span> <span class="o">&lt;</span> <span class="n">new_value</span><span class="p">))</span>
                        <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">low</span> <span class="o">&lt;=</span> <span class="n">new_value</span><span class="p">))</span>
                    <span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
                        <span class="p">(</span><span class="n">high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="ow">and</span> <span class="p">(</span><span class="n">high</span> <span class="o">&gt;</span> <span class="n">new_value</span><span class="p">))</span>
                        <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">high</span> <span class="o">&gt;=</span> <span class="n">new_value</span><span class="p">))</span>
                    <span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_set_value</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">new_value</span><span class="p">)</span>
                        <span class="k">return</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_typed_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the specified value with the correct type for the current</span>
<span class="sd">            dynamic range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span>
        <span class="k">if</span> <span class="n">vtype</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">vtype</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>

        <span class="k">return</span> <span class="n">vtype</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the specified value as the value of the dynamic range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cname</span> <span class="o">=</span> <span class="s2">&quot;_traits_cache_&quot;</span> <span class="o">+</span> <span class="n">name</span>
        <span class="n">old</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cname</span><span class="p">,</span> <span class="n">Undefined</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">old</span> <span class="ow">is</span> <span class="n">Undefined</span><span class="p">:</span>
            <span class="n">old</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">)</span>
        <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="n">old</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="n">trait_property_changed</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">old</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="BaseRange.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Undefined</span><span class="p">:</span>
            <span class="n">low</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span><span class="p">)</span>
            <span class="n">high</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span><span class="p">)</span>
            <span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_typed_value</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_typed_value</span><span class="p">(</span><span class="n">high</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">low</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_low</span>
            <span class="n">high</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_high</span>

        <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span>

            <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &lt;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span><span class="p">,</span>
                <span class="s2">&quot;=&quot;</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="p">:],</span>
                <span class="n">high</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="n">high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &gt;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span><span class="p">,</span>
                <span class="s2">&quot;=&quot;</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="p">:],</span>
                <span class="n">low</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &lt;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> &lt;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">low</span><span class="p">,</span>
            <span class="s2">&quot;=&quot;</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="p">:],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span><span class="p">,</span>
            <span class="s2">&quot;=&quot;</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="p">:],</span>
            <span class="n">high</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseRange.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># fixme: Needs to support a dynamic range editor.</span>

        <span class="n">auto_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span>
        <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">RangeEditor</span>

        <span class="k">return</span> <span class="n">RangeEditor</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="ow">or</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
            <span class="n">cols</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="ow">or</span> <span class="mi">3</span><span class="p">,</span>
            <span class="n">auto_set</span><span class="o">=</span><span class="n">auto_set</span><span class="p">,</span>
            <span class="n">enter_set</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">low_label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">low</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">high_label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">low_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_low_name</span><span class="p">,</span>
            <span class="n">high_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_high_name</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="Range"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Range">[docs]</a><span class="k">class</span> <span class="nc">Range</span><span class="p">(</span><span class="n">BaseRange</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose numeric value must be in a specified range using</span>
<span class="sd">        a C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Range.init_fast_validator"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Range.init_fast_validator">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Set up the C-level fast validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="n">args</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseEnum&#39; and &#39;Enum&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseEnum"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum">[docs]</a><span class="k">class</span> <span class="nc">BaseEnum</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be one of a specified set of values.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns an Enum trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        values : list or tuple</span>
<span class="sd">            The enumeration of all legal values for the trait</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        values[0]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">default_value</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                    <span class="s2">&quot;Incorrect number of arguments specified &quot;</span>
                    <span class="s2">&quot;when using the &#39;values&#39; keyword&quot;</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">values</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="s2">&quot;object.&quot;</span> <span class="o">+</span> <span class="n">values</span><span class="p">,</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">,</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">default_value</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="n">SequenceTypes</span><span class="p">):</span>
                <span class="n">args</span> <span class="o">=</span> <span class="n">default_value</span>
                <span class="n">default_value</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">elif</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">SequenceTypes</span><span class="p">):</span>
                <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validator</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">BaseEnum</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="BaseEnum.init_fast_validator"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum.init_fast_validator">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Does nothing for the BaseEnum class. Used in the Enum class to set</span>
<span class="sd">            up the fast validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="BaseEnum.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is one of the enumerated set of valid</span>
<span class="sd">            values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseEnum.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot; or &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">values</span><span class="p">])</span></div>

<div class="viewcode-block" id="BaseEnum.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">EnumEditor</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">EnumEditor</span><span class="p">(</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">cols</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="ow">or</span> <span class="mi">3</span><span class="p">,</span>
            <span class="n">evaluate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluate</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="ow">or</span> <span class="s2">&quot;radio&quot;</span><span class="p">,</span>
        <span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">trait</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the current value of a dynamic enum trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">trait</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the current value of a dynamic range trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="Enum"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Enum">[docs]</a><span class="k">class</span> <span class="nc">Enum</span><span class="p">(</span><span class="n">BaseEnum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be one of a specified set of values</span>
<span class="sd">        using a C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Enum.init_fast_validator"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Enum.init_fast_validator">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Set up the C-level fast validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="n">args</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseTuple&#39; and &#39;Tuple&#39; and &#39;ValidatedTuple&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="BaseTuple"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple">[docs]</a><span class="k">class</span> <span class="nc">BaseTuple</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a tuple of specified trait types.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseTuple.__init__"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">types</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a Tuple trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        types : zero or more arguments</span>
<span class="sd">            Definition of the default and allowed tuples. If the first item of</span>
<span class="sd">            *types* is a tuple, it is used as the default value.</span>
<span class="sd">            The remaining argument list is used to form a tuple that constrains</span>
<span class="sd">            the  values assigned to the returned trait. The trait&#39;s value must</span>
<span class="sd">            be a tuple of the same length as the remaining argument list, whose</span>
<span class="sd">            elements must match the types specified by the corresponding items</span>
<span class="sd">            of the remaining argument list.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        1. If no arguments are specified, the default value is ().</span>
<span class="sd">        2. If a tuple is specified as the first argument, it is the default</span>
<span class="sd">           value.</span>
<span class="sd">        3. If a tuple is not specified as the first argument, the default</span>
<span class="sd">           value is a tuple whose length is the length of the argument list,</span>
<span class="sd">           and whose values are the default values for the corresponding trait</span>
<span class="sd">           types.</span>

<span class="sd">        Example for case #2::</span>

<span class="sd">            mytuple = Tuple((&#39;Fred&#39;, &#39;Betty&#39;, 5))</span>

<span class="sd">        The trait&#39;s value must be a 3-element tuple whose first and second</span>
<span class="sd">        elements are strings, and whose third element is an integer. The</span>
<span class="sd">        default value is ``(&#39;Fred&#39;, &#39;Betty&#39;, 5)``.</span>

<span class="sd">        Example for case #3::</span>

<span class="sd">            mytuple = Tuple(&#39;Fred&#39;, &#39;Betty&#39;, 5)</span>

<span class="sd">        The trait&#39;s value must be a 3-element tuple whose first and second</span>
<span class="sd">        elements are strings, and whose third element is an integer. The</span>
<span class="sd">        default value is ``(&#39;&#39;,&#39;&#39;,0)``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validator</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>

            <span class="nb">super</span><span class="p">(</span><span class="n">BaseTuple</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">((),</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

            <span class="k">return</span>

        <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">types</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">default_value</span><span class="p">,</span> <span class="n">types</span> <span class="o">=</span> <span class="n">types</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">types</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="n">Trait</span><span class="p">(</span><span class="n">element</span><span class="p">)</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">default_value</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">types</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="n">trait_from</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span> <span class="k">for</span> <span class="nb">type</span> <span class="ow">in</span> <span class="n">types</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validator</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">default_value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">default_value</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
                <span class="p">[</span><span class="nb">type</span><span class="o">.</span><span class="n">default_value</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="nb">type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">BaseTuple</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseTuple.init_fast_validator"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple.init_fast_validator">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Saves the validation parameters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_type_check</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">11</span></div>

<div class="viewcode-block" id="BaseTuple.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid tuple.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">no_type_check</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">types</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">types</span><span class="p">):</span>
                    <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="nb">type</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">types</span><span class="p">):</span>
                        <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">type</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>

                    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseTuple.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">no_type_check</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;a tuple&quot;</span>

        <span class="k">return</span> <span class="s2">&quot;a tuple of the form: (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span><span class="nb">type</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="nb">type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseTuple.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TupleEditor</span>

        <span class="n">auto_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span>
        <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">enter_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">TupleEditor</span><span class="p">(</span>
            <span class="n">types</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="ow">or</span> <span class="p">[],</span>
            <span class="n">cols</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="ow">or</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">auto_set</span><span class="o">=</span><span class="n">auto_set</span><span class="p">,</span>
            <span class="n">enter_set</span><span class="o">=</span><span class="n">enter_set</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="Tuple"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Tuple">[docs]</a><span class="k">class</span> <span class="nc">Tuple</span><span class="p">(</span><span class="n">BaseTuple</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a tuple of specified trait types</span>
<span class="sd">        using a C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Tuple.init_fast_validator"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Tuple.init_fast_validator">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Set up the C-level fast validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Tuple</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">init_fast_validator</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="n">args</span></div></div>


<div class="viewcode-block" id="ValidatedTuple"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ValidatedTuple">[docs]</a><span class="k">class</span> <span class="nc">ValidatedTuple</span><span class="p">(</span><span class="n">BaseTuple</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A Tuple trait that supports custom validation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="ValidatedTuple.__init__"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ValidatedTuple.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">types</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a ValidatedTuple trait</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        types : zero or more arguments</span>
<span class="sd">            Definition of the default and allowed tuples. (see</span>
<span class="sd">            :class:`~.BaseTuple` for more details)</span>
<span class="sd">        fvalidate : callable, optional</span>
<span class="sd">            A callable to provide the additional custom validation for the</span>
<span class="sd">            tuple. The callable will be passed the tuple value and should</span>
<span class="sd">            return True or False.</span>
<span class="sd">        fvalidate_info : string, optional</span>
<span class="sd">            A string describing the custom validation to use for the error</span>
<span class="sd">            messages.</span>

<span class="sd">        For example::</span>

<span class="sd">          value_range = ValidatedTuple(Int(0), Int(1), fvalidate=lambda x: x[0] &lt; x[1])</span>

<span class="sd">        This definition will accept only tuples ``(a, b)`` containing two integers</span>
<span class="sd">        that satisfy ``a &lt; b``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;fvalidate&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;fvalidate_info&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ValidatedTuple</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">types</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span></div>

<div class="viewcode-block" id="ValidatedTuple.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ValidatedTuple.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid tuple.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">values</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">ValidatedTuple</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="c1"># Exceptions in the fvalidate function will not result in a TraitError</span>
        <span class="c1"># but will be allowed to propagate up the frame stacks.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fvalidate</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">fvalidate</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">values</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="ValidatedTuple.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ValidatedTuple.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;a tuple of the form: (</span><span class="si">{0}</span><span class="s2">) that passes custom validation</span><span class="si">{1}</span><span class="s2">&quot;</span>
        <span class="n">types_info</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">[</span><span class="n">type_</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fvalidate_info</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fvalidate_info</span> <span class="o">=</span> <span class="s2">&quot;: </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fvalidate_info</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fvalidate_info</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">types_info</span><span class="p">,</span> <span class="n">fvalidate_info</span><span class="p">)</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;List&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="List"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List">[docs]</a><span class="k">class</span> <span class="nc">List</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a list whose items are of the</span>
<span class="sd">        specified trait type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">info_trait</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">TRAIT_LIST_OBJECT_DEFAULT_VALUE</span>
    <span class="n">_items_event</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">minlen</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">maxlen</span><span class="o">=</span><span class="n">six</span><span class="o">.</span><span class="n">MAXSIZE</span><span class="p">,</span>
        <span class="n">items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a List trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        trait : a trait or value that can be converted to a trait using Trait()</span>
<span class="sd">            The type of item that the list contains. If not specified, the list</span>
<span class="sd">            can contain items of any type.</span>
<span class="sd">        value : list</span>
<span class="sd">            Default value for the list.</span>
<span class="sd">        minlen : integer</span>
<span class="sd">            The minimum length of a list that can be assigned to the trait.</span>
<span class="sd">        maxlen : integer</span>
<span class="sd">            The maximum length of a list that can be assigned to the trait.</span>

<span class="sd">        The length of the list assigned to the trait must be such that::</span>

<span class="sd">            minlen &lt;= len(list) &lt;= maxlen</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        *value* or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;deep&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">trait</span><span class="p">,</span> <span class="n">SequenceTypes</span><span class="p">):</span>
            <span class="n">trait</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">minlen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">minlen</span><span class="p">,</span> <span class="n">maxlen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_items</span> <span class="o">=</span> <span class="n">items</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">instance_handler</span> <span class="o">==</span> <span class="s2">&quot;_instance_changed_handler&quot;</span><span class="p">:</span>
            <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;instance_handler&quot;</span><span class="p">,</span> <span class="s2">&quot;_list_changed_handler&quot;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">List</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="List.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the values is a valid list.</span>

<span class="sd">        .. note::</span>

<span class="sd">            `object` can be None when validating a default value (see e.g.</span>
<span class="sd">            :meth:`~traits.trait_handlers.TraitType.clone`)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="nb">object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>

            <span class="k">return</span> <span class="n">TraitListObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="List.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">==</span> <span class="n">six</span><span class="o">.</span><span class="n">MAXSIZE</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;items&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;at most </span><span class="si">%d</span><span class="s2"> items&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">==</span> <span class="n">six</span><span class="o">.</span><span class="n">MAXSIZE</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;at least </span><span class="si">%d</span><span class="s2"> items&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;from </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2"> items&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;a list of </span><span class="si">%s</span><span class="s2"> which are </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">size</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="List.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">list_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="List.inner_traits"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List.inner_traits">[docs]</a>    <span class="k">def</span> <span class="nf">inner_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the *inner trait* (or traits) for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="p">,)</span></div>

    <span class="c1"># -- Private Methods --------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">items_event</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">items_event</span><span class="p">()</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;CList&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="CList"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CList">[docs]</a><span class="k">class</span> <span class="nc">CList</span><span class="p">(</span><span class="n">List</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose values must be a list whose items are of the</span>
<span class="sd">        specified trait type or which can be coerced to a list whose values are</span>
<span class="sd">        of the specified trait type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CList.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CList.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the values is a valid list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Should work for all iterables as well as strings (which do</span>
                <span class="c1"># not define an __iter__ method)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">CList</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="CList.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CList.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
            <span class="nb">super</span><span class="p">(</span><span class="n">CList</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
        <span class="p">)</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Set&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Set"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set">[docs]</a><span class="k">class</span> <span class="nc">Set</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a set whose items are of the</span>
<span class="sd">        specified trait type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">info_trait</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">TRAIT_SET_OBJECT_DEFAULT_VALUE</span>
    <span class="n">_items_event</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a Set trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        trait : a trait or value that can be converted to a trait using Trait()</span>
<span class="sd">            The type of item that the list contains. If not specified, the list</span>
<span class="sd">            can contain items of any type.</span>
<span class="sd">        value : set</span>
<span class="sd">            Default value for the set.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        *value* or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;deep&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">trait</span><span class="p">,</span> <span class="n">SetTypes</span><span class="p">):</span>
            <span class="n">trait</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">,</span> <span class="nb">set</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_items</span> <span class="o">=</span> <span class="n">items</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Set</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="Set.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the values is a valid set.</span>

<span class="sd">        .. note::</span>

<span class="sd">            `object` can be None when validating a default value (see e.g.</span>
<span class="sd">            :meth:`~traits.trait_handlers.TraitType.clone`)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>

            <span class="k">return</span> <span class="n">TraitSetObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Set.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;a set of </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Set.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TextEditor</span>

        <span class="k">return</span> <span class="n">TextEditor</span><span class="p">(</span><span class="n">evaluate</span><span class="o">=</span><span class="nb">eval</span><span class="p">)</span></div>

<div class="viewcode-block" id="Set.inner_traits"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set.inner_traits">[docs]</a>    <span class="k">def</span> <span class="nf">inner_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the *inner trait* (or traits) for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="p">,)</span></div>

    <span class="c1"># -- Private Methods --------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">items_event</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_items_event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_items_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span>
                <span class="n">TraitSetEvent</span><span class="p">,</span> <span class="n">is_base</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_items_event</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;CSet&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="CSet"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CSet">[docs]</a><span class="k">class</span> <span class="nc">CSet</span><span class="p">(</span><span class="n">Set</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose values must be a set whose items are of the</span>
<span class="sd">        specified trait type or which can be coerced to a set whose values are</span>
<span class="sd">        of the specified trait type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CSet.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CSet.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the values is a valid list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Should work for all iterables as well as strings (which do</span>
                <span class="c1"># not define an __iter__ method)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">value</span><span class="p">])</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">CSet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="CSet.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CSet.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
            <span class="nb">super</span><span class="p">(</span><span class="n">CSet</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
        <span class="p">)</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Dict&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Dict"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict">[docs]</a><span class="k">class</span> <span class="nc">Dict</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a dictionary, optionally with</span>
<span class="sd">        specified types for keys and values.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">info_trait</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">TRAIT_DICT_OBJECT_DEFAULT_VALUE</span>
    <span class="n">_items_event</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">key_trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value_trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a Dict trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        key_trait : a trait or value that can convert to a trait using Trait()</span>
<span class="sd">            The trait type for keys in the dictionary; if not specified, any</span>
<span class="sd">            values can be used as keys.</span>
<span class="sd">        value_trait : a trait or value that can convert to a trait using Trait()</span>
<span class="sd">            The trait type for values in the dictionary; if not specified, any</span>
<span class="sd">            values can be used as dictionary values.</span>
<span class="sd">        value : dict</span>
<span class="sd">            The default value for the returned trait.</span>
<span class="sd">        items : bool</span>
<span class="sd">            Indicates whether the value contains items.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        *value* or {}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key_trait</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">key_trait</span><span class="p">,</span> <span class="n">value_trait</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">value_trait</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key_trait</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">key_trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">key_trait</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">value_trait</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_items</span> <span class="o">=</span> <span class="n">items</span>

        <span class="n">handler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_trait</span><span class="o">.</span><span class="n">handler</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">handler</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="n">handler</span><span class="o">.</span><span class="n">has_items</span><span class="p">:</span>
            <span class="n">handler</span> <span class="o">=</span> <span class="n">handler</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
            <span class="n">handler</span><span class="o">.</span><span class="n">has_items</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_handler</span> <span class="o">=</span> <span class="n">handler</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Dict</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="Dict.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid dictionary.</span>

<span class="sd">        .. note::</span>

<span class="sd">            `object` can be None when validating a default value (see e.g.</span>
<span class="sd">            :meth:`~traits.trait_handlers.TraitType.clone`)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>
            <span class="k">return</span> <span class="n">TraitDictObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Dict.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="s2">&quot;a dictionary with keys which are </span><span class="si">%s</span><span class="s2"> and with values which &quot;</span>
            <span class="s2">&quot;are </span><span class="si">%s</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">key_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Dict.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TextEditor</span>

        <span class="k">return</span> <span class="n">TextEditor</span><span class="p">(</span><span class="n">evaluate</span><span class="o">=</span><span class="nb">eval</span><span class="p">)</span></div>

<div class="viewcode-block" id="Dict.inner_traits"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict.inner_traits">[docs]</a>    <span class="k">def</span> <span class="nf">inner_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the *inner trait* (or traits) for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_trait</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_trait</span><span class="p">)</span></div>

    <span class="c1"># -- Private Methods --------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">items_event</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_items_event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_items_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="n">TraitDictEvent</span><span class="p">,</span> <span class="n">is_base</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_items_event</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;BaseInstance&#39; and &#39;Instance&#39; traits:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>

<span class="c1"># Allowed values and mappings for the &#39;adapt&#39; keyword:</span>
<span class="n">AdaptMap</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;no&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;yes&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>


<div class="viewcode-block" id="BaseClass"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseClass">[docs]</a><span class="k">class</span> <span class="nc">BaseClass</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Base class for types which have an associated class which can be</span>
<span class="sd">        determined dynamically by specifying a string name for the class (e.g.</span>
<span class="sd">        &#39;package1.package2.module.class&#39;.</span>

<span class="sd">        Any subclass must define instances with &#39;klass&#39; and &#39;module&#39; attributes</span>
<span class="sd">        that contain the string name of the class (or actual class object) and</span>
<span class="sd">        the module name that contained the original trait definition (used for</span>
<span class="sd">        resolving local class names (e.g. &#39;LocalClass&#39;)).</span>

<span class="sd">        This is an abstract class that only provides helper methods used to</span>
<span class="sd">        resolve the class name into an actual class object.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">resolve_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span>

    <span class="k">def</span> <span class="nf">validate_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">klass</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">klass</span>

    <span class="k">def</span> <span class="nf">find_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">klass</span><span class="p">):</span>
        <span class="n">module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span>
        <span class="n">col</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">col</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">module</span> <span class="o">=</span> <span class="n">klass</span><span class="p">[:</span><span class="n">col</span><span class="p">]</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span><span class="p">[</span><span class="n">col</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>

        <span class="n">theClass</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">module</span><span class="p">),</span> <span class="n">klass</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">theClass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">col</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">mod</span> <span class="o">=</span> <span class="nb">__import__</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">module</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">mod</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>

                <span class="n">theClass</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">klass</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="n">theClass</span>

    <span class="k">def</span> <span class="nf">validate_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">validate_implements</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">klass</span><span class="p">,</span> <span class="n">unused</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Checks to see if a specified value implements the instance class</span>
<span class="sd">        interface (if it is an interface).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">from</span> <span class="nn">.has_traits</span> <span class="k">import</span> <span class="n">isinterface</span>
    <span class="kn">from</span> <span class="nn">.interface_checker</span> <span class="k">import</span> <span class="n">check_implements</span>

    <span class="k">return</span> <span class="n">isinterface</span><span class="p">(</span><span class="n">klass</span><span class="p">)</span> <span class="ow">and</span> <span class="n">check_implements</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="n">klass</span><span class="p">)</span>


<span class="c1">#: Tell the C-base code about the &#39;validate_implements&#39; function (used by the</span>
<span class="c1">#: &#39;fast_validate&#39; code for Instance types):</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">ctraits</span>

<span class="n">ctraits</span><span class="o">.</span><span class="n">_validate_implements</span><span class="p">(</span><span class="n">validate_implements</span><span class="p">)</span>


<div class="viewcode-block" id="BaseInstance"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance">[docs]</a><span class="k">class</span> <span class="nc">BaseInstance</span><span class="p">(</span><span class="n">BaseClass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be an instance of a specified class,</span>
<span class="sd">        or one of its subclasses.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">adapt_default</span> <span class="o">=</span> <span class="s2">&quot;no&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">klass</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">factory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">kw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">adapt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">module</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns an Instance trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        klass : class or instance</span>
<span class="sd">            The object that forms the basis for the trait; if it is an</span>
<span class="sd">            instance, then trait values must be instances of the same class or</span>
<span class="sd">            a subclass. This object is not the default value, even if it is an</span>
<span class="sd">            instance.</span>
<span class="sd">        factory : callable</span>
<span class="sd">            A callable, typically a class, that when called with *args* and</span>
<span class="sd">            *kw*, returns the default value for the trait. If not specified,</span>
<span class="sd">            or *None*, *klass* is used as the factory.</span>
<span class="sd">        args : tuple</span>
<span class="sd">            Positional arguments for generating the default value.</span>
<span class="sd">        kw : dictionary</span>
<span class="sd">            Keyword arguments for generating the default value.</span>
<span class="sd">        allow_none : bool</span>
<span class="sd">            Indicates whether None is allowed as a value.</span>
<span class="sd">        adapt : str</span>
<span class="sd">            A string specifying how adaptation should be applied. The possible</span>
<span class="sd">            values are:</span>

<span class="sd">                - &#39;no&#39;: Adaptation is not allowed.</span>
<span class="sd">                - &#39;yes&#39;: Adaptation is allowed. If adaptation fails, an</span>
<span class="sd">                    exception should be raised.</span>
<span class="sd">                - &#39;default&#39;: Adaptation is allowed. If adaptation fails, the</span>
<span class="sd">                    default value for the trait should be used.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        **None** if *klass* is an instance or if it is a class and *args* and</span>
<span class="sd">        *kw* are not specified. Otherwise, the default value is the instance</span>
<span class="sd">        obtained by calling ``klass(*args, **kw)``. Note that the constructor</span>
<span class="sd">        call is performed each time a default value is assigned, so each</span>
<span class="sd">        default value assigned is a unique instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;A </span><span class="si">%s</span><span class="s2"> trait must have a class specified.&quot;</span>
                <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
            <span class="p">)</span>

        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;deep&quot;</span><span class="p">)</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;instance_handler&quot;</span><span class="p">,</span> <span class="s2">&quot;_instance_changed_handler&quot;</span><span class="p">)</span>

        <span class="n">adapt</span> <span class="o">=</span> <span class="n">adapt</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt_default</span>
        <span class="k">if</span> <span class="n">adapt</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">AdaptMap</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;&#39;adapt&#39; must be &#39;yes&#39;, &#39;no&#39; or &#39;default&#39;.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">args</span><span class="p">,</span> <span class="n">factory</span> <span class="o">=</span> <span class="n">factory</span><span class="p">,</span> <span class="n">klass</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">factory</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span> <span class="o">=</span> <span class="n">klass</span><span class="p">,</span> <span class="n">factory</span><span class="p">,</span> <span class="n">args</span>

        <span class="k">elif</span> <span class="p">(</span><span class="n">kw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">kw</span><span class="p">,</span> <span class="n">factory</span> <span class="o">=</span> <span class="n">factory</span><span class="p">,</span> <span class="n">klass</span>

        <span class="k">elif</span> <span class="p">((</span><span class="n">args</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">kw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span><span class="n">factory</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">factory</span> <span class="o">=</span> <span class="n">klass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span> <span class="o">=</span> <span class="n">allow_none</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">=</span> <span class="n">AdaptMap</span><span class="p">[</span><span class="n">adapt</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">module</span> <span class="ow">or</span> <span class="n">get_module_name</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">ClassTypes</span><span class="p">):</span>
                <span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__class__</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">()</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">factory</span>
        <span class="k">if</span> <span class="n">factory</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">args</span> <span class="o">=</span> <span class="p">()</span>

            <span class="k">if</span> <span class="n">kw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="n">kw</span> <span class="o">=</span> <span class="n">args</span>
                    <span class="n">args</span> <span class="o">=</span> <span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">kw</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kw</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;The &#39;kw&#39; argument must be a dictionary.&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">callable</span><span class="p">(</span><span class="n">factory</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;&#39;factory&#39; must be callable&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">_InstanceArgs</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span> <span class="o">=</span> <span class="n">value</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">BaseInstance</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="BaseInstance.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid object instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traits.adaptation.api</span> <span class="k">import</span> <span class="n">adapt</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">adapt</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">value</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">validate_implements</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">value</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">adapt</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">validate_implements</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">value</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">adapt</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">validate_implements</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">value</span>

                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">_InstanceArgs</span><span class="p">):</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="o">*</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

            <span class="k">return</span> <span class="n">result</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseInstance.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">class_of</span><span class="p">(</span><span class="n">klass</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;an implementor of, or can be adapted to implement, </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">klass</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span> <span class="o">+</span> <span class="s2">&quot; or None&quot;</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="BaseInstance.get_default_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.get_default_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a tuple of the form: ( default_value_type, default_value )</span>
<span class="sd">            which describes the default value for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span>
        <span class="n">dvt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_value_type</span>
        <span class="k">if</span> <span class="n">dvt</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dv</span><span class="p">,</span> <span class="n">_InstanceArgs</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">BaseInstance</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">default_value_type</span> <span class="o">=</span> <span class="n">dvt</span> <span class="o">=</span> <span class="n">CALLABLE_AND_ARGS_DEFAULT_VALUE</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span> <span class="o">=</span> <span class="n">dv</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">create_default_value</span><span class="p">,</span>
                <span class="n">dv</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
                <span class="n">dv</span><span class="o">.</span><span class="n">kw</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">dvt</span><span class="p">,</span> <span class="n">dv</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseInstance.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">InstanceEditor</span>

        <span class="k">return</span> <span class="n">InstanceEditor</span><span class="p">(</span>
            <span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">view</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kind</span> <span class="ow">or</span> <span class="s2">&quot;live&quot;</span><span class="p">,</span>
        <span class="p">)</span></div>

    <span class="c1"># -- Private Methods --------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">create_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find_class</span><span class="p">(</span><span class="n">klass</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;Unable to locate class: &quot;</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">klass</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>

    <span class="c1">#: fixme: Do we still need this method using the new style?...</span>
    <span class="k">def</span> <span class="nf">allow_none</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">()</span>

<div class="viewcode-block" id="BaseInstance.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Does nothing for the BaseInstance&#39; class. Used by the &#39;Instance&#39;,</span>
<span class="sd">            &#39;Supports&#39; and &#39;AdaptsTo&#39; classes to set up the C-level fast</span>
<span class="sd">            validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

    <span class="k">def</span> <span class="nf">resolve_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BaseInstance</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="c1">#: fixme: The following is quite ugly, because it wants to try and fix</span>
        <span class="c1">#: the trait referencing this handler to use the &#39;fast path&#39; now that the</span>
        <span class="c1">#: actual class has been resolved. The problem is finding the trait,</span>
        <span class="c1"># especially in the case of List(Instance(&#39;foo&#39;)), where the</span>
        <span class="c1"># object.base_trait(...) value is the List trait, not the Instance</span>
        <span class="c1"># trait, so we need to check for this and pull out the List</span>
        <span class="c1"># &#39;item_trait&#39;. Obviously this does not extend well to other traits</span>
        <span class="c1"># containing nested trait references (Dict?)...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">()</span>
        <span class="n">trait</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">base_trait</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">handler</span> <span class="o">=</span> <span class="n">trait</span><span class="o">.</span><span class="n">handler</span>
        <span class="k">if</span> <span class="n">handler</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">set_validate</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="s2">&quot;set_validate&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">set_validate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># The outer trait is a TraitCompound. Recompute its</span>
                <span class="c1"># fast_validate table now that we have updated ours.</span>
                <span class="c1"># FIXME: there are probably still issues if the TraitCompound is</span>
                <span class="c1"># further nested.</span>
                <span class="n">set_validate</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">item_trait</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="s2">&quot;item_trait&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">item_trait</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">item_trait</span><span class="o">.</span><span class="n">handler</span> <span class="ow">is</span> <span class="bp">self</span><span class="p">:</span>
                    <span class="c1"># The outer trait is a List trait.</span>
                    <span class="n">trait</span> <span class="o">=</span> <span class="n">item_trait</span>
                    <span class="n">handler</span> <span class="o">=</span> <span class="bp">self</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span>
        <span class="k">if</span> <span class="n">handler</span><span class="o">.</span><span class="n">fast_validate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">trait</span><span class="o">.</span><span class="n">set_validate</span><span class="p">(</span><span class="n">handler</span><span class="o">.</span><span class="n">fast_validate</span><span class="p">)</span></div>


<div class="viewcode-block" id="Instance"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Instance">[docs]</a><span class="k">class</span> <span class="nc">Instance</span><span class="p">(</span><span class="n">BaseInstance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be an instance of a specified class,</span>
<span class="sd">        or one of its subclasses using a C-level fast validator.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Instance.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Instance.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets up the C-level fast validator. &quot;&quot;&quot;</span>

        <span class="kn">from</span> <span class="nn">.has_traits</span> <span class="k">import</span> <span class="n">isinterface</span>

        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">isinterface</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">)):</span>
            <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">:</span>
                <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">]</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="ow">in</span> <span class="n">TypeTypes</span><span class="p">:</span>
                <span class="n">fast_validate</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">fast_validate</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Supports"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Supports">[docs]</a><span class="k">class</span> <span class="nc">Supports</span><span class="p">(</span><span class="n">Instance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A traits whose value must support a specified protocol.</span>

<span class="sd">    In other words, the value of the trait directly provide, or can be adapted</span>
<span class="sd">    to, the given protocol (Interface or type).</span>

<span class="sd">    The value of the trait after assignment is the possibly adapted value</span>
<span class="sd">    (i.e., it is the original assigned value if that provides the protocol,</span>
<span class="sd">    or is an adapter otherwise).</span>

<span class="sd">    The original, unadapted value is stored in a &quot;shadow&quot; attribute with</span>
<span class="sd">    the same name followed by an underscore (e.g., ``foo`` and ``foo_``).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">adapt_default</span> <span class="o">=</span> <span class="s2">&quot;yes&quot;</span>

<div class="viewcode-block" id="Supports.post_setattr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Supports.post_setattr">[docs]</a>    <span class="k">def</span> <span class="nf">post_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Performs additional post-assignment processing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Save the original, unadapted value in the mapped trait:</span>
        <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span></div>

<div class="viewcode-block" id="Supports.as_ctrait"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Supports.as_ctrait">[docs]</a>    <span class="k">def</span> <span class="nf">as_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a CTrait corresponding to the trait defined by this class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">modify_ctrait</span><span class="p">(</span><span class="nb">super</span><span class="p">(</span><span class="n">Supports</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">())</span></div>

    <span class="k">def</span> <span class="nf">modify_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctrait</span><span class="p">):</span>

        <span class="c1"># Tell the C code that the &#39;post_setattr&#39; method wants the original,</span>
        <span class="c1"># unadapted value passed to &#39;setattr&#39;:</span>
        <span class="k">return</span> <span class="n">ctrait</span><span class="o">.</span><span class="n">post_setattr_original_value</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>


<span class="c1"># Alias defined for backward compatibility with Traits 4.3.0</span>
<span class="n">AdaptedTo</span> <span class="o">=</span> <span class="n">Supports</span>


<div class="viewcode-block" id="AdaptsTo"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.AdaptsTo">[docs]</a><span class="k">class</span> <span class="nc">AdaptsTo</span><span class="p">(</span><span class="n">Supports</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A traits whose value must support a specified protocol.</span>

<span class="sd">    In other words, the value of the trait directly provide, or can be adapted</span>
<span class="sd">    to, the given protocol (Interface or type).</span>

<span class="sd">    The value of the trait after assignment is the original, unadapted value.</span>

<span class="sd">    A possibly adapted value is stored in a &quot;shadow&quot; attribute with</span>
<span class="sd">    the same name followed by an underscore (e.g., ``foo`` and ``foo_``).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">modify_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctrait</span><span class="p">):</span>
        <span class="c1"># Tell the C code that &#39;setattr&#39; should store the original, unadapted</span>
        <span class="c1"># value passed to it:</span>
        <span class="k">return</span> <span class="n">ctrait</span><span class="o">.</span><span class="n">setattr_original_value</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Type&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Type"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type">[docs]</a><span class="k">class</span> <span class="nc">Type</span><span class="p">(</span><span class="n">BaseClass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value must be a subclass of a specified class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">klass</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns an Type trait.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : class or None</span>

<span class="sd">        klass : class or None</span>

<span class="sd">        allow_none : bool</span>
<span class="sd">            Indicates whether None is allowed as an assignable value. Even if</span>
<span class="sd">            **False**, the default *value* may be **None**.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        **None** if *klass* is an instance or if it is a class and *args* and</span>
<span class="sd">        *kw* are not specified. Otherwise, the default value is the instance</span>
<span class="sd">        obtained by calling ``klass(*args, **kw)``. Note that the constructor</span>
<span class="sd">        call is performed each time a default value is assigned, so each</span>
<span class="sd">        default value assigned is a unique instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">klass</span> <span class="o">=</span> <span class="nb">object</span>

        <span class="k">elif</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve</span>

        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">ClassTypes</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;A Type trait must specify a class.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span> <span class="o">=</span> <span class="n">allow_none</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">get_module_name</span><span class="p">()</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Type</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="Type.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid object instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Type.resolve"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.resolve">[docs]</a>    <span class="k">def</span> <span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Resolves a class originally specified as a string into an actual</span>
<span class="sd">            class, then resets the trait so that future calls will be handled by</span>
<span class="sd">            the normal validate method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Type.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span>

        <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;a subclass of &quot;</span> <span class="o">+</span> <span class="n">klass</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span> <span class="o">+</span> <span class="s2">&quot; or None&quot;</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="Type.get_default_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.get_default_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a tuple of the form: ( default_value_type, default_value )</span>
<span class="sd">            which describes the default value for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_value</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">Type</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="n">CALLABLE_AND_ARGS_DEFAULT_VALUE</span><span class="p">,</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resolve_default_value</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Type.resolve_default_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.resolve_default_value">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Resolves a class name into a class so that it can be used to</span>
<span class="sd">            return the class as the default value of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                    <span class="s2">&quot;Could not resolve </span><span class="si">%s</span><span class="s2"> into a valid class&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Event&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Event"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Event">[docs]</a><span class="k">class</span> <span class="nc">Event</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;event&quot;</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;transient&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">Event</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">trait</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">trait</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>
            <span class="n">validate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">trait</span><span class="o">.</span><span class="n">get_validate</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">validate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="n">validate</span>

<div class="viewcode-block" id="Event.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Event.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">trait</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">trait</span>
        <span class="k">if</span> <span class="n">trait</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;any value&quot;</span>

        <span class="k">return</span> <span class="n">trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<span class="c1">#  Handle circular module dependencies:</span>
<span class="n">trait_handlers</span><span class="o">.</span><span class="n">Event</span> <span class="o">=</span> <span class="n">Event</span>

<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Button&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Button"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Button">[docs]</a><span class="k">class</span> <span class="nc">Button</span><span class="p">(</span><span class="n">Event</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose UI editor is a button.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">values_trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">style</span><span class="o">=</span><span class="s2">&quot;button&quot;</span><span class="p">,</span>
        <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
        <span class="n">width_padding</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
        <span class="n">height_padding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="n">view</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a trait event whose editor is a button.</span>

<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            label : str</span>
<span class="sd">                The label for the button.</span>
<span class="sd">            image : pyface.ImageResource</span>
<span class="sd">                An image to display on the button.</span>
<span class="sd">            style : one of: &#39;button&#39;, &#39;radio&#39;, &#39;toolbar&#39;, &#39;checkbox&#39;</span>
<span class="sd">                The style of button to display.</span>
<span class="sd">            values_trait : str</span>
<span class="sd">                For a &quot;button&quot; or &quot;toolbar&quot; style, the name of an enum</span>
<span class="sd">                trait whose values will populate a drop-down menu on the button.</span>
<span class="sd">                The selected value will replace the label on the button.</span>
<span class="sd">            orientation : one of: &#39;horizontal&#39;, &#39;vertical&#39;</span>
<span class="sd">                The orientation of the label relative to the image.</span>
<span class="sd">            width_padding : integer between 0 and 31</span>
<span class="sd">                Extra padding (in pixels) added to the left and right sides of</span>
<span class="sd">                the button.</span>
<span class="sd">            height_padding : integer between 0 and 31</span>
<span class="sd">                Extra padding (in pixels) added to the top and bottom of the</span>
<span class="sd">                button.</span>

<span class="sd">            Default Value</span>
<span class="sd">            -------------</span>
<span class="sd">            No default value because events do not store values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values_trait</span> <span class="o">=</span> <span class="n">values_trait</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="n">orientation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_padding</span> <span class="o">=</span> <span class="n">width_padding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_padding</span> <span class="o">=</span> <span class="n">height_padding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="o">=</span> <span class="n">view</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Button</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="Button.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Button.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">ButtonEditor</span>

        <span class="n">editor</span> <span class="o">=</span> <span class="n">ButtonEditor</span><span class="p">(</span>
            <span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">,</span>
            <span class="n">values_trait</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">values_trait</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">,</span>
            <span class="n">orientation</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">,</span>
            <span class="n">width_padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width_padding</span><span class="p">,</span>
            <span class="n">height_padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height_padding</span><span class="p">,</span>
            <span class="n">view</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">editor</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;ToolbarButton&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="ToolbarButton"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ToolbarButton">[docs]</a><span class="k">class</span> <span class="nc">ToolbarButton</span><span class="p">(</span><span class="n">Button</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose UI editor is a button that can be used on a</span>
<span class="sd">        toolbar.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">style</span><span class="o">=</span><span class="s2">&quot;toolbar&quot;</span><span class="p">,</span>
        <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
        <span class="n">width_padding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">height_padding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a trait event whose editor is a toolbar button.</span>

<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            label : str</span>
<span class="sd">                The label for the button</span>
<span class="sd">            image : pyface.ImageResource</span>
<span class="sd">                An image to display on the button</span>
<span class="sd">            style : one of: &#39;button&#39;, &#39;radio&#39;, &#39;toolbar&#39;, &#39;checkbox&#39;</span>
<span class="sd">                The style of button to display</span>
<span class="sd">            orientation : one of [&#39;horizontal&#39;, &#39;vertical&#39;]</span>
<span class="sd">                The orientation of the label relative to the image</span>
<span class="sd">            width_padding : integer between 0 and 31</span>
<span class="sd">                Extra padding (in pixels) added to the left and right sides of</span>
<span class="sd">                the button</span>
<span class="sd">            height_padding : integer between 0 and 31</span>
<span class="sd">                Extra padding (in pixels) added to the top and bottom of the</span>
<span class="sd">                button</span>

<span class="sd">            Default Value</span>
<span class="sd">            -------------</span>
<span class="sd">            No default value because events do not store values.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ToolbarButton</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">label</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
            <span class="n">orientation</span><span class="o">=</span><span class="n">orientation</span><span class="p">,</span>
            <span class="n">width_padding</span><span class="o">=</span><span class="n">width_padding</span><span class="p">,</span>
            <span class="n">height_padding</span><span class="o">=</span><span class="n">height_padding</span><span class="p">,</span>
            <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Either&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Either"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Either">[docs]</a><span class="k">class</span> <span class="nc">Either</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value can be any of of a specified list of traits.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">traits</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a trait whose value can be any of of a specified list of</span>
<span class="sd">            traits.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trait_maker</span> <span class="o">=</span> <span class="n">_TraitMaker</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="o">*</span><span class="n">traits</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Either.as_ctrait"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Either.as_ctrait">[docs]</a>    <span class="k">def</span> <span class="nf">as_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a CTrait corresponding to the trait defined by this class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">trait_maker</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Symbol&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="Symbol"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Symbol">[docs]</a><span class="k">class</span> <span class="nc">Symbol</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;an object or a string of the form &quot;</span>
        <span class="s2">&quot;&#39;[package.package...package.]module[:symbol[([arg1,...,argn])]]&#39; &quot;</span>
        <span class="s2">&quot;specifying where to locate the object&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">Undefined</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">Undefined</span><span class="p">:</span>
            <span class="n">cache</span> <span class="o">=</span> <span class="n">TraitsCache</span> <span class="o">+</span> <span class="n">name</span>
            <span class="n">ref</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cache</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ref</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">cache</span><span class="p">]</span> <span class="o">=</span> <span class="n">ref</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">trait</span><span class="p">(</span>
                    <span class="n">name</span>
                <span class="p">)</span><span class="o">.</span><span class="n">default_value_for</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
                <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span>
        <span class="n">old</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">Undefined</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="nb">dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="nb">dict</span><span class="p">[</span><span class="n">TraitsCache</span> <span class="o">+</span> <span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="nb">object</span><span class="o">.</span><span class="n">trait_property_changed</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">old</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="nb">object</span><span class="o">.</span><span class="n">trait_property_changed</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">old</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ref</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">ref</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">module</span> <span class="o">=</span> <span class="nb">__import__</span><span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="n">module</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">module</span>

            <span class="n">elements</span> <span class="o">=</span> <span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">symbol</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">symbol</span>

            <span class="n">args</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">args</span><span class="p">,)</span>

            <span class="k">return</span> <span class="n">symbol</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;Could not resolve &#39;</span><span class="si">%s</span><span class="s2">&#39; into a valid symbol.&quot;</span> <span class="o">%</span> <span class="n">ref</span>
            <span class="p">)</span></div>


<span class="c1"># ---------------------------------------------------------------------------</span>
<span class="c1">#  &#39;UUID&#39; trait:</span>
<span class="c1"># ---------------------------------------------------------------------------</span>

<div class="viewcode-block" id="UUID"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.UUID">[docs]</a><span class="k">class</span> <span class="nc">UUID</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value is a globally unique UUID (type 4).</span>

<span class="sd">    Passing `can_init=True` allows the UUID value to be set during</span>
<span class="sd">    object instantiation, e.g.::</span>

<span class="sd">        class A(HasTraits):</span>
<span class="sd">            id = UUID</span>

<span class="sd">        class B(HasTraits):</span>
<span class="sd">            id = UUID(can_init=True)</span>

<span class="sd">        # TraitError!</span>
<span class="sd">        A(id=uuid.uuid4())</span>

<span class="sd">        # Okay!</span>
<span class="sd">        B(id=uuid.uuid4())</span>

<span class="sd">    Note however that in both cases, the UUID trait is set automatically</span>
<span class="sd">    to a `uuid.UUID` instance (assuming none is provided during initialization</span>
<span class="sd">    in the latter case).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a read-only UUID&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">can_init</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a UUID trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">UUID</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">can_init</span> <span class="o">=</span> <span class="n">can_init</span>

<div class="viewcode-block" id="UUID.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.UUID.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Raises an error, since no values can be assigned to the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_init</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;The &#39;</span><span class="si">%s</span><span class="s2">&#39; trait of </span><span class="si">%s</span><span class="s2"> instance is a read-only &quot;</span>
                <span class="s2">&quot;UUID.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">class_of</span><span class="p">(</span><span class="nb">object</span><span class="p">))</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">object</span><span class="o">.</span><span class="n">traits_inited</span><span class="p">():</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Initializable UUID trait is read-only &quot;</span>
                   <span class="s2">&quot;after initialization&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Construct the UUID from a string</span>
            <span class="k">return</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The &#39;</span><span class="si">{}</span><span class="s2">&#39; trait of &#39;</span><span class="si">{}</span><span class="s2">&#39; expects an RFC 4122-compatible &quot;</span>
                   <span class="s2">&quot;UUID value, but &#39;</span><span class="si">{}</span><span class="s2">&#39; was given&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span></div>

<div class="viewcode-block" id="UUID.get_default_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.UUID.get_default_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">CALLABLE_AND_ARGS_DEFAULT_VALUE</span><span class="p">,</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_uuid</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span></div>

    <span class="c1"># -- Private Methods ---------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">_create_uuid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;WeakRef&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>


<div class="viewcode-block" id="WeakRef"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.WeakRef">[docs]</a><span class="k">class</span> <span class="nc">WeakRef</span><span class="p">(</span><span class="n">Instance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Returns a trait whose value must be an instance of the same type</span>
<span class="sd">    (or a subclass) of the specified *klass*, which can be a class or an</span>
<span class="sd">    instance. Note that the trait only maintains a weak reference to the</span>
<span class="sd">    assigned value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">klass</span><span class="o">=</span><span class="s2">&quot;traits.has_traits.HasTraits&quot;</span><span class="p">,</span>
        <span class="n">allow_none</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">adapt</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a WeakRef trait.</span>

<span class="sd">        Only a weak reference is maintained to any object assigned to a WeakRef</span>
<span class="sd">        trait. If no other references exist to the assigned value, the value</span>
<span class="sd">        may be garbage collected, in which case the value of the trait becomes</span>
<span class="sd">        None. In all other cases, the value returned by the trait is the</span>
<span class="sd">        original object.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        klass : class or instance</span>
<span class="sd">            The object that forms the basis for the trait. If *klass* is</span>
<span class="sd">            omitted, then values must be an instance of HasTraits.</span>
<span class="sd">        allow_none : boolean</span>
<span class="sd">            Indicates whether None can be assigned.</span>

<span class="sd">        Default Value</span>
<span class="sd">        -------------</span>
<span class="sd">        **None** (even if allow_none==False)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;ref&quot;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">WeakRef</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">klass</span><span class="p">,</span>
            <span class="n">allow_none</span><span class="o">=</span><span class="n">allow_none</span><span class="p">,</span>
            <span class="n">adapt</span><span class="o">=</span><span class="n">adapt</span><span class="p">,</span>
            <span class="n">module</span><span class="o">=</span><span class="n">get_module_name</span><span class="p">(),</span>
            <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">old</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">HandleWeakRef</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">old</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="n">trait_property_changed</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">old</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">resolve_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># fixme: We have to override this method to prevent the &#39;fast validate&#39;</span>
        <span class="c1"># from being set up, since the trait using this is a &#39;property&#39; style</span>
        <span class="c1"># trait which is not currently compatible with the &#39;fast_validate&#39;</span>
        <span class="c1"># style (causes internal Python SystemError messages).</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span></div>


<span class="c1"># -- Date Trait definition ----------------------------------------------------</span>
<span class="n">Date</span> <span class="o">=</span> <span class="n">BaseInstance</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">editor</span><span class="o">=</span><span class="n">date_editor</span><span class="p">)</span>


<span class="c1"># -- Time Trait definition ----------------------------------------------------</span>
<span class="n">Time</span> <span class="o">=</span> <span class="n">BaseInstance</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">editor</span><span class="o">=</span><span class="n">time_editor</span><span class="p">)</span>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  Create predefined, reusable trait instances:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>

<span class="c1"># Synonym for Bool; default value is False.</span>
<span class="n">false</span> <span class="o">=</span> <span class="n">Bool</span>

<span class="c1"># Boolean values only; default value is True.</span>
<span class="n">true</span> <span class="o">=</span> <span class="n">Bool</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Allows any value to be assigned; no type-checking is performed.</span>
<span class="c1"># Default value is Undefined.</span>
<span class="n">undefined</span> <span class="o">=</span> <span class="n">Any</span><span class="p">(</span><span class="n">Undefined</span><span class="p">)</span>

<span class="c1"># -- List Traits ----------------------------------------------------------------</span>

<span class="c1">#: List of integer values; default value is [].</span>
<span class="n">ListInt</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1">#: List of float values; default value is [].</span>
<span class="n">ListFloat</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

<span class="c1">#: List of string values; default value is [].</span>
<span class="n">ListStr</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1">#: List of Unicode string values; default value is [].</span>
<span class="n">ListUnicode</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">six</span><span class="o">.</span><span class="n">text_type</span><span class="p">)</span>

<span class="c1">#: List of complex values; default value is [].</span>
<span class="n">ListComplex</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">complex</span><span class="p">)</span>

<span class="c1">#: List of Boolean values; default value is [].</span>
<span class="n">ListBool</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>

<span class="c1">#: List of function values; default value is [].</span>
<span class="n">ListFunction</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">FunctionType</span><span class="p">)</span>

<span class="c1">#: List of method values; default value is [].</span>
<span class="n">ListMethod</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">MethodType</span><span class="p">)</span>

<span class="c1">#: List of container type values; default value is [].</span>
<span class="n">ListThis</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">ThisClass</span><span class="p">)</span>

<span class="c1"># -- Dictionary Traits ----------------------------------------------------------</span>

<span class="c1">#: Only a dictionary of string:Any values can be assigned; only string keys can</span>
<span class="c1">#: be inserted. The default value is {}.</span>
<span class="n">DictStrAny</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">)</span>

<span class="c1">#: Only a dictionary of string:string values can be assigned; only string keys</span>
<span class="c1">#: with string values can be inserted. The default value is {}.</span>
<span class="n">DictStrStr</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>

<span class="c1">#: Only a dictionary of string:integer values can be assigned; only string keys</span>
<span class="c1">#: with integer values can be inserted. The default value is {}.</span>
<span class="n">DictStrInt</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>

<span class="c1">#: Only a dictionary of string:long-integer values can be assigned; only string</span>
<span class="c1">#: keys with long-integer values can be inserted. The default value is {}.</span>
<span class="n">DictStrLong</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">LONG_TYPE</span><span class="p">)</span>

<span class="c1">#: Only a dictionary of string:float values can be assigned; only string keys</span>
<span class="c1">#: with float values can be inserted. The default value is {}.</span>
<span class="n">DictStrFloat</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>

<span class="c1">#: Only a dictionary of string:bool values can be assigned; only string keys</span>
<span class="c1">#: with boolean values can be inserted. The default value is {}.</span>
<span class="n">DictStrBool</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>

<span class="c1">#: Only a dictionary of string:list values can be assigned; only string keys</span>
<span class="c1">#: with list values can be assigned. The default value is {}.</span>
<span class="n">DictStrList</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
</pre></div>

          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/img/e-logo.png" alt="Logo">
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2019, Enthought Inc
      </li>
      <li>
      Last updated on Nov 18, 2019.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.5.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>