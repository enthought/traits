<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>traits.trait_types &mdash; Traits 6.2 Documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="../../_static/img/favicon.ico">
    <link rel="index" title="Index" href="../../genindex.html" >
    <link rel="search" title="Search" href="../../search.html" >
    <link rel="top" title="Traits 6.2 Documentation" href="../../index.html" >
    <link rel="up" title="Module code" href="../index.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../index.html">Traits 6.2 Documentation</a></li>
	
          <li class="active"><a href="../index.html" accesskey="U">Module code</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <h1>Source code for traits.trait_types</h1><div class="highlight"><pre>
<span></span><span class="c1"># (C) Copyright 2005-2021 Enthought, Inc., Austin, TX</span>
<span class="c1"># All rights reserved.</span>
<span class="c1">#</span>
<span class="c1"># This software is provided without warranty under the terms of the BSD</span>
<span class="c1"># license included in LICENSE.txt and may be redistributed only under</span>
<span class="c1"># the conditions described in the aforementioned license. The license</span>
<span class="c1"># is also available online at http://www.enthought.com/licenses/BSD.txt</span>
<span class="c1">#</span>
<span class="c1"># Thanks for using Enthought open source!</span>

<span class="sd">&quot;&quot;&quot; Core Trait definitions.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">collections.abc</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">importlib</span> <span class="k">import</span> <span class="n">import_module</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="k">import</span> <span class="n">fspath</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">isfile</span><span class="p">,</span> <span class="n">isdir</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">types</span> <span class="k">import</span> <span class="n">FunctionType</span><span class="p">,</span> <span class="n">MethodType</span><span class="p">,</span> <span class="n">ModuleType</span>
<span class="kn">import</span> <span class="nn">uuid</span>

<span class="kn">from</span> <span class="nn">.constants</span> <span class="k">import</span> <span class="n">DefaultValue</span><span class="p">,</span> <span class="n">TraitKind</span><span class="p">,</span> <span class="n">ValidateTrait</span>
<span class="kn">from</span> <span class="nn">.trait_base</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">strx</span><span class="p">,</span>
    <span class="n">get_module_name</span><span class="p">,</span>
    <span class="n">HandleWeakRef</span><span class="p">,</span>
    <span class="n">class_of</span><span class="p">,</span>
    <span class="n">RangeTypes</span><span class="p">,</span>
    <span class="n">safe_contains</span><span class="p">,</span>
    <span class="n">SequenceTypes</span><span class="p">,</span>
    <span class="n">TypeTypes</span><span class="p">,</span>
    <span class="n">Undefined</span><span class="p">,</span>
    <span class="n">TraitsCache</span><span class="p">,</span>
    <span class="n">xgetattr</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.trait_converters</span> <span class="k">import</span> <span class="n">trait_from</span><span class="p">,</span> <span class="n">trait_cast</span>
<span class="kn">from</span> <span class="nn">.trait_dict_object</span> <span class="k">import</span> <span class="n">TraitDictEvent</span><span class="p">,</span> <span class="n">TraitDictObject</span>
<span class="kn">from</span> <span class="nn">.trait_errors</span> <span class="k">import</span> <span class="n">TraitError</span>
<span class="kn">from</span> <span class="nn">.trait_list_object</span> <span class="k">import</span> <span class="n">TraitListEvent</span><span class="p">,</span> <span class="n">TraitListObject</span>
<span class="kn">from</span> <span class="nn">.trait_set_object</span> <span class="k">import</span> <span class="n">TraitSetEvent</span><span class="p">,</span> <span class="n">TraitSetObject</span>
<span class="kn">from</span> <span class="nn">.trait_type</span> <span class="k">import</span> <span class="n">TraitType</span><span class="p">,</span> <span class="n">_infer_default_value_type</span>
<span class="kn">from</span> <span class="nn">.traits</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">Trait</span><span class="p">,</span>
    <span class="n">_TraitMaker</span><span class="p">,</span>
    <span class="n">_InstanceArgs</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.util.deprecated</span> <span class="k">import</span> <span class="n">deprecated</span>
<span class="kn">from</span> <span class="nn">.util.import_symbol</span> <span class="k">import</span> <span class="n">import_symbol</span>

<span class="c1"># TraitsUI integration imports</span>
<span class="kn">from</span> <span class="nn">.editor_factories</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">code_editor</span><span class="p">,</span>
    <span class="n">html_editor</span><span class="p">,</span>
    <span class="n">password_editor</span><span class="p">,</span>
    <span class="n">shell_editor</span><span class="p">,</span>
    <span class="n">date_editor</span><span class="p">,</span>
    <span class="n">datetime_editor</span><span class="p">,</span>
    <span class="n">time_editor</span><span class="p">,</span>
    <span class="n">list_editor</span><span class="p">,</span>
<span class="p">)</span>


<span class="c1"># Constants</span>

<span class="n">SetTypes</span> <span class="o">=</span> <span class="n">SequenceTypes</span> <span class="o">+</span> <span class="p">(</span><span class="nb">set</span><span class="p">,)</span>

<span class="c1"># Numeric type fast validator definitions</span>

<span class="c1"># A few words about the next block of code:</span>

<span class="c1"># The coerce validator is a generic validator for possibly coercible types</span>
<span class="c1"># (see validate_trait_coerce_type in ctraits.c).</span>
<span class="c1">#</span>
<span class="c1"># The tuples below are of the form</span>
<span class="c1"># (ValidateTrait.coerce, type1, [type2, type3, ...],</span>
<span class="c1">#     [None, ctype1, [ctype2, ...]])</span>
<span class="c1">#</span>
<span class="c1"># &#39;type1&#39; corresponds to the main type for the trait</span>
<span class="c1"># &#39;None&#39; acts as the separator between &#39;types&#39; and &#39;ctypes&#39; (coercible types)</span>
<span class="c1">#</span>
<span class="c1"># The validation passes if:</span>
<span class="c1"># 1) The trait value type is (a subtype of) one of &#39;type1&#39;, &#39;type2&#39;,  ...</span>
<span class="c1">#    in which case the value is returned as-is</span>
<span class="c1"># or</span>
<span class="c1"># 2) The trait value type is (a subtype of) one of &#39;ctype1&#39;, &#39;ctype2&#39;, ...</span>
<span class="c1">#    in which case the value is returned coerced to trait type using</span>
<span class="c1">#    &#39;return type1(value&#39;)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># The numpy enhanced definitions:</span>
    <span class="kn">from</span> <span class="nn">numpy</span> <span class="k">import</span> <span class="n">integer</span><span class="p">,</span> <span class="n">floating</span><span class="p">,</span> <span class="n">complexfloating</span><span class="p">,</span> <span class="n">bool_</span>

    <span class="n">int_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">integer</span><span class="p">)</span>
    <span class="n">float_fast_validate</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span>
        <span class="nb">float</span><span class="p">,</span>
        <span class="n">floating</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="nb">int</span><span class="p">,</span>
        <span class="n">integer</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">complex_fast_validate</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span>
        <span class="nb">complex</span><span class="p">,</span>
        <span class="n">complexfloating</span><span class="p">,</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="nb">float</span><span class="p">,</span>
        <span class="n">floating</span><span class="p">,</span>
        <span class="nb">int</span><span class="p">,</span>
        <span class="n">integer</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">bool_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">bool_</span><span class="p">)</span>
    <span class="c1"># Tuple or single type suitable for an isinstance check.</span>
    <span class="n">_BOOL_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="n">bool_</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="c1"># The standard python definitions (without numpy):</span>
    <span class="n">int_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="n">float_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="n">complex_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="n">bool_fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
    <span class="c1"># Tuple or single type suitable for an isinstance check.</span>
    <span class="n">_BOOL_TYPES</span> <span class="o">=</span> <span class="nb">bool</span>


<div class="viewcode-block" id="default_text_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.default_text_editor">[docs]</a><span class="k">def</span> <span class="nf">default_text_editor</span><span class="p">(</span><span class="n">trait</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Return a default text editor for a trait.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    trait : TraitType</span>
<span class="sd">        The trait we are constructing the editor for.</span>
<span class="sd">    type : callable, optional</span>
<span class="sd">        A callable (usually a Python type) to use to evaluate the text content</span>
<span class="sd">        of the editor and return the correct type of value for the trait.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    TextEditor</span>
<span class="sd">        A TraitsUI TextEditor instance for the trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">auto_set</span> <span class="o">=</span> <span class="n">trait</span><span class="o">.</span><span class="n">auto_set</span>
    <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">enter_set</span> <span class="o">=</span> <span class="n">trait</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span>

    <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TextEditor</span>

    <span class="k">if</span> <span class="nb">type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TextEditor</span><span class="p">(</span><span class="n">auto_set</span><span class="o">=</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">enter_set</span><span class="o">=</span><span class="n">enter_set</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">TextEditor</span><span class="p">(</span><span class="n">auto_set</span><span class="o">=</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">enter_set</span><span class="o">=</span><span class="n">enter_set</span><span class="p">,</span> <span class="n">evaluate</span><span class="o">=</span><span class="nb">type</span><span class="p">)</span></div>


<span class="c1"># Generic validators</span>

<span class="k">def</span> <span class="nf">_validate_int</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Convert an integer-like Python object to an int, or raise TypeError.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">_validate_float</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Convert an arbitrary Python object to a float, or raise TypeError.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">float</span><span class="p">:</span>  <span class="c1"># fast path for common case</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">nb_float</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="fm">__float__</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;Object of type </span><span class="si">{!r}</span><span class="s2"> not convertible to float&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">nb_float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


<span class="c1"># Trait Types</span>

<div class="viewcode-block" id="Any"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Any">[docs]</a><span class="k">class</span> <span class="nc">Any</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value can be anything.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;any value&quot;</span></div>


<div class="viewcode-block" id="BaseInt"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInt">[docs]</a><span class="k">class</span> <span class="nc">BaseInt</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be an int.</span>

<span class="sd">    Values which support the Python index protocol will validate and will be</span>
<span class="sd">    converted to the corresponding int value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">int</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;an integer&quot;</span>

<div class="viewcode-block" id="BaseInt.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInt.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_validate_int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseInt.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInt.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">default_text_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Int"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Int">[docs]</a><span class="k">class</span> <span class="nc">Int</span><span class="p">(</span><span class="n">BaseInt</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value must be an integer.</span>

<span class="sd">    Values which support the Python index protocol will validate and will be</span>
<span class="sd">    converted to the corresponding int value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">int</span><span class="p">,)</span></div>


<div class="viewcode-block" id="BaseFloat"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFloat">[docs]</a><span class="k">class</span> <span class="nc">BaseFloat</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a float.</span>

<span class="sd">    Values which support automatic conversion to floats via the Python</span>
<span class="sd">    __float__ method will validate and will be converted to the corresponding</span>
<span class="sd">    float value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">float</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="mf">0.0</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a float&quot;</span>

<div class="viewcode-block" id="BaseFloat.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFloat.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_validate_float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseFloat.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFloat.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">default_text_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Float"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Float">[docs]</a><span class="k">class</span> <span class="nc">Float</span><span class="p">(</span><span class="n">BaseFloat</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value must be a float.</span>

<span class="sd">    Values which support automatic conversion to floats via the Python</span>
<span class="sd">    __float__ method will validate and will be converted to the corresponding</span>
<span class="sd">    float value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">float</span><span class="p">,)</span></div>


<div class="viewcode-block" id="BaseComplex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseComplex">[docs]</a><span class="k">class</span> <span class="nc">BaseComplex</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a complex number.</span>

<span class="sd">    Integers and floating-point numbers will be converted to the</span>
<span class="sd">    corresponding complex value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">complex</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="o">+</span> <span class="mf">0.0</span><span class="n">j</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a complex number&quot;</span>

<div class="viewcode-block" id="BaseComplex.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseComplex.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">complex</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="k">return</span> <span class="nb">complex</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseComplex.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseComplex.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">default_text_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">complex</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Complex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Complex">[docs]</a><span class="k">class</span> <span class="nc">Complex</span><span class="p">(</span><span class="n">BaseComplex</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value must be a complex number.</span>

<span class="sd">    Integers and floating-point numbers will be converted to the</span>
<span class="sd">    corresponding complex value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="n">complex_fast_validate</span></div>


<div class="viewcode-block" id="BaseStr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseStr">[docs]</a><span class="k">class</span> <span class="nc">BaseStr</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a string&quot;</span>

<div class="viewcode-block" id="BaseStr.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseStr.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseStr.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseStr.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.editor_factories</span> <span class="k">import</span> <span class="n">multi_line_text_editor</span>

        <span class="n">auto_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span>
        <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">enter_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">multi_line_text_editor</span><span class="p">(</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">enter_set</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Str"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Str">[docs]</a><span class="k">class</span> <span class="nc">Str</span><span class="p">(</span><span class="n">BaseStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value must be a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span></div>


<div class="viewcode-block" id="Title"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Title">[docs]</a><span class="k">class</span> <span class="nc">Title</span><span class="p">(</span><span class="n">Str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A Str trait which by default uses a TraitsUI TitleEditor.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Title.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Title.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor to use for a trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TitleEditor</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;allow_selection&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">TitleEditor</span><span class="p">(</span><span class="n">allow_selection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">allow_selection</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">TitleEditor</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="BaseBytes"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBytes">[docs]</a><span class="k">class</span> <span class="nc">BaseBytes</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a bytestring.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a bytes string&quot;</span>

    <span class="c1">#: An encoding to use with TraitsUI editors</span>
    <span class="n">encoding</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="BaseBytes.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBytes.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseBytes.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBytes.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">.traits</span> <span class="k">import</span> <span class="n">bytes_editor</span>

        <span class="n">auto_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span>
        <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">enter_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">bytes_editor</span><span class="p">(</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">enter_set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Bytes"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Bytes">[docs]</a><span class="k">class</span> <span class="nc">Bytes</span><span class="p">(</span><span class="n">BaseBytes</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value must be a bytestring.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseBool"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBool">[docs]</a><span class="k">class</span> <span class="nc">BaseBool</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a bool.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">bool</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a boolean&quot;</span>

<div class="viewcode-block" id="BaseBool.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBool.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">_BOOL_TYPES</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseBool.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseBool.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">BooleanEditor</span>

        <span class="k">return</span> <span class="n">BooleanEditor</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Bool"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Bool">[docs]</a><span class="k">class</span> <span class="nc">Bool</span><span class="p">(</span><span class="n">BaseBool</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value must be a bool.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="n">bool_fast_validate</span></div>


<div class="viewcode-block" id="BaseCInt"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCInt">[docs]</a><span class="k">class</span> <span class="nc">BaseCInt</span><span class="p">(</span><span class="n">BaseInt</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A coercing trait type whose value is an integer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">int</span>

<div class="viewcode-block" id="BaseCInt.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCInt.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CInt"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CInt">[docs]</a><span class="k">class</span> <span class="nc">CInt</span><span class="p">(</span><span class="n">BaseCInt</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating, coercing trait type whose value is an int.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">cast</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseCFloat"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCFloat">[docs]</a><span class="k">class</span> <span class="nc">BaseCFloat</span><span class="p">(</span><span class="n">BaseFloat</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A coercing trait type whose value is a float.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">float</span>

<div class="viewcode-block" id="BaseCFloat.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCFloat.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CFloat"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CFloat">[docs]</a><span class="k">class</span> <span class="nc">CFloat</span><span class="p">(</span><span class="n">BaseCFloat</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating, coercing trait type whose value is a float.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">cast</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseCComplex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCComplex">[docs]</a><span class="k">class</span> <span class="nc">BaseCComplex</span><span class="p">(</span><span class="n">BaseComplex</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A coercing trait type whose value is a complex number.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">complex</span>

<div class="viewcode-block" id="BaseCComplex.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCComplex.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">complex</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CComplex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CComplex">[docs]</a><span class="k">class</span> <span class="nc">CComplex</span><span class="p">(</span><span class="n">BaseCComplex</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating, coercing trait type whose value is a complex number.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">cast</span><span class="p">,</span> <span class="nb">complex</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseCStr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCStr">[docs]</a><span class="k">class</span> <span class="nc">BaseCStr</span><span class="p">(</span><span class="n">BaseStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A coercing trait type whose value is a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseCStr.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCStr.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CStr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CStr">[docs]</a><span class="k">class</span> <span class="nc">CStr</span><span class="p">(</span><span class="n">BaseCStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating, coercing trait type whose value is a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">cast</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseCBytes"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCBytes">[docs]</a><span class="k">class</span> <span class="nc">BaseCBytes</span><span class="p">(</span><span class="n">BaseBytes</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A coercing trait type whose value is a bytestring.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseCBytes.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCBytes.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CBytes"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CBytes">[docs]</a><span class="k">class</span> <span class="nc">CBytes</span><span class="p">(</span><span class="n">BaseCBytes</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating, coercing trait type whose value is a bytestring.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">cast</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseCBool"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCBool">[docs]</a><span class="k">class</span> <span class="nc">BaseCBool</span><span class="p">(</span><span class="n">BaseBool</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A coercing trait type whose value is a bool.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The function to use for evaluating strings to this type:</span>
    <span class="n">evaluate</span> <span class="o">=</span> <span class="nb">bool</span>

<div class="viewcode-block" id="BaseCBool.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCBool.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CBool"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CBool">[docs]</a><span class="k">class</span> <span class="nc">CBool</span><span class="p">(</span><span class="n">BaseCBool</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating, coercing trait type whose value is a bool.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">cast</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span></div>


<div class="viewcode-block" id="String"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String">[docs]</a><span class="k">class</span> <span class="nc">String</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a string with optional constraints.</span>

<span class="sd">    The value is a string whose length is in a specified range, and which</span>
<span class="sd">    optionally matches a specified regular expression.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : str</span>
<span class="sd">        The default value for the string.</span>
<span class="sd">    minlen : integer</span>
<span class="sd">        The minimum length allowed for the string.</span>
<span class="sd">    maxlen : integer</span>
<span class="sd">        The maximum length allowed for the string.</span>
<span class="sd">    regex : str</span>
<span class="sd">        A Python regular expression that the string must match.</span>
<span class="sd">    **metadata</span>
<span class="sd">        The trait metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    minlen : integer</span>
<span class="sd">        The minimum length allowed for the string.</span>
<span class="sd">    maxlen : integer</span>
<span class="sd">        The maximum length allowed for the string.</span>
<span class="sd">    regex : str</span>
<span class="sd">        A Python regular expression that the string must match.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">minlen</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">maxlen</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">minlen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span><span class="p">,</span> <span class="n">maxlen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">regex</span> <span class="o">=</span> <span class="n">regex</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Completes initialization of the trait at construction or unpickling</span>
<span class="sd">        time.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;validate_all&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">regex</span><span class="p">)</span><span class="o">.</span><span class="n">match</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">==</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;validate_regex&quot;</span>
        <span class="k">elif</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">==</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;validate_str&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;validate_len&quot;</span>

<div class="viewcode-block" id="String.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">)(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.validate_all"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate_all">[docs]</a>    <span class="k">def</span> <span class="nf">validate_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string in the specified length</span>
<span class="sd">            range which matches the specified regular expression.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">strx</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.validate_str"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate_str">[docs]</a>    <span class="k">def</span> <span class="nf">validate_str</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">strx</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.validate_len"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate_len">[docs]</a>    <span class="k">def</span> <span class="nf">validate_len</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string in the specified length</span>
<span class="sd">        range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">strx</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.validate_regex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.validate_regex">[docs]</a>    <span class="k">def</span> <span class="nf">validate_regex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid string which matches the</span>
<span class="sd">        specified regular expression.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">strx</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="String.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">!=</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; between </span><span class="si">%d</span><span class="s2"> and </span><span class="si">%d</span><span class="s2"> characters long&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">!=</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; &lt;= </span><span class="si">%d</span><span class="s2"> characters long&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; &gt;= </span><span class="si">%d</span><span class="s2"> characters long&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; and&quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; matching the pattern &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span>
        <span class="k">return</span> <span class="s2">&quot;a string&quot;</span> <span class="o">+</span> <span class="n">msg</span></div>

<div class="viewcode-block" id="String.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.String.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">default_text_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the current state of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;validate&quot;</span><span class="p">,</span> <span class="s2">&quot;match&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">result</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">__setstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the current state of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">()</span></div>


<div class="viewcode-block" id="Regex"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Regex">[docs]</a><span class="k">class</span> <span class="nc">Regex</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must match a regular expression.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : str</span>
<span class="sd">        The default value of the trait.</span>
<span class="sd">    regex : str</span>
<span class="sd">        The regular expression that the trait value must match.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="s2">&quot;.*&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="n">regex</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span></div>


<div class="viewcode-block" id="Code"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Code">[docs]</a><span class="k">class</span> <span class="nc">Code</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value holds a string of source code.</span>

<span class="sd">    Validation does not perform any sort of syntax checking. The default</span>
<span class="sd">    TraitsUI editor is a CodeEditor.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;editor&quot;</span><span class="p">:</span> <span class="n">code_editor</span><span class="p">}</span></div>


<div class="viewcode-block" id="HTML"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.HTML">[docs]</a><span class="k">class</span> <span class="nc">HTML</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value holds an HTML string.</span>

<span class="sd">    The validation of the value does not enforce HTML syntax.  The default</span>
<span class="sd">    TraitsUI editor is an HTMLEditor.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;editor&quot;</span><span class="p">:</span> <span class="n">html_editor</span><span class="p">}</span></div>


<div class="viewcode-block" id="Password"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Password">[docs]</a><span class="k">class</span> <span class="nc">Password</span><span class="p">(</span><span class="n">String</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value holds a password string.</span>

<span class="sd">    The default TraitsUI editor is an PasswordEditor, which obscures text</span>
<span class="sd">    entered by the user.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;editor&quot;</span><span class="p">:</span> <span class="n">password_editor</span><span class="p">}</span></div>


<div class="viewcode-block" id="BaseCallable"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCallable">[docs]</a><span class="k">class</span> <span class="nc">BaseCallable</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a Python callable.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;copy&quot;</span><span class="p">:</span> <span class="s2">&quot;ref&quot;</span><span class="p">}</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a callable value&quot;</span>

<div class="viewcode-block" id="BaseCallable.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseCallable.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a Python callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="n">callable</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Callable"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Callable">[docs]</a><span class="k">class</span> <span class="nc">Callable</span><span class="p">(</span><span class="n">BaseCallable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value must be a Python callable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">callable</span><span class="p">,</span> <span class="n">allow_none</span><span class="p">)</span>

        <span class="n">default_value</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;default_value&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span></div>


<div class="viewcode-block" id="BaseType"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseType">[docs]</a><span class="k">class</span> <span class="nc">BaseType</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be an instance of a Python type.</span>

<span class="sd">    This is an abstract class and should not be directly instantiated.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseType.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseType.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a Python callable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="This"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.This">[docs]</a><span class="k">class</span> <span class="nc">This</span><span class="p">(</span><span class="n">BaseType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be an instance of the defining class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">self_type</span><span class="p">,)</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;an instance of the same type as the receiver&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">allow_none</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">self_type</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_none</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info_none</span>

<div class="viewcode-block" id="This.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.This.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">validate_none</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="This.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.This.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;an instance of the same type as the receiver&quot;</span></div>

    <span class="k">def</span> <span class="nf">info_none</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;an instance of the same type as the receiver or None&quot;</span></div>


<div class="viewcode-block" id="self"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.self">[docs]</a><span class="k">class</span> <span class="nc">self</span><span class="p">(</span><span class="n">This</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose default value is the object containing the trait.</span>

<span class="sd">    The trait can be assigned to, but any new value must be an instance of</span>
<span class="sd">    the defining class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value type to use (i.e. &#39;self&#39;):</span>
    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">DefaultValue</span><span class="o">.</span><span class="n">object</span></div>


<div class="viewcode-block" id="Function"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Function">[docs]</a><span class="k">class</span> <span class="nc">Function</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a function.</span>

<span class="sd">    .. deprecated:: 6.2.0</span>
<span class="sd">        This trait type explicitly checks for an instance of</span>
<span class="sd">        ``types.FunctionType``. For the majority of use cases, the more general</span>
<span class="sd">        ``Callable`` trait type should be used instead. If an instance</span>
<span class="sd">        specifically of ``types.FunctionType`` really is needed, one can use</span>
<span class="sd">        ``Instance(types.FunctionType)``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Function trait type has been deprecated. Use &#39;Callable&#39; or &quot;</span>
                <span class="s2">&quot;&#39;Instance(types.FunctionType)&#39; instead&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="n">FunctionType</span><span class="p">)</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a function&quot;</span></div>


<div class="viewcode-block" id="Method"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Method">[docs]</a><span class="k">class</span> <span class="nc">Method</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a method.</span>

<span class="sd">    .. deprecated:: 6.2.0</span>
<span class="sd">        This trait type explicitly checks for an instance of</span>
<span class="sd">        ``types.MethodType``. For the majority of use cases, the more general</span>
<span class="sd">        ``Callable`` trait type should be used instead. If an instance</span>
<span class="sd">        specifically of ``types.MethodType`` really is needed, one can use</span>
<span class="sd">        ``Instance(types.MethodType)``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Method trait type has been deprecated. Use &#39;Callable&#39; or &quot;</span>
                <span class="s2">&quot;&#39;Instance(types.MethodType)&#39; instead&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="n">MethodType</span><span class="p">)</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a method&quot;</span></div>


<div class="viewcode-block" id="Module"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Module">[docs]</a><span class="k">class</span> <span class="nc">Module</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a module.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The C-level fast validator to use:</span>
    <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="n">ModuleType</span><span class="p">)</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a module&quot;</span></div>


<div class="viewcode-block" id="Python"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Python">[docs]</a><span class="k">class</span> <span class="nc">Python</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type that behaves as a standard Python attribute.</span>

<span class="sd">    This trait type allows any value to be assigned, and raises an</span>
<span class="sd">    ValueError if an attempt is made to get the value before one has been</span>
<span class="sd">    assigned. It has no default value. This trait is most often used in</span>
<span class="sd">    conjunction with wildcard naming. See the *Traits User Manual* for</span>
<span class="sd">    details on wildcards.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;python&quot;</span><span class="p">}</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="n">Undefined</span></div>


<div class="viewcode-block" id="ReadOnly"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ReadOnly">[docs]</a><span class="k">class</span> <span class="nc">ReadOnly</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type that is write-once, and then read-only.</span>

<span class="sd">    The initial value of the attribute is the special, singleton object</span>
<span class="sd">    Undefined. The trait allows any value to be assigned to the attribute</span>
<span class="sd">    if the current value is the Undefined object. Once any other value is</span>
<span class="sd">    assigned, no further assignment is allowed. Normally, the initial</span>
<span class="sd">    assignment to the attribute is performed in the class constructor,</span>
<span class="sd">    based on information passed to the constructor. If the read-only value</span>
<span class="sd">    is known in advance of run time, use Constant instead of ReadOnly to</span>
<span class="sd">    define the trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Defines the CTrait type to use for this trait:</span>
    <span class="n">ctrait_type</span> <span class="o">=</span> <span class="n">TraitKind</span><span class="o">.</span><span class="n">read_only</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="n">Undefined</span></div>


<span class="c1"># Create a singleton instance as the trait:</span>
<span class="n">ReadOnly</span> <span class="o">=</span> <span class="n">ReadOnly</span><span class="p">()</span>


<div class="viewcode-block" id="Disallow"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Disallow">[docs]</a><span class="k">class</span> <span class="nc">Disallow</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait that prevents any value from being assigned or read.</span>

<span class="sd">    Any attempt to get or set the value of the trait attribute raises an</span>
<span class="sd">    exception. This trait is most often used in conjunction with wildcard</span>
<span class="sd">    naming, for example, to catch spelling mistakes in attribute names.</span>

<span class="sd">    See the *Traits User Manual* for details on wildcards.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: Defines the CTrait type to use for this trait:</span>
    <span class="n">ctrait_type</span> <span class="o">=</span> <span class="n">TraitKind</span><span class="o">.</span><span class="n">disallow</span></div>


<span class="c1"># Create a singleton instance as the trait:</span>
<span class="n">Disallow</span> <span class="o">=</span> <span class="n">Disallow</span><span class="p">()</span>


<div class="viewcode-block" id="Constant"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Constant">[docs]</a><span class="k">class</span> <span class="nc">Constant</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value is a constant.</span>

<span class="sd">    Traits of this type are very space efficient (and fast) because</span>
<span class="sd">    *value* is not stored in each instance using the trait, but only in</span>
<span class="sd">    the trait object itself.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : any</span>
<span class="sd">        The constant value for the trait.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: Defines the CTrait type to use for this trait:</span>
    <span class="n">ctrait_type</span> <span class="o">=</span> <span class="n">TraitKind</span><span class="o">.</span><span class="n">constant</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;constant&quot;</span><span class="p">,</span> <span class="s2">&quot;transient&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span></div>


<div class="viewcode-block" id="Delegate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Delegate">[docs]</a><span class="k">class</span> <span class="nc">Delegate</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value is delegated to a trait on another object.</span>

<span class="sd">    This is a base class that shouldn&#39;t be used directly, rather use one of</span>
<span class="sd">    the subclasses DelegatesTo or PrototypesFrom, depending on desired</span>
<span class="sd">    behaviour.</span>

<span class="sd">    An object containing a delegator trait attribute must contain a</span>
<span class="sd">    second attribute that references the object containing the delegate</span>
<span class="sd">    trait attribute. The name of this second attribute is passed as the</span>
<span class="sd">    *delegate* argument.</span>

<span class="sd">    The following rules govern the application of the prefix parameter:</span>

<span class="sd">    * If *prefix* is empty or omitted, the delegation is to an attribute</span>
<span class="sd">      of the delegate object with the same name as the delegator</span>
<span class="sd">      attribute.</span>
<span class="sd">    * If *prefix* is a valid Python attribute name, then the delegation</span>
<span class="sd">      is to an attribute whose name is the value of *prefix*.</span>
<span class="sd">    * If *prefix* ends with an asterisk (&#39;*&#39;) and is longer than one</span>
<span class="sd">      character, then the delegation is to an attribute whose name is</span>
<span class="sd">      the value of *prefix*, minus the trailing asterisk, prepended to</span>
<span class="sd">      the delegator attribute name.</span>
<span class="sd">    * If *prefix* is equal to a single asterisk, the delegation is to an</span>
<span class="sd">      attribute whose name is the value of the delegator object&#39;s</span>
<span class="sd">      __prefix__ attribute prepended to delegator attribute name.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    delegate : str</span>
<span class="sd">        The name of the trait that holds the HasTraits instance that the</span>
<span class="sd">        value is delegated to.</span>
<span class="sd">    prefix : str</span>
<span class="sd">        The name of the trait on the delegate that holds the delegated</span>
<span class="sd">        value.  If empty, then the name of this trait will be used.</span>
<span class="sd">    modify : bool</span>
<span class="sd">        Whether modifications of this trait are applied to the delegated</span>
<span class="sd">        object.  This differentiates the behaviour of DelegatesTo and</span>
<span class="sd">        PrototypedFrom.</span>
<span class="sd">    listenable : bool</span>
<span class="sd">        Whether changes to the delegated trait will fire listeners to</span>
<span class="sd">        this trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    delegate : str</span>
<span class="sd">        The name of the trait that holds the HasTraits instance that the</span>
<span class="sd">        value is delegated to.</span>
<span class="sd">    prefix : str</span>
<span class="sd">        The name of the trait on the delegate that holds the delegated</span>
<span class="sd">        value.  If empty, then the name of this trait will be used.</span>
<span class="sd">    prefix_type : int</span>
<span class="sd">        An integer giving the type of prefix being used.</span>
<span class="sd">    modify : bool</span>
<span class="sd">        Whether modifications of this trait are applied to the delegated</span>
<span class="sd">        object.  This differentiates the behaviour of DelegatesTo and</span>
<span class="sd">        PrototypedFrom.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: Defines the CTrait type to use for this trait:</span>
    <span class="n">ctrait_type</span> <span class="o">=</span> <span class="n">TraitKind</span><span class="o">.</span><span class="n">delegate</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;delegate&quot;</span><span class="p">,</span> <span class="s2">&quot;transient&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">modify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">listenable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a Delegate trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">prefix_type</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="n">prefix</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s2">&quot;*&quot;</span><span class="p">:</span>
            <span class="n">prefix_type</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">prefix</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">prefix_type</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">prefix_type</span> <span class="o">=</span> <span class="mi">3</span>

        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;_delegate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">delegate</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;_prefix&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prefix</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;_listenable&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">listenable</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">delegate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_type</span> <span class="o">=</span> <span class="n">prefix_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modify</span> <span class="o">=</span> <span class="n">modify</span>

<div class="viewcode-block" id="Delegate.as_ctrait"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Delegate.as_ctrait">[docs]</a>    <span class="k">def</span> <span class="nf">as_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a CTrait corresponding to the trait defined by this class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">trait</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span>
        <span class="n">trait</span><span class="o">.</span><span class="n">delegate</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">delegate</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">modify</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">trait</span></div></div>


<div class="viewcode-block" id="DelegatesTo"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.DelegatesTo">[docs]</a><span class="k">class</span> <span class="nc">DelegatesTo</span><span class="p">(</span><span class="n">Delegate</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type that matches the &#39;delegate&#39; design pattern.</span>

<span class="sd">    This defines a trait whose value and definition is &quot;delegated&quot; to</span>
<span class="sd">    another trait on a different object.</span>

<span class="sd">    An object containing a delegator trait attribute must contain a</span>
<span class="sd">    second attribute that references the object containing the delegate</span>
<span class="sd">    trait attribute. The name of this second attribute is passed as the</span>
<span class="sd">    *delegate* argument to the DelegatesTo() function.</span>

<span class="sd">    The following rules govern the application of the prefix parameter:</span>

<span class="sd">    * If *prefix* is empty or omitted, the delegation is to an attribute</span>
<span class="sd">      of the delegate object with the same name as the delegator</span>
<span class="sd">      attribute.</span>
<span class="sd">    * If *prefix* is a valid Python attribute name, then the delegation</span>
<span class="sd">      is to an attribute whose name is the value of *prefix*.</span>
<span class="sd">    * If *prefix* ends with an asterisk (&#39;*&#39;) and is longer than one</span>
<span class="sd">      character, then the delegation is to an attribute whose name is</span>
<span class="sd">      the value of *prefix*, minus the trailing asterisk, prepended to</span>
<span class="sd">      the delegator attribute name.</span>
<span class="sd">    * If *prefix* is equal to a single asterisk, the delegation is to an</span>
<span class="sd">      attribute whose name is the value of the delegator object&#39;s</span>
<span class="sd">      __prefix__ attribute prepended to delegator attribute name.</span>

<span class="sd">    Note that any changes to the delegator attribute are actually</span>
<span class="sd">    applied to the corresponding attribute on the delegate object. The</span>
<span class="sd">    original object containing the delegator trait is not modified.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    delegate : str</span>
<span class="sd">        Name of the attribute on the current object which references</span>
<span class="sd">        the object that is the trait&#39;s delegate.</span>
<span class="sd">    prefix : str</span>
<span class="sd">        A prefix or substitution applied to the original attribute when</span>
<span class="sd">        looking up the delegated attribute.</span>
<span class="sd">    listenable : bool</span>
<span class="sd">        Indicates whether a listener can be attached to this attribute</span>
<span class="sd">        such that changes to the delegated attribute will trigger it.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delegate</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">listenable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">delegate</span><span class="p">,</span>
            <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
            <span class="n">modify</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">listenable</span><span class="o">=</span><span class="n">listenable</span><span class="p">,</span>
            <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="PrototypedFrom"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PrototypedFrom">[docs]</a><span class="k">class</span> <span class="nc">PrototypedFrom</span><span class="p">(</span><span class="n">Delegate</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type that matches the &#39;prototype&#39; design pattern.</span>

<span class="sd">    This defines a trait whose default value and definition is &quot;prototyped&quot;</span>
<span class="sd">    from another trait on a different object.</span>

<span class="sd">    An object containing a prototyped trait attribute must contain a</span>
<span class="sd">    second attribute that references the object containing the prototype</span>
<span class="sd">    trait attribute. The name of this second attribute is passed as the</span>
<span class="sd">    *prototype* argument to the PrototypedFrom() function.</span>

<span class="sd">    The following rules govern the application of the prefix parameter:</span>

<span class="sd">    * If *prefix* is empty or omitted, the prototype delegation is to an</span>
<span class="sd">      attribute of the prototype object with the same name as the</span>
<span class="sd">      prototyped attribute.</span>
<span class="sd">    * If *prefix* is a valid Python attribute name, then the prototype</span>
<span class="sd">      delegation is to an attribute whose name is the value of *prefix*.</span>
<span class="sd">    * If *prefix* ends with an asterisk (&#39;*&#39;) and is longer than one</span>
<span class="sd">      character, then the prototype delegation is to an attribute whose</span>
<span class="sd">      name is the value of *prefix*, minus the trailing asterisk,</span>
<span class="sd">      prepended to the prototyped attribute name.</span>
<span class="sd">    * If *prefix* is equal to a single asterisk, the prototype</span>
<span class="sd">      delegation is to an attribute whose name is the value of the</span>
<span class="sd">      prototype object&#39;s __prefix__ attribute prepended to the</span>
<span class="sd">      prototyped attribute name.</span>

<span class="sd">    Note that any changes to the prototyped attribute are made to the</span>
<span class="sd">    original object, not the prototype object. The prototype object is</span>
<span class="sd">    only used to define to trait type and default value.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    prototype : str</span>
<span class="sd">        Name of the attribute on the current object which references the</span>
<span class="sd">        object that is the trait&#39;s prototype.</span>
<span class="sd">    prefix : str</span>
<span class="sd">        A prefix or substitution applied to the original attribute when</span>
<span class="sd">        looking up the prototyped attribute.</span>
<span class="sd">    listenable : bool</span>
<span class="sd">        Indicates whether a listener can be attached to this attribute</span>
<span class="sd">        such that changes to the corresponding attribute on the</span>
<span class="sd">        prototype object will trigger it.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prototype</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">listenable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">prototype</span><span class="p">,</span>
            <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
            <span class="n">modify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">listenable</span><span class="o">=</span><span class="n">listenable</span><span class="p">,</span>
            <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Expression"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression">[docs]</a><span class="k">class</span> <span class="nc">Expression</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a valid Python expression.</span>

<span class="sd">    The compiled form of a valid expression is stored as the mapped value of</span>
<span class="sd">    the trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a valid Python expression&quot;</span>

    <span class="c1">#: Indicate that this is a mapped trait:</span>
    <span class="n">is_mapped</span> <span class="o">=</span> <span class="kc">True</span>

<div class="viewcode-block" id="Expression.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">compile</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Expression.post_setattr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression.post_setattr">[docs]</a>    <span class="k">def</span> <span class="nf">post_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Performs additional post-assignment processing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span></div>

<div class="viewcode-block" id="Expression.mapped_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression.mapped_value">[docs]</a>    <span class="k">def</span> <span class="nf">mapped_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the &#39;mapped&#39; value for the specified **value**.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">compile</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Expression.as_ctrait"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Expression.as_ctrait">[docs]</a>    <span class="k">def</span> <span class="nf">as_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a CTrait corresponding to the trait defined by this class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Tell the C code that &#39;setattr&#39; should store the original, unadapted</span>
        <span class="c1"># value passed to it:</span>
        <span class="n">ctrait</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span>
        <span class="n">ctrait</span><span class="o">.</span><span class="n">setattr_original_value</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">ctrait</span></div></div>


<div class="viewcode-block" id="PythonValue"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PythonValue">[docs]</a><span class="k">class</span> <span class="nc">PythonValue</span><span class="p">(</span><span class="n">Any</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value can be of any type.</span>

<span class="sd">    The default editor is a ShellEditor.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The standard metadata for the trait:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;editor&quot;</span><span class="p">:</span> <span class="n">shell_editor</span><span class="p">}</span></div>


<div class="viewcode-block" id="BaseFile"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFile">[docs]</a><span class="k">class</span> <span class="nc">BaseFile</span><span class="p">(</span><span class="n">BaseStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a file path string.</span>

<span class="sd">    This will accept both strings and os.pathlib Path objects,</span>
<span class="sd">    converting the latter to the corresponding string value.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : str</span>
<span class="sd">        The default value for the trait.</span>
<span class="sd">    filter : str</span>
<span class="sd">        A wildcard string to filter filenames in the file dialog box used by</span>
<span class="sd">        the attribute trait editor.</span>
<span class="sd">    auto_set : bool</span>
<span class="sd">        Indicates whether the file editor updates the trait value after</span>
<span class="sd">        every key stroke.</span>
<span class="sd">    entries : int</span>
<span class="sd">        A hint to the TraitsUI editor about how many values to display in</span>
<span class="sd">        the editor.</span>
<span class="sd">    exists : bool</span>
<span class="sd">        Indicates whether the trait value must be an existing file or</span>
<span class="sd">        not.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    filter : str</span>
<span class="sd">        A wildcard string to filter filenames in the file dialog box used by</span>
<span class="sd">        the attribute trait editor.</span>
<span class="sd">    auto_set : bool</span>
<span class="sd">        Indicates whether the file editor updates the trait value after</span>
<span class="sd">        every key stroke.</span>
<span class="sd">    entries : int</span>
<span class="sd">        A hint to the TraitsUI editor about how many values to display in</span>
<span class="sd">        the editor.</span>
<span class="sd">    exists : bool</span>
<span class="sd">        Indicates whether the trait value must be an existing file or</span>
<span class="sd">        not.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a filename or object implementing the os.PathLike interface&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nb">filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_set</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">entries</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="nb">filter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span> <span class="o">=</span> <span class="n">auto_set</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="o">=</span> <span class="n">entries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exists</span> <span class="o">=</span> <span class="n">exists</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="BaseFile.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFile.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">            Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># If value is of type os.PathLike, get the path representation</span>
            <span class="c1"># The path representation could be either a str or bytes type</span>
            <span class="c1"># If fspath returns bytes, further validation will fail.</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">fspath</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="n">validated_value</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">validated_value</span>
        <span class="k">elif</span> <span class="n">isfile</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">validated_value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseFile.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseFile.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">traitsui.editors.file_editor</span> <span class="k">import</span> <span class="n">FileEditor</span>

        <span class="n">editor</span> <span class="o">=</span> <span class="n">FileEditor</span><span class="p">(</span>
            <span class="nb">filter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="ow">or</span> <span class="p">[],</span>
            <span class="n">auto_set</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span><span class="p">,</span>
            <span class="n">entries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">,</span>
            <span class="n">dialog_style</span><span class="o">=</span><span class="s2">&quot;open&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exists</span> <span class="k">else</span> <span class="s2">&quot;save&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">editor</span></div></div>


<div class="viewcode-block" id="File"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.File">[docs]</a><span class="k">class</span> <span class="nc">File</span><span class="p">(</span><span class="n">BaseFile</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value must be a file path string.</span>

<span class="sd">    This will accept both strings and os.pathlib Path objects,</span>
<span class="sd">    converting the latter to the corresponding string value.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : str</span>
<span class="sd">        The default value for the trait.</span>
<span class="sd">    filter : str</span>
<span class="sd">        A wildcard string to filter filenames in the file dialog box used by</span>
<span class="sd">        the attribute trait editor.</span>
<span class="sd">    auto_set : bool</span>
<span class="sd">        Indicates whether the file editor updates the trait value after</span>
<span class="sd">        every key stroke.</span>
<span class="sd">    entries : int</span>
<span class="sd">        A hint to the TraitsUI editor about how many values to display in</span>
<span class="sd">        the editor.</span>
<span class="sd">    exists : bool</span>
<span class="sd">        Indicates whether the trait value must be an existing file or</span>
<span class="sd">        not.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    filter : str</span>
<span class="sd">        A wildcard string to filter filenames in the file dialog box used by</span>
<span class="sd">        the attribute trait editor.</span>
<span class="sd">    auto_set : bool</span>
<span class="sd">        Indicates whether the file editor updates the trait value after</span>
<span class="sd">        every key stroke.</span>
<span class="sd">    entries : int</span>
<span class="sd">        A hint to the TraitsUI editor about how many values to display in</span>
<span class="sd">        the editor.</span>
<span class="sd">    exists : bool</span>
<span class="sd">        Indicates whether the trait value must be an existing file or</span>
<span class="sd">        not.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nb">filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_set</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">entries</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">value</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">auto_set</span><span class="p">,</span> <span class="n">entries</span><span class="p">,</span> <span class="n">exists</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="BaseDirectory"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseDirectory">[docs]</a><span class="k">class</span> <span class="nc">BaseDirectory</span><span class="p">(</span><span class="n">BaseStr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a directory path string.</span>

<span class="sd">    This also accepts objects implementing the :class:`os.PathLike` interface,</span>
<span class="sd">    converting them to the corresponding string.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : str</span>
<span class="sd">        The default value for the trait.</span>
<span class="sd">    auto_set : bool</span>
<span class="sd">        Indicates whether the directory editor updates the trait value</span>
<span class="sd">        after every key stroke.</span>
<span class="sd">    entries : int</span>
<span class="sd">        A hint to the TraitsUI editor about how many values to display in</span>
<span class="sd">        the editor.</span>
<span class="sd">    exists : bool</span>
<span class="sd">        Indicates whether the trait value must be an existing directory or</span>
<span class="sd">        not.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    auto_set : bool</span>
<span class="sd">        Indicates whether the directory editor updates the trait value</span>
<span class="sd">        after every key stroke.</span>
<span class="sd">    entries : int</span>
<span class="sd">        A hint to the TraitsUI editor about how many values to display in</span>
<span class="sd">        the editor.</span>
<span class="sd">    exists : bool</span>
<span class="sd">        Indicates whether the trait value must be an existing directory or</span>
<span class="sd">        not.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;a directory name or an object implementing &quot;</span>
                 <span class="s2">&quot;the os.PathLike interface&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">auto_set</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">entries</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="o">=</span> <span class="n">entries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span> <span class="o">=</span> <span class="n">auto_set</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exists</span> <span class="o">=</span> <span class="n">exists</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="BaseDirectory.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseDirectory.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that a specified value is valid for this trait.</span>

<span class="sd">        Note: The &#39;fast validator&#39; version performs this check in C.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">fspath</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="n">validated_value</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span>
            <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">validated_value</span>
        <span class="k">elif</span> <span class="n">isdir</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">validated_value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseDirectory.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseDirectory.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">traitsui.editors.directory_editor</span> <span class="k">import</span> <span class="n">DirectoryEditor</span>

        <span class="n">editor</span> <span class="o">=</span> <span class="n">DirectoryEditor</span><span class="p">(</span><span class="n">auto_set</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span><span class="p">,</span> <span class="n">entries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">editor</span></div></div>


<div class="viewcode-block" id="Directory"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Directory">[docs]</a><span class="k">class</span> <span class="nc">Directory</span><span class="p">(</span><span class="n">BaseDirectory</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value is a directory path string.</span>

<span class="sd">    This also accepts objects implementing the :class:`os.PathLike` interface,</span>
<span class="sd">    converting them to the corresponding string.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : str</span>
<span class="sd">        The default value for the trait.</span>
<span class="sd">    auto_set : bool</span>
<span class="sd">        Indicates whether the directory editor updates the trait value</span>
<span class="sd">        after every key stroke.</span>
<span class="sd">    entries : int</span>
<span class="sd">        A hint to the TraitsUI editor about how many values to display in</span>
<span class="sd">        the editor.</span>
<span class="sd">    exists : bool</span>
<span class="sd">        Indicates whether the trait value must be an existing directory or</span>
<span class="sd">        not.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    auto_set : bool</span>
<span class="sd">        Indicates whether the directory editor updates the trait value</span>
<span class="sd">        after every key stroke.</span>
<span class="sd">    entries : int</span>
<span class="sd">        A hint to the TraitsUI editor about how many values to display in</span>
<span class="sd">        the editor.</span>
<span class="sd">    exists : bool</span>
<span class="sd">        Indicates whether the trait value must be an existing directory or</span>
<span class="sd">        not.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">auto_set</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">entries</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="c1"># Fast validation is disabled (Github issue #877).</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">value</span><span class="p">,</span> <span class="n">auto_set</span><span class="p">,</span> <span class="n">entries</span><span class="p">,</span> <span class="n">exists</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="BaseRange"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange">[docs]</a><span class="k">class</span> <span class="nc">BaseRange</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose numeric value lies inside a range.</span>

<span class="sd">    The value held will be either an integer or a float, which type is</span>
<span class="sd">    determined by whether the *low*, *high* and *value* arguments are</span>
<span class="sd">    integers or floats.</span>

<span class="sd">    The *low*, *high*, and *value* arguments must be of the same type</span>
<span class="sd">    (integer or float), except in the case where either *low* or *high* is</span>
<span class="sd">    a string (i.e. extended trait name).</span>

<span class="sd">    If *value* is None or omitted, the default value is *low*, unless *low*</span>
<span class="sd">    is None or omitted, in which case the default value is *high*.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    low : integer, float or string (i.e. extended trait name)</span>
<span class="sd">        The low end of the range.</span>
<span class="sd">    high : integer, float or string (i.e. extended trait name)</span>
<span class="sd">        The high end of the range.</span>
<span class="sd">    value : integer, float or string (i.e. extended trait name)</span>
<span class="sd">        The default value of the trait.</span>
<span class="sd">    exclude_low : bool</span>
<span class="sd">        Indicates whether the low end of the range is exclusive.</span>
<span class="sd">    exclude_high : bool</span>
<span class="sd">        Indicates whether the high end of the range is exclusive.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">low</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">high</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exclude_low</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">exclude_high</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">low</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">high</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

        <span class="n">vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">vtype</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">))</span>
        <span class="p">):</span>
            <span class="n">vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

        <span class="n">is_static</span> <span class="o">=</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">vtype</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_static</span> <span class="ow">and</span> <span class="p">(</span><span class="n">vtype</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">RangeTypes</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;Range can only be use for int or float &quot;</span>
                <span class="s2">&quot;values, but a value of type </span><span class="si">%s</span><span class="s2"> was specified.&quot;</span> <span class="o">%</span> <span class="n">vtype</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_low_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_high_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="o">=</span> <span class="n">Undefined</span>

        <span class="n">kind</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">vtype</span> <span class="ow">is</span> <span class="nb">float</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;float_validate&quot;</span>
            <span class="n">kind</span> <span class="o">=</span> <span class="n">ValidateTrait</span><span class="o">.</span><span class="n">float_range</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span> <span class="o">=</span> <span class="s2">&quot;a floating point number&quot;</span>
            <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">low</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">high</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">vtype</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span> <span class="o">=</span> <span class="s2">&quot;int_validate&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span> <span class="o">=</span> <span class="s2">&quot;an integer&quot;</span>
            <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">low</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">high</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span> <span class="o">=</span> <span class="s2">&quot;a number&quot;</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">high</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_high_name</span> <span class="o">=</span> <span class="n">high</span> <span class="o">=</span> <span class="s2">&quot;object.&quot;</span> <span class="o">+</span> <span class="n">high</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
            <span class="n">high</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">high</span><span class="p">),</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_low_name</span> <span class="o">=</span> <span class="n">low</span> <span class="o">=</span> <span class="s2">&quot;object.&quot;</span> <span class="o">+</span> <span class="n">low</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>
            <span class="n">low</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">low</span><span class="p">),</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;object.&quot;</span> <span class="o">+</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;eval&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">default_value_type</span> <span class="o">=</span> <span class="n">DefaultValue</span><span class="o">.</span><span class="n">callable</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_default_value</span>

        <span class="n">exclude_mask</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">exclude_low</span><span class="p">:</span>
            <span class="n">exclude_mask</span> <span class="o">|=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">exclude_high</span><span class="p">:</span>
            <span class="n">exclude_mask</span> <span class="o">|=</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">is_static</span> <span class="ow">and</span> <span class="n">kind</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">exclude_mask</span><span class="p">)</span>

        <span class="c1">#: Assign type-corrected arguments to handler attributes:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">=</span> <span class="n">low</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">=</span> <span class="n">high</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="o">=</span> <span class="n">exclude_low</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="o">=</span> <span class="n">exclude_high</span>

<div class="viewcode-block" id="BaseRange.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Does nothing for the BaseRange class. Used in the Range class to</span>
<span class="sd">        set up the fast validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="BaseRange.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate that the value is in the specified range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">)(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseRange.float_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.float_validate">[docs]</a>    <span class="k">def</span> <span class="nf">float_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate that the value is a float value in the specified range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Convert to exact type float, re-raising a TypeError as a TraitError</span>
        <span class="c1"># and letting other errors propagate. Keep original value for</span>
        <span class="c1"># error-reporting purposes.</span>
        <span class="n">original_value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">_validate_float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">original_value</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">))</span>
                <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;=</span> <span class="n">value</span><span class="p">))</span>
            <span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">))</span>
                <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;=</span> <span class="n">value</span><span class="p">))</span>
            <span class="p">)</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">original_value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseRange.int_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.int_validate">[docs]</a>    <span class="k">def</span> <span class="nf">int_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate that the value is an int value in the specified range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Convert to exact type float, re-raising a TypeError as a TraitError</span>
        <span class="c1"># and letting other errors propagate. Keep original value for</span>
        <span class="c1"># error-reporting purposes.</span>
        <span class="n">original_value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">_validate_int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">original_value</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">))</span>
                <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span> <span class="o">&lt;=</span> <span class="n">value</span><span class="p">))</span>
            <span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">))</span>
                <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span> <span class="o">&gt;=</span> <span class="n">value</span><span class="p">))</span>
            <span class="p">)</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">original_value</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default value of the range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">trait</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the current value of a dynamic range trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cname</span> <span class="o">=</span> <span class="s2">&quot;_traits_cache_&quot;</span> <span class="o">+</span> <span class="n">name</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cname</span><span class="p">,</span> <span class="n">Undefined</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">Undefined</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">)</span>

        <span class="n">low</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span><span class="p">)</span>
        <span class="n">high</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">value</span> <span class="o">&lt;</span> <span class="n">low</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">low</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">value</span> <span class="o">&gt;</span> <span class="n">high</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">high</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_typed_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the current value of a dynamic range trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_value</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate a value for a dynamic range trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">low</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span><span class="p">)</span>
                <span class="n">high</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">RangeTypes</span><span class="p">):</span>
                        <span class="k">return</span> <span class="n">value</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_typed_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="p">(</span><span class="n">low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span> <span class="ow">and</span> <span class="p">(</span><span class="n">low</span> <span class="o">&lt;</span> <span class="n">new_value</span><span class="p">))</span>
                        <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">low</span> <span class="o">&lt;=</span> <span class="n">new_value</span><span class="p">))</span>
                    <span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
                        <span class="p">(</span><span class="n">high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
                        <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span> <span class="ow">and</span> <span class="p">(</span><span class="n">high</span> <span class="o">&gt;</span> <span class="n">new_value</span><span class="p">))</span>
                        <span class="ow">or</span> <span class="p">((</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">high</span> <span class="o">&gt;=</span> <span class="n">new_value</span><span class="p">))</span>
                    <span class="p">):</span>
                        <span class="k">return</span> <span class="n">new_value</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_typed_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the specified value with the correct type for the current</span>
<span class="sd">            dynamic range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span>
        <span class="k">if</span> <span class="n">vtype</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">vtype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">vtype</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>

        <span class="k">return</span> <span class="n">vtype</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the specified value as the value of the dynamic range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cname</span> <span class="o">=</span> <span class="s2">&quot;_traits_cache_&quot;</span> <span class="o">+</span> <span class="n">name</span>
        <span class="n">old</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cname</span><span class="p">,</span> <span class="n">Undefined</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">old</span> <span class="ow">is</span> <span class="n">Undefined</span><span class="p">:</span>
            <span class="n">old</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_value</span><span class="p">)</span>
        <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="n">old</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="n">trait_property_changed</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">old</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="BaseRange.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vtype</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Undefined</span><span class="p">:</span>
            <span class="n">low</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_low</span><span class="p">)</span>
            <span class="n">high</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_high</span><span class="p">)</span>
            <span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_typed_value</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_typed_value</span><span class="p">(</span><span class="n">high</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">low</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_low</span>
            <span class="n">high</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_high</span>

        <span class="k">if</span> <span class="n">low</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span>

            <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &lt;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span><span class="p">,</span>
                <span class="s2">&quot;=&quot;</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span><span class="p">:],</span>
                <span class="n">high</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="n">high</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &gt;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span><span class="p">,</span>
                <span class="s2">&quot;=&quot;</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span><span class="p">:],</span>
                <span class="n">low</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &lt;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> &lt;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">low</span><span class="p">,</span>
            <span class="s2">&quot;=&quot;</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_low</span><span class="p">:],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_desc</span><span class="p">,</span>
            <span class="s2">&quot;=&quot;</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_exclude_high</span><span class="p">:],</span>
            <span class="n">high</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseRange.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseRange.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># fixme: Needs to support a dynamic range editor.</span>

        <span class="n">auto_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span>
        <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">RangeEditor</span>

        <span class="k">return</span> <span class="n">RangeEditor</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="ow">or</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
            <span class="n">cols</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="ow">or</span> <span class="mi">3</span><span class="p">,</span>
            <span class="n">auto_set</span><span class="o">=</span><span class="n">auto_set</span><span class="p">,</span>
            <span class="n">enter_set</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">low_label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">low</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">high_label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">low_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_low_name</span><span class="p">,</span>
            <span class="n">high_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_high_name</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="Range"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Range">[docs]</a><span class="k">class</span> <span class="nc">Range</span><span class="p">(</span><span class="n">BaseRange</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose numeric value lies inside a range.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Range.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Range.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Set up the C-level fast validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="n">args</span></div></div>


<div class="viewcode-block" id="BaseEnum"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum">[docs]</a><span class="k">class</span> <span class="nc">BaseEnum</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value is an element of a finite collection.</span>

<span class="sd">    This trait type can be either *static*, with the collection of valid values</span>
<span class="sd">    specified directly in the constructor, or *dynamic*, with the collection</span>
<span class="sd">    provided by the value of another trait attribute.</span>

<span class="sd">    For both static and dynamic enumerations, a default value can be provided</span>
<span class="sd">    as a positional argument. If no default is provided, the default is the</span>
<span class="sd">    first item (in iteration order) of the underlying collection.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>

<span class="sd">    1. If the enumeration is based on an unordered collection like a</span>
<span class="sd">       ``set``, and no explicit default is given, the default used will</span>
<span class="sd">       effectively be arbitrary (the first element of the set in iteration</span>
<span class="sd">       order). It&#39;s recommended that a default be given explicitly in this</span>
<span class="sd">       case.</span>

<span class="sd">    2. Instances of ``str``, ``bytes`` and ``bytearray`` are not treated</span>
<span class="sd">       as collections for the purposes of this trait type, both for pragmatic</span>
<span class="sd">       reasons (it&#39;s more likely that a user wants to use a string as an</span>
<span class="sd">       element in a collection than as a collection in its own right), and</span>
<span class="sd">       because the behavior of the ``in`` operator for those types does not</span>
<span class="sd">       express the usual membership semantics (for example, ``&quot;bc&quot; in &quot;abc&quot;``</span>
<span class="sd">       is ``True``).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    *args</span>
<span class="sd">        The enumeration of all valid values for the trait. For a static</span>
<span class="sd">        enumeration trait (where the *values* keyword argument is not given)</span>
<span class="sd">        the supported signatures for ``args`` are as follows:</span>

<span class="sd">        (collection,)</span>
<span class="sd">            A nonempty collection of valid values. The default is the first</span>
<span class="sd">            element of the collection, in iteration order.</span>
<span class="sd">        (default, collection)</span>
<span class="sd">            The default value, followed by a nonempty collection of valid</span>
<span class="sd">            values. The default should be an element of the collection, but</span>
<span class="sd">            this is not checked.</span>
<span class="sd">        (item1, item2, ..., itemn)</span>
<span class="sd">            One or more items giving the valid values for the collection.</span>
<span class="sd">            The default is *item1*.</span>

<span class="sd">        For a dynamic enumeration trait, where the *values* keyword argument</span>
<span class="sd">        is given, the supported signatures for ``args`` are:</span>

<span class="sd">        ()</span>
<span class="sd">            No arguments given. In this case the default is the first item</span>
<span class="sd">            of the collection, in iteration order.</span>
<span class="sd">        (default,)</span>
<span class="sd">            The default value for the collection.</span>

<span class="sd">        For the static case, the ambiguity in the signatures is resolved</span>
<span class="sd">        as follows: if ``args`` has length ``1`` or ``2``, ``args[-1]`` can be</span>
<span class="sd">        iterated over, and ``args[-1]`` is not an instance of ``str``,</span>
<span class="sd">        ``bytes`` or ``bytearray``, then ``args[-1]`` is assumed to give the</span>
<span class="sd">        collection of values. Otherwise, all elements of ``args`` are assumed</span>
<span class="sd">        to be items in the collection. Thus the first two signatures are safe</span>
<span class="sd">        from ambiguity, and it&#39;s recommended to use one of these two signatures</span>
<span class="sd">        in preference to the third form.</span>
<span class="sd">    values : str, optional</span>
<span class="sd">        The name of a trait holding the valid values. If given, this is</span>
<span class="sd">        a dynamic enumeration, otherwise it&#39;s a static numeration.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    values : tuple or None</span>
<span class="sd">        For a static enumeration, this is a tuple holding the valid values.</span>
<span class="sd">        For a dynamic enumeration, this is None.</span>
<span class="sd">    name : str or None</span>
<span class="sd">        For a dynamic enumeration, this is the name of a trait holding</span>
<span class="sd">        the collection of valid values. For a static enumeration, this is</span>
<span class="sd">        None.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">values</span>

        <span class="n">nargs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Dynamic enumeration</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_get</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">nargs</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">metadata</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">nargs</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">default_value</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                    <span class="s2">&quot;Incorrect number of arguments specified &quot;</span>
                    <span class="s2">&quot;when using the &#39;values&#39; keyword&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Static enumeration</span>
            <span class="k">if</span> <span class="n">nargs</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;Enum trait requires at least 1 argument&quot;</span><span class="p">)</span>

            <span class="c1"># If we have either 1 or 2 arguments and the last argument is a</span>
            <span class="c1"># collection, then that collection provides the values of the</span>
            <span class="c1"># enumeration. Otherwise, args itself is the collection.</span>
            <span class="n">have_collection_arg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">nargs</span> <span class="o">&lt;=</span> <span class="mi">2</span>
                <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">))</span>
                <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Iterable</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="k">if</span> <span class="n">have_collection_arg</span> <span class="k">else</span> <span class="n">args</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;Enum collection should be nonempty&quot;</span><span class="p">)</span>

            <span class="c1"># In the two-argument collection case, the first argument is</span>
            <span class="c1"># the default. Otherwise, we take the first element of self.values.</span>
            <span class="k">if</span> <span class="n">have_collection_arg</span> <span class="ow">and</span> <span class="n">nargs</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">default_value</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">default_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">enum</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="BaseEnum.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Does nothing for the BaseEnum class. Used in the Enum class to set</span>
<span class="sd">            up the fast validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="BaseEnum.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is one of the enumerated set of valid</span>
<span class="sd">        values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseEnum.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">xgetattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot; or &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">values</span><span class="p">])</span></div>

<div class="viewcode-block" id="BaseEnum.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseEnum.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">EnumEditor</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

        <span class="n">editor</span> <span class="o">=</span> <span class="n">EnumEditor</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">cols</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="ow">or</span> <span class="mi">3</span><span class="p">,</span>
            <span class="n">evaluate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">evaluate</span><span class="p">,</span>
            <span class="n">format_func</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">format_func</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="k">else</span> <span class="s2">&quot;radio&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Workaround enthought/traitsui#782</span>
        <span class="k">if</span> <span class="n">values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">editor</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">values</span>
        <span class="k">return</span> <span class="n">editor</span></div>

    <span class="k">def</span> <span class="nf">_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">trait</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the current value of a dynamic enum trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">trait</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">xgetattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">safe_contains</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">values</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets the current value of a dynamic enum trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate a value for a dynamic enum trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">safe_contains</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">xgetattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="Enum"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Enum">[docs]</a><span class="k">class</span> <span class="nc">Enum</span><span class="p">(</span><span class="n">BaseEnum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type whose value is an element of a finite</span>
<span class="sd">    collection.</span>

<span class="sd">    This trait type can be either *static*, with the collection of valid values</span>
<span class="sd">    specified directly in the constructor, or *dynamic*, with the collection</span>
<span class="sd">    provided by the value of another trait attribute.</span>

<span class="sd">    For both static and dynamic enumerations, a default value can be provided</span>
<span class="sd">    as a positional argument. If no default is provided, the default is the</span>
<span class="sd">    first item (in iteration order) of the underlying collection.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>

<span class="sd">    1. If the enumeration is based on an unordered collection like a</span>
<span class="sd">       ``set``, and no explicit default is given, the default used will</span>
<span class="sd">       effectively be arbitrary (the first element of the set in iteration</span>
<span class="sd">       order). It&#39;s recommended that a default be given explicitly in this</span>
<span class="sd">       case.</span>

<span class="sd">    2. Instances of ``str``, ``bytes`` and ``bytearray`` are not treated</span>
<span class="sd">       as collections for the purposes of this trait type, both for pragmatic</span>
<span class="sd">       reasons (it&#39;s more likely that a user wants to use a string as an</span>
<span class="sd">       element in a collection than as a collection in its own right), and</span>
<span class="sd">       because the behavior of the ``in`` operator for those types does not</span>
<span class="sd">       express the usual membership semantics (for example, ``&quot;bc&quot; in &quot;abc&quot;``</span>
<span class="sd">       is ``True``).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    *args</span>
<span class="sd">        The enumeration of all valid values for the trait. For a static</span>
<span class="sd">        enumeration trait (where the *values* keyword argument is not given)</span>
<span class="sd">        the supported signatures for ``args`` are as follows:</span>

<span class="sd">        (collection,)</span>
<span class="sd">            A nonempty collection of valid values. The default is the first</span>
<span class="sd">            element of the collection, in iteration order.</span>
<span class="sd">        (default, collection)</span>
<span class="sd">            The default value, followed by a nonempty collection of valid</span>
<span class="sd">            values. The default should be an element of the collection, but</span>
<span class="sd">            this is not checked.</span>
<span class="sd">        (item1, item2, ..., itemn)</span>
<span class="sd">            One or more items giving the valid values for the collection.</span>
<span class="sd">            The default is *item1*.</span>

<span class="sd">        For a dynamic enumeration trait, where the *values* keyword argument</span>
<span class="sd">        is given, the supported signatures for ``args`` are:</span>

<span class="sd">        ()</span>
<span class="sd">            No arguments given. In this case the default is the first item</span>
<span class="sd">            of the collection, in iteration order.</span>
<span class="sd">        (default,)</span>
<span class="sd">            The default value for the collection.</span>

<span class="sd">        For the static case, the ambiguity in the signatures is resolved</span>
<span class="sd">        as follows: if ``args`` has length ``1`` or ``2``, ``args[-1]`` can be</span>
<span class="sd">        iterated over, and ``args[-1]`` is not an instance of ``str``,</span>
<span class="sd">        ``bytes`` or ``bytearray``, then ``args[-1]`` is assumed to give the</span>
<span class="sd">        collection of values. Otherwise, all elements of ``args`` are assumed</span>
<span class="sd">        to be items in the collection. Thus the first two signatures are safe</span>
<span class="sd">        from ambiguity, and it&#39;s recommended to use one of these two signatures</span>
<span class="sd">        in preference to the third form.</span>
<span class="sd">    values : str, optional</span>
<span class="sd">        The name of a trait holding the valid values. If given, this is</span>
<span class="sd">        a dynamic enumeration, otherwise it&#39;s a static numeration.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    values : tuple or None</span>
<span class="sd">        For a static enumeration, this is a tuple holding the valid values.</span>
<span class="sd">        For a dynamic enumeration, this is None.</span>
<span class="sd">    name : str or None</span>
<span class="sd">        For a dynamic enumeration, this is the name of a trait holding</span>
<span class="sd">        the collection of valid values. For a static enumeration, this is</span>
<span class="sd">        None.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Enum.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Enum.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Set up C-level fast validation. &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="n">args</span></div></div>


<div class="viewcode-block" id="BaseTuple"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple">[docs]</a><span class="k">class</span> <span class="nc">BaseTuple</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type holding a tuple with typed elements.</span>

<span class="sd">    The default value is determined as follows:</span>

<span class="sd">    1.  If no arguments are specified, the default value is ().</span>
<span class="sd">    2.  If a tuple is specified as the first argument, it is the default</span>
<span class="sd">        value.</span>
<span class="sd">    3.  If a tuple is not specified as the first argument, the default</span>
<span class="sd">        value is a tuple whose length is the length of the argument list,</span>
<span class="sd">        and whose values are the default values for the corresponding trait</span>
<span class="sd">        types.</span>

<span class="sd">    Example for case #2::</span>

<span class="sd">        mytuple = Tuple((&#39;Fred&#39;, &#39;Betty&#39;, 5))</span>

<span class="sd">    The trait&#39;s value must be a 3-element tuple whose first and second</span>
<span class="sd">    elements are strings, and whose third element is an integer. The</span>
<span class="sd">    default value is ``(&#39;Fred&#39;, &#39;Betty&#39;, 5)``.</span>

<span class="sd">    Example for case #3::</span>

<span class="sd">        mytuple = Tuple(&#39;Fred&#39;, &#39;Betty&#39;, 5)</span>

<span class="sd">    The trait&#39;s value must be a 3-element tuple whose first and second</span>
<span class="sd">    elements are strings, and whose third element is an integer. The</span>
<span class="sd">    default value is ``(&#39;&#39;,&#39;&#39;,0)``.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    *types</span>
<span class="sd">        Definition of the default and allowed tuples. If the first item of</span>
<span class="sd">        *types* is a tuple, it is used as the default value.</span>
<span class="sd">        The remaining argument list is used to form a tuple that constrains</span>
<span class="sd">        the  values assigned to the returned trait. The trait&#39;s value must</span>
<span class="sd">        be a tuple of the same length as the remaining argument list, whose</span>
<span class="sd">        elements must match the types specified by the corresponding items</span>
<span class="sd">        of the remaining argument list.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    types : tuple</span>
<span class="sd">        The tuple of traits specifying the type of each element in order.</span>
<span class="sd">    no_type_check : bool</span>
<span class="sd">        Flag to indicate whether validation should check the type of each</span>
<span class="sd">        element.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">types</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>

            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">((),</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

            <span class="k">return</span>

        <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">types</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">default_value</span><span class="p">,</span> <span class="n">types</span> <span class="o">=</span> <span class="n">types</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">types</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="n">Trait</span><span class="p">(</span><span class="n">element</span><span class="p">)</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">default_value</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">types</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="n">trait_from</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span> <span class="k">for</span> <span class="nb">type</span> <span class="ow">in</span> <span class="n">types</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">tuple</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">default_value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">default_value</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
                <span class="p">[</span><span class="nb">type</span><span class="o">.</span><span class="n">default_value</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="nb">type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="BaseTuple.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Saves the validation parameters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_type_check</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">ValidateTrait</span><span class="o">.</span><span class="n">coerce</span></div>

<div class="viewcode-block" id="BaseTuple.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid tuple.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">no_type_check</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">types</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">types</span><span class="p">):</span>
                    <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="nb">type</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">types</span><span class="p">):</span>
                        <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">type</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>

                    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseTuple.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">no_type_check</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;a tuple&quot;</span>

        <span class="k">return</span> <span class="s2">&quot;a tuple of the form: (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span><span class="nb">type</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="nb">type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="BaseTuple.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseTuple.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TupleEditor</span>

        <span class="n">auto_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_set</span>
        <span class="k">if</span> <span class="n">auto_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">auto_set</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">enter_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enter_set</span> <span class="ow">or</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">TupleEditor</span><span class="p">(</span>
            <span class="n">types</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="ow">or</span> <span class="p">[],</span>
            <span class="n">cols</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="ow">or</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">auto_set</span><span class="o">=</span><span class="n">auto_set</span><span class="p">,</span>
            <span class="n">enter_set</span><span class="o">=</span><span class="n">enter_set</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="Tuple"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Tuple">[docs]</a><span class="k">class</span> <span class="nc">Tuple</span><span class="p">(</span><span class="n">BaseTuple</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validating trait type holding a tuple with typed elements.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Tuple.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Tuple.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Set up the C-level fast validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="n">args</span></div></div>


<div class="viewcode-block" id="ValidatedTuple"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ValidatedTuple">[docs]</a><span class="k">class</span> <span class="nc">ValidatedTuple</span><span class="p">(</span><span class="n">BaseTuple</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type holding a tuple with customized validation.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    *types</span>
<span class="sd">        Definition of the default and allowed tuples. (see</span>
<span class="sd">        :class:`~.BaseTuple` for more details)</span>
<span class="sd">    fvalidate : callable, optional</span>
<span class="sd">        A callable to provide the additional custom validation for the</span>
<span class="sd">        tuple. The callable will be passed the tuple value and should</span>
<span class="sd">        return True or False.</span>
<span class="sd">    fvalidate_info : string, optional</span>
<span class="sd">        A string describing the custom validation to use for the error</span>
<span class="sd">        messages.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    The definition::</span>

<span class="sd">        value_range = ValidatedTuple(</span>
<span class="sd">            Int(0), Int(1), fvalidate=lambda x: x[0] &lt; x[1])</span>

<span class="sd">    will accept only tuples ``(a, b)`` containing two integers that</span>
<span class="sd">    satisfy ``a &lt; b``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">types</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;fvalidate&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;fvalidate_info&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">types</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="ValidatedTuple.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ValidatedTuple.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid tuple.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">values</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="c1"># Exceptions in the fvalidate function will not result in a TraitError</span>
        <span class="c1"># but will be allowed to propagate up the frame stacks.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fvalidate</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">fvalidate</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">values</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="ValidatedTuple.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ValidatedTuple.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;a tuple of the form: (</span><span class="si">{0}</span><span class="s2">) that passes custom validation</span><span class="si">{1}</span><span class="s2">&quot;</span>
        <span class="n">types_info</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">[</span><span class="n">type_</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">types</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fvalidate_info</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fvalidate_info</span> <span class="o">=</span> <span class="s2">&quot;: </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fvalidate_info</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fvalidate_info</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">types_info</span><span class="p">,</span> <span class="n">fvalidate_info</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="List"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List">[docs]</a><span class="k">class</span> <span class="nc">List</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type for a list of values of the specified type.</span>

<span class="sd">    The length of the list assigned to the trait must be such that::</span>

<span class="sd">        minlen &lt;= len(list) &lt;= maxlen</span>

<span class="sd">    Note that this trait type creates copies of values on assignment, rather</span>
<span class="sd">    than assigning the exact instance. For example, consider::</span>

<span class="sd">        &gt;&gt;&gt; class A(HasTraits):</span>
<span class="sd">        ...     x = List()</span>
<span class="sd">        ...</span>
<span class="sd">        &gt;&gt;&gt; b = [1, 2, 3]</span>
<span class="sd">        &gt;&gt;&gt; a = A(x=b)</span>
<span class="sd">        &gt;&gt;&gt; a.x</span>
<span class="sd">        [1, 2, 3]</span>
<span class="sd">        &gt;&gt;&gt; b.append(4)</span>
<span class="sd">        &gt;&gt;&gt; a.x</span>
<span class="sd">        [1, 2, 3]</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    trait : a trait or value that can be converted using trait_from()</span>
<span class="sd">        The type of item that the list contains. If not specified, the list</span>
<span class="sd">        can contain items of any type.</span>
<span class="sd">    value : list</span>
<span class="sd">        Default value for the list.</span>
<span class="sd">    minlen : integer</span>
<span class="sd">        The minimum length of a list that can be assigned to the trait.</span>
<span class="sd">    maxlen : integer</span>
<span class="sd">        The maximum length of a list that can be assigned to the trait.</span>
<span class="sd">    items : bool</span>
<span class="sd">        Whether there is a corresponding `&lt;name&gt;_items` trait.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_trait : trait</span>
<span class="sd">        The type of item that the list contains.</span>
<span class="sd">    minlen : integer</span>
<span class="sd">        The minimum length of a list that can be assigned to the trait.</span>
<span class="sd">    maxlen : integer</span>
<span class="sd">        The maximum length of a list that can be assigned to the trait.</span>
<span class="sd">    has_items : bool</span>
<span class="sd">        Whether there is a corresponding `&lt;name&gt;_items` trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">info_trait</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">DefaultValue</span><span class="o">.</span><span class="n">trait_list_object</span>
    <span class="n">_items_event</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">minlen</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">maxlen</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">,</span>
        <span class="n">items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;deep&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">trait</span><span class="p">,</span> <span class="n">SequenceTypes</span><span class="p">):</span>
            <span class="n">trait</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">minlen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">minlen</span><span class="p">,</span> <span class="n">maxlen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_items</span> <span class="o">=</span> <span class="n">items</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">instance_handler</span> <span class="o">==</span> <span class="s2">&quot;_instance_changed_handler&quot;</span><span class="p">:</span>
            <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;instance_handler&quot;</span><span class="p">,</span> <span class="s2">&quot;_list_changed_handler&quot;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="List.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the values is a valid list.</span>

<span class="sd">        .. note::</span>

<span class="sd">            `object` can be None when validating a default value (see e.g.</span>
<span class="sd">            :meth:`~traits.trait_handlers.TraitType.clone`)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="nb">object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>

            <span class="k">return</span> <span class="n">TraitListObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="List.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">==</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;items&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;at most </span><span class="si">%d</span><span class="s2"> items&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span> <span class="o">==</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;at least </span><span class="si">%d</span><span class="s2"> items&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">minlen</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;from </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2"> items&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minlen</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxlen</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;a list of </span><span class="si">%s</span><span class="s2"> which are </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">size</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="List.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">list_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="List.inner_traits"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.List.inner_traits">[docs]</a>    <span class="k">def</span> <span class="nf">inner_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the *inner trait* (or traits) for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="p">,)</span></div>

    <span class="c1"># -- Private Methods ------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">items_event</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_items_event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_items_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span>
                <span class="n">TraitListEvent</span><span class="p">,</span> <span class="n">is_base</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_items_event</span></div>


<div class="viewcode-block" id="CList"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CList">[docs]</a><span class="k">class</span> <span class="nc">CList</span><span class="p">(</span><span class="n">List</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A coercing trait type for a list of values of the specified type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CList.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CList.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the values is a valid list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Should work for all iterables as well as strings (which do</span>
                <span class="c1"># not define an __iter__ method)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="CList.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CList.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="PrefixList"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PrefixList">[docs]</a><span class="k">class</span> <span class="nc">PrefixList</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Ensures that a value assigned to the attribute is a member of a list of</span>
<span class="sd">     specified string values, or is a unique prefix of one of those values.</span>

<span class="sd">    The values that can be assigned to a trait attribute of type PrefixList</span>
<span class="sd">    type is the set of all strings supplied to the PrefixList constructor,</span>
<span class="sd">    as well as any unique prefix of those strings. That is, if the set of</span>
<span class="sd">    strings supplied to the constructor is described by</span>
<span class="sd">    [*s*\ :sub:`1`\ , *s*\ :sub:`2`\ , ..., *s*\ :sub:`n`\ ], then the</span>
<span class="sd">    string *v* is a valid value for the trait if *v* == *s*\ :sub:`i[:j]`</span>
<span class="sd">    for one and only one pair of values (i, j). If *v* is a valid value,</span>
<span class="sd">    then the actual value assigned to the trait attribute is the</span>
<span class="sd">    corresponding *s*\ :sub:`i` value that *v* matched.</span>

<span class="sd">    The legal values can be provided as an iterable of values.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ::</span>
<span class="sd">        class Person(HasTraits):</span>
<span class="sd">            married = PrefixList([&#39;yes&#39;, &#39;no&#39;])</span>

<span class="sd">    The Person class has a **married** trait that accepts any of the</span>
<span class="sd">    strings &#39;y&#39;, &#39;ye&#39;, &#39;yes&#39;, &#39;n&#39;, or &#39;no&#39; as valid values. However, the</span>
<span class="sd">    actual values assigned as the value of the trait attribute are limited</span>
<span class="sd">    to either &#39;yes&#39; or &#39;no&#39;. That is, if the value &#39;y&#39; is assigned to the</span>
<span class="sd">    **married** attribute, the actual value assigned will be &#39;yes&#39;.</span>

<span class="sd">    Note that the algorithm used by PrefixList in determining whether</span>
<span class="sd">    a string is a valid value is fairly efficient in terms of both time and</span>
<span class="sd">    space, and is not based on a brute force set of comparisons.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    values</span>
<span class="sd">        A single iterable of legal string values.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    values : tuple of strings</span>
<span class="sd">        Enumeration of all legal values for a trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: The default value for the trait:</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#: The default value type to use (i.e. &#39;constant&#39;):</span>
    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">DefaultValue</span><span class="o">.</span><span class="n">constant</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;Legal values should be provided via an iterable of strings, &quot;</span>
                <span class="s2">&quot;got </span><span class="si">{!r}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values_</span> <span class="o">=</span> <span class="n">values_</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="n">values_</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>

        <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span>
        <span class="k">if</span> <span class="s1">&#39;default_value&#39;</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">:</span>
            <span class="n">default</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;default_value&#39;</span><span class="p">)</span>
            <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_for</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
            <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The iterable of legal string values can not be empty.&quot;</span>
            <span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">value_for</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;The value of a </span><span class="si">{}</span><span class="s2"> trait must be </span><span class="si">{}</span><span class="s2">, but a value of </span><span class="si">{!r}</span><span class="s2"> </span><span class="si">{!r}</span><span class="s2"> &quot;</span>
                <span class="s2">&quot;was specified.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="p">(),</span> <span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">values_</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>

        <span class="n">matches</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">value</span><span class="p">)]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values_</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">match</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">match</span>

        <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
            <span class="s2">&quot;The value of a </span><span class="si">{}</span><span class="s2"> trait must be </span><span class="si">{}</span><span class="s2">, but a value of </span><span class="si">{!r}</span><span class="s2"> </span><span class="si">{!r}</span><span class="s2"> was &quot;</span>
            <span class="s2">&quot;specified.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="p">(),</span> <span class="n">value</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="p">)</span>

<div class="viewcode-block" id="PrefixList.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PrefixList.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="s2">&quot; or &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">])</span>
            <span class="o">+</span> <span class="s2">&quot; (or any unique prefix)&quot;</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="Set"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set">[docs]</a><span class="k">class</span> <span class="nc">Set</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type for a set of values of the specified type.</span>

<span class="sd">    Note that this trait type creates copies of values on assignment, rather</span>
<span class="sd">    than assigning the exact instance. For example, consider::</span>

<span class="sd">        &gt;&gt;&gt; class A(HasTraits):</span>
<span class="sd">        ...     x = Set()</span>
<span class="sd">        ...</span>
<span class="sd">        &gt;&gt;&gt; b = set()</span>
<span class="sd">        &gt;&gt;&gt; a = A(x=b)</span>
<span class="sd">        &gt;&gt;&gt; a.x</span>
<span class="sd">        TraitSetObject()</span>
<span class="sd">        &gt;&gt;&gt; b.add(1)</span>
<span class="sd">        &gt;&gt;&gt; a.x</span>
<span class="sd">        TraitSetObject()</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    trait : a trait or value that can be converted using trait_from()</span>
<span class="sd">        The type of item that the set contains. If not specified, the set</span>
<span class="sd">        can contain items of any type.</span>
<span class="sd">    value : set</span>
<span class="sd">        Default value for the set.</span>
<span class="sd">    items : bool</span>
<span class="sd">        Whether there is a corresponding `&lt;name&gt;_items` trait.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    item_trait : a trait or value that can be converted to a trait</span>
<span class="sd">        The type of item that the set contains. If not specified, the set</span>
<span class="sd">        can contain items of any type.</span>
<span class="sd">    has_items : bool</span>
<span class="sd">        Whether there is a corresponding `&lt;name&gt;_items` trait.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">info_trait</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">DefaultValue</span><span class="o">.</span><span class="n">trait_set_object</span>
    <span class="n">_items_event</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;deep&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">trait</span><span class="p">,</span> <span class="n">SetTypes</span><span class="p">):</span>
            <span class="n">trait</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">,</span> <span class="nb">set</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_items</span> <span class="o">=</span> <span class="n">items</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="Set.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the values is a valid set.</span>

<span class="sd">        .. note::</span>

<span class="sd">            `object` can be None when validating a default value (see e.g.</span>
<span class="sd">            :meth:`~traits.trait_handlers.TraitType.clone`)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>

            <span class="k">return</span> <span class="n">TraitSetObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Set.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;a set of </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Set.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TextEditor</span>

        <span class="k">return</span> <span class="n">TextEditor</span><span class="p">(</span><span class="n">evaluate</span><span class="o">=</span><span class="nb">eval</span><span class="p">)</span></div>

<div class="viewcode-block" id="Set.inner_traits"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Set.inner_traits">[docs]</a>    <span class="k">def</span> <span class="nf">inner_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the *inner trait* (or traits) for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="p">,)</span></div>

    <span class="c1"># -- Private Methods ------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">items_event</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_items_event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_items_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span>
                <span class="n">TraitSetEvent</span><span class="p">,</span> <span class="n">is_base</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">_items_event</span></div>


<div class="viewcode-block" id="CSet"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CSet">[docs]</a><span class="k">class</span> <span class="nc">CSet</span><span class="p">(</span><span class="n">Set</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A coercing trait type for a set of values of the specified type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="CSet.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CSet.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the values is a valid list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Should work for all iterables as well as strings (which do</span>
                <span class="c1"># not define an __iter__ method)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">value</span><span class="p">])</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="CSet.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.CSet.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> or </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="Dict"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict">[docs]</a><span class="k">class</span> <span class="nc">Dict</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type for a dictionary with specified key and value types.</span>

<span class="sd">    Note that this trait type creates copies of values on assignment, rather</span>
<span class="sd">    than assigning the exact instance. For example, consider::</span>

<span class="sd">        &gt;&gt;&gt; class A(HasTraits):</span>
<span class="sd">        ...     x = Dict()</span>
<span class="sd">        ...</span>
<span class="sd">        &gt;&gt;&gt; b = {}</span>
<span class="sd">        &gt;&gt;&gt; a = A(x=b)</span>
<span class="sd">        &gt;&gt;&gt; a.x</span>
<span class="sd">        {}</span>
<span class="sd">        &gt;&gt;&gt; b[&#39;one&#39;] = 1</span>
<span class="sd">        &gt;&gt;&gt; a.x</span>
<span class="sd">        {}</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key_trait : a trait or value that can be converted using trait_from()</span>
<span class="sd">        The trait type for keys in the dictionary; if not specified, any</span>
<span class="sd">        values can be used as keys.</span>
<span class="sd">    value_trait : a trait or value that can be converted using trait_from()</span>
<span class="sd">        The trait type for values in the dictionary; if not specified, any</span>
<span class="sd">        values can be used as dictionary values.</span>
<span class="sd">    value : dict</span>
<span class="sd">        The default value for the returned trait.</span>
<span class="sd">    items : bool</span>
<span class="sd">        Indicates whether the value contains items.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    key_trait : a trait</span>
<span class="sd">        The trait type for keys in the dictionary; if not specified, any</span>
<span class="sd">        values can be used as keys.</span>
<span class="sd">    value_trait : a trait</span>
<span class="sd">        The trait type for values in the dictionary; if not specified, any</span>
<span class="sd">        values can be used as dictionary values.</span>
<span class="sd">    value_trait_handler : TraitHandler</span>
<span class="sd">        The TraitHandler for the value_trait.</span>
<span class="sd">    has_items : bool</span>
<span class="sd">        Indicates whether the value contains items.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">info_trait</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">DefaultValue</span><span class="o">.</span><span class="n">trait_dict_object</span>
    <span class="n">_items_event</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">key_trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value_trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key_trait</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">key_trait</span><span class="p">,</span> <span class="n">value_trait</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">value_trait</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key_trait</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">key_trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">key_trait</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">value_trait</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_items</span> <span class="o">=</span> <span class="n">items</span>

        <span class="n">handler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_trait</span><span class="o">.</span><span class="n">handler</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">handler</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="n">handler</span><span class="o">.</span><span class="n">has_items</span><span class="p">:</span>
            <span class="n">handler</span> <span class="o">=</span> <span class="n">handler</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
            <span class="n">handler</span><span class="o">.</span><span class="n">has_items</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_handler</span> <span class="o">=</span> <span class="n">handler</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="Dict.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid dictionary.</span>

<span class="sd">        Note</span>
<span class="sd">        ----</span>
<span class="sd">        `object` can be None when validating a default value (see e.g.</span>
<span class="sd">        :meth:`~traits.trait_handlers.TraitType.clone`)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>
            <span class="k">return</span> <span class="n">TraitDictObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Dict.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="s2">&quot;a dictionary with keys which are </span><span class="si">%s</span><span class="s2"> and with values which &quot;</span>
            <span class="s2">&quot;are </span><span class="si">%s</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">key_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Dict.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default UI editor for the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TextEditor</span>

        <span class="k">return</span> <span class="n">TextEditor</span><span class="p">(</span><span class="n">evaluate</span><span class="o">=</span><span class="nb">eval</span><span class="p">)</span></div>

<div class="viewcode-block" id="Dict.inner_traits"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Dict.inner_traits">[docs]</a>    <span class="k">def</span> <span class="nf">inner_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the *inner trait* (or traits) for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key_trait</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_trait</span><span class="p">)</span></div>

    <span class="c1"># -- Private Methods ------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">items_event</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_items_event</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_items_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="n">TraitDictEvent</span><span class="p">,</span> <span class="n">is_base</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_items_event</span></div>


<span class="c1">#: Allowed values and mappings for the &#39;adapt&#39; keyword.</span>
<span class="c1">#:</span>
<span class="c1">#: - &#39;no&#39;: Adaptation is not allowed.</span>
<span class="c1">#: - &#39;yes&#39;: Adaptation is allowed. If adaptation fails, an</span>
<span class="c1">#:   exception should be raised.</span>
<span class="c1">#: - &#39;default&#39;: Adaptation is allowed. If adaptation fails, the</span>
<span class="c1">#:   default value for the trait should be used.</span>
<span class="n">AdaptMap</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;no&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;yes&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>


<div class="viewcode-block" id="Map"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Map">[docs]</a><span class="k">class</span> <span class="nc">Map</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Checks that the value assigned to a trait attribute is a key of a</span>
<span class="sd">        specified dictionary, and also assigns the dictionary value</span>
<span class="sd">        corresponding to that key to a *shadow* attribute.</span>

<span class="sd">        A trait attribute of type Map is called a *mapped* trait</span>
<span class="sd">        attribute. In practice, this means that the resulting object actually</span>
<span class="sd">        contains two attributes: one whose value is a key of the Map</span>
<span class="sd">        dictionary, and the other whose value is the corresponding value of the</span>
<span class="sd">        Map dictionary. The name of the shadow attribute is simply the base</span>
<span class="sd">        attribute name with an underscore (&#39;_&#39;) appended. Mapped trait</span>
<span class="sd">        attributes can be used to allow a variety of user-friendly input values</span>
<span class="sd">        to be mapped to a set of internal, program-friendly values.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>

<span class="sd">        The following example defines a ``Person`` class::</span>

<span class="sd">            &gt;&gt;&gt; class Person(HasTraits):</span>
<span class="sd">            ...     married = Map({&#39;yes&#39;: 1, &#39;no&#39;: 0 }, default_value=&quot;yes&quot;)</span>
<span class="sd">            ...</span>
<span class="sd">            &gt;&gt;&gt; bob = Person()</span>
<span class="sd">            &gt;&gt;&gt; print(bob.married)</span>
<span class="sd">            yes</span>
<span class="sd">            &gt;&gt;&gt; print(bob.married_)</span>
<span class="sd">            1</span>

<span class="sd">        In this example, the default value of the ``married`` attribute of the</span>
<span class="sd">        Person class is &#39;yes&#39;. Because this attribute is defined using</span>
<span class="sd">        Map, instances of Person have another attribute,</span>
<span class="sd">        ``married_``, whose default value is 1, the dictionary value</span>
<span class="sd">        corresponding to the key &#39;yes&#39;.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        map : dict</span>
<span class="sd">            A dictionary whose keys are valid values for the trait attribute,</span>
<span class="sd">            and whose corresponding values are the values for the shadow</span>
<span class="sd">            trait attribute.</span>
<span class="sd">        default_value : object, optional</span>
<span class="sd">            The default value for the trait. If given, this should be a key</span>
<span class="sd">            from the mapping. If not given, the first key from the mapping (in</span>
<span class="sd">            normal dictionary iteration order) will be used as the default.</span>

<span class="sd">        Attributes</span>
<span class="sd">        ----------</span>
<span class="sd">        map : dict</span>
<span class="sd">            A dictionary whose keys are valid values for the trait attribute,</span>
<span class="sd">            and whose corresponding values are the values for the shadow</span>
<span class="sd">            trait attribute.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">is_mapped</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">map</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">map</span> <span class="o">=</span> <span class="nb">map</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">map</span><span class="p">,</span> <span class="nb">map</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">default_value</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;default_value&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">default_value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;The dictionary of valid values can not be empty.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">None</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="Map.mapped_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Map.mapped_value">[docs]</a>    <span class="k">def</span> <span class="nf">mapped_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get the mapped value for a value. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="p">[</span><span class="n">value</span><span class="p">]</span></div>

    <span class="k">def</span> <span class="nf">post_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapped_value</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

<div class="viewcode-block" id="Map.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Map.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">return</span> <span class="s2">&quot; or &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span></div>

<div class="viewcode-block" id="Map.get_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Map.get_editor">[docs]</a>    <span class="k">def</span> <span class="nf">get_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trait</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">EnumEditor</span>

        <span class="k">return</span> <span class="n">EnumEditor</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="n">trait</span><span class="o">.</span><span class="n">cols</span> <span class="ow">or</span> <span class="mi">3</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="PrefixMap"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PrefixMap">[docs]</a><span class="k">class</span> <span class="nc">PrefixMap</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A cross between the PrefixList and Map classes.</span>

<span class="sd">    Like Map, PrefixMap is created using a dictionary, but in this</span>
<span class="sd">    case, the keys of the dictionary must be strings. Like PrefixList,</span>
<span class="sd">    a string *v* is a valid value for the trait attribute if it is a prefix of</span>
<span class="sd">    one and only one key *k* in the dictionary. The actual values assigned to</span>
<span class="sd">    the trait attribute is *k*, and its corresponding mapped attribute is</span>
<span class="sd">    *map*[*k*].</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    ::</span>

<span class="sd">        mapping = {&#39;true&#39;: 1, &#39;yes&#39;: 1, &#39;false&#39;: 0, &#39;no&#39;: 0 }</span>
<span class="sd">        boolean_map = PrefixMap(mapping)</span>

<span class="sd">    This example defines a Boolean trait that accepts any prefix of &#39;true&#39;,</span>
<span class="sd">    &#39;yes&#39;, &#39;false&#39;, or &#39;no&#39;, and maps them to 1 or 0.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    map : dict</span>
<span class="sd">        A dictionary whose keys are strings that are valid values for the</span>
<span class="sd">        trait attribute, and whose corresponding values are the values for</span>
<span class="sd">        the shadow trait attribute.</span>
<span class="sd">    default_value : object, optional</span>
<span class="sd">        The default value for the trait. If given, this should be either a key</span>
<span class="sd">        from the mapping or a unique prefix of a key from the mapping. If not</span>
<span class="sd">        given, the first key from the mapping (in normal dictionary iteration</span>
<span class="sd">        order) will be used as the default.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    map : dict</span>
<span class="sd">        A dictionary whose keys are strings that are valid values for the</span>
<span class="sd">        trait attribute, and whose corresponding values are the values for</span>
<span class="sd">        the shadow trait attribute.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">is_mapped</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">map</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map</span> <span class="o">=</span> <span class="nb">map</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">map</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">default_value</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;default_value&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">default_value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;The dictionary of valid values can not be empty.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">default_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_for</span><span class="p">(</span><span class="n">default_value</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">value_for</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;Value must be </span><span class="si">{}</span><span class="s2">, but a value </span><span class="si">{!r}</span><span class="s2"> was specified.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="p">(),</span> <span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>

        <span class="n">matches</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">map</span> <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">value</span><span class="p">)]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_map</span><span class="p">[</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="n">match</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">match</span>

        <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
            <span class="s2">&quot;Value must be </span><span class="si">{}</span><span class="s2">, but a value </span><span class="si">{!r}</span><span class="s2"> was specified.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="p">(),</span> <span class="n">value</span><span class="p">)</span>
        <span class="p">)</span>

<div class="viewcode-block" id="PrefixMap.mapped_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PrefixMap.mapped_value">[docs]</a>    <span class="k">def</span> <span class="nf">mapped_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get the mapped value for a value. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="p">[</span><span class="n">value</span><span class="p">]</span></div>

    <span class="k">def</span> <span class="nf">post_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapped_value</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

<div class="viewcode-block" id="PrefixMap.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PrefixMap.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">return</span> <span class="s2">&quot; or &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; (or any unique prefix)&quot;</span></div>

<div class="viewcode-block" id="PrefixMap.get_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.PrefixMap.get_editor">[docs]</a>    <span class="k">def</span> <span class="nf">get_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trait</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">EnumEditor</span>

        <span class="k">return</span> <span class="n">EnumEditor</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="n">trait</span><span class="o">.</span><span class="n">cols</span> <span class="ow">or</span> <span class="mi">3</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="BaseClass"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseClass">[docs]</a><span class="k">class</span> <span class="nc">BaseClass</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A base trait type for trait types which have an associated class.</span>

<span class="sd">    Traits sometimes need to be able to access classes which have not</span>
<span class="sd">    yet been defined, or which are from a module that we want to defer</span>
<span class="sd">    importing from.  To support this, classes can be determined</span>
<span class="sd">    dynamically by specifying a string name for the class (e.g.</span>
<span class="sd">    ``&#39;package1.package2.module.class&#39;``).  This base class provides the</span>
<span class="sd">    machinery for this sort of deferred access to classes.</span>

<span class="sd">    Any subclass must define instances with &#39;klass&#39; and &#39;module&#39; attributes</span>
<span class="sd">    that contain the string name of the class (or actual class object) and</span>
<span class="sd">    the module name that contained the original trait definition (used for</span>
<span class="sd">    resolving local class names (e.g. &#39;LocalClass&#39;)).</span>

<span class="sd">    This is an abstract class that only provides helper methods used to</span>
<span class="sd">    resolve the class name into an actual class object.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    klass : type or str</span>
<span class="sd">        The class object or a string that refers to it.</span>
<span class="sd">    module : str</span>
<span class="sd">        The name of the module that contains the class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BaseClass.resolve_class"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseClass.resolve_class">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Resolve the class object as part of validation.</span>

<span class="sd">        This is called when the ``klass`` attribute is a string and sets the</span>
<span class="sd">        ``klass`` attribute to the actual klass object as a side-effect.  If</span>
<span class="sd">        the class cannot be resolved, it will call validate_failed().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span></div>

<div class="viewcode-block" id="BaseClass.validate_class"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseClass.validate_class">[docs]</a>    <span class="k">def</span> <span class="nf">validate_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">klass</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validate a class object. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">klass</span></div>

<div class="viewcode-block" id="BaseClass.find_class"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseClass.find_class">[docs]</a>    <span class="k">def</span> <span class="nf">find_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">klass</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Given a string describing a class, get the class object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span>
        <span class="n">col</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">col</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">module</span> <span class="o">=</span> <span class="n">klass</span><span class="p">[:</span><span class="n">col</span><span class="p">]</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span><span class="p">[</span><span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

        <span class="n">theClass</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">module</span><span class="p">),</span> <span class="n">klass</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">theClass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">col</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">mod</span> <span class="o">=</span> <span class="n">import_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
                <span class="n">theClass</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">klass</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="n">theClass</span></div>

<div class="viewcode-block" id="BaseClass.validate_failed"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseClass.validate_failed">[docs]</a>    <span class="k">def</span> <span class="nf">validate_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Raise a TraitError if the class could not be resolved. &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="BaseInstance"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance">[docs]</a><span class="k">class</span> <span class="nc">BaseInstance</span><span class="p">(</span><span class="n">BaseClass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value is an instance of a class or its subclasses.</span>

<span class="sd">    The default value is **None** if *klass* is an instance or if it is a</span>
<span class="sd">    class and *args* and *kw* are not specified. Otherwise, the default value</span>
<span class="sd">    is the instance obtained by calling ``klass(*args, **kw)``. Note that the</span>
<span class="sd">    constructor call is performed each time a default value is assigned, so</span>
<span class="sd">    each default value assigned is a unique instance.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    klass : class, str or instance</span>
<span class="sd">        The object that forms the basis for the trait; if it is an</span>
<span class="sd">        instance, then trait values must be instances of the same class or</span>
<span class="sd">        a subclass. This object is not the default value, even if it is an</span>
<span class="sd">        instance.  If the provided value is a string, it is expected to be</span>
<span class="sd">        a reference to a class that will be resolved at run-time.</span>
<span class="sd">    factory : callable</span>
<span class="sd">        A callable, typically a class, that when called with *args* and</span>
<span class="sd">        *kw*, returns the default value for the trait. If not specified,</span>
<span class="sd">        or *None*, *klass* is used as the factory.</span>
<span class="sd">    args : tuple</span>
<span class="sd">        Positional arguments for generating the default value.</span>
<span class="sd">    kw : dictionary</span>
<span class="sd">        Keyword arguments for generating the default value.</span>
<span class="sd">    allow_none : bool</span>
<span class="sd">        Indicates whether None is allowed as a value.</span>
<span class="sd">    adapt : str</span>
<span class="sd">        A string specifying how adaptation should be applied. The possible</span>
<span class="sd">        values are:</span>

<span class="sd">        - &#39;no&#39;: Adaptation is not allowed.</span>
<span class="sd">        - &#39;yes&#39;: Adaptation is allowed. If adaptation fails, an</span>
<span class="sd">          exception should be raised.</span>
<span class="sd">        - &#39;default&#39;: Adaptation is allowed. If adaptation fails, the</span>
<span class="sd">          default value for the trait should be used.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    factory : callable</span>
<span class="sd">        A callable, typically a class, that when called with *args* and</span>
<span class="sd">        *kw*, returns the default value for the trait. If not specified,</span>
<span class="sd">        or *None*, *klass* is used as the factory.</span>
<span class="sd">    args : tuple</span>
<span class="sd">        Positional arguments for generating the default value.</span>
<span class="sd">    kw : dictionary</span>
<span class="sd">        Keyword arguments for generating the default value.</span>
<span class="sd">    allow_none : bool</span>
<span class="sd">        Indicates whether None is allowed as a value.</span>
<span class="sd">    adapt : str</span>
<span class="sd">        A string specifying how adaptation should be applied. The possible</span>
<span class="sd">        values are:</span>

<span class="sd">        - &#39;no&#39;: Adaptation is not allowed.</span>
<span class="sd">        - &#39;yes&#39;: Adaptation is allowed. If adaptation fails, an</span>
<span class="sd">          exception should be raised.</span>
<span class="sd">        - &#39;default&#39;: Adaptation is allowed. If adaptation fails, the</span>
<span class="sd">          default value for the trait should be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: Default adaptation behavior.</span>
    <span class="n">adapt_default</span> <span class="o">=</span> <span class="s2">&quot;no&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">klass</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">factory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">kw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">adapt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">module</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;A </span><span class="si">%s</span><span class="s2"> trait must have a class specified.&quot;</span>
                <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
            <span class="p">)</span>

        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;deep&quot;</span><span class="p">)</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;instance_handler&quot;</span><span class="p">,</span> <span class="s2">&quot;_instance_changed_handler&quot;</span><span class="p">)</span>

        <span class="n">adapt</span> <span class="o">=</span> <span class="n">adapt</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt_default</span>
        <span class="k">if</span> <span class="n">adapt</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">AdaptMap</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;&#39;adapt&#39; must be &#39;yes&#39;, &#39;no&#39; or &#39;default&#39;.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">args</span><span class="p">,</span> <span class="n">factory</span> <span class="o">=</span> <span class="n">factory</span><span class="p">,</span> <span class="n">klass</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">factory</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span> <span class="o">=</span> <span class="n">klass</span><span class="p">,</span> <span class="n">factory</span><span class="p">,</span> <span class="n">args</span>

        <span class="k">elif</span> <span class="p">(</span><span class="n">kw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">kw</span><span class="p">,</span> <span class="n">factory</span> <span class="o">=</span> <span class="n">factory</span><span class="p">,</span> <span class="n">klass</span>

        <span class="k">elif</span> <span class="p">((</span><span class="n">args</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">kw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span><span class="n">factory</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">factory</span> <span class="o">=</span> <span class="n">klass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span> <span class="o">=</span> <span class="n">allow_none</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">=</span> <span class="n">AdaptMap</span><span class="p">[</span><span class="n">adapt</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">module</span> <span class="ow">or</span> <span class="n">get_module_name</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
                <span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__class__</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">()</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">factory</span>
        <span class="k">if</span> <span class="n">factory</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">args</span> <span class="o">=</span> <span class="p">()</span>

            <span class="k">if</span> <span class="n">kw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="n">kw</span> <span class="o">=</span> <span class="n">args</span>
                    <span class="n">args</span> <span class="o">=</span> <span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">kw</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kw</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;The &#39;kw&#39; argument must be a dictionary.&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">callable</span><span class="p">(</span><span class="n">factory</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;&#39;factory&#39; must be callable&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">_InstanceArgs</span><span class="p">(</span><span class="n">factory</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span> <span class="o">=</span> <span class="n">value</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="BaseInstance.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid object instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traits.adaptation.api</span> <span class="k">import</span> <span class="n">adapt</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">value</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="c1"># Adaptation mode 0: do a simple isinstance check.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="c1"># Try adaptation; return adapted value on success.</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">adapt</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span>

        <span class="c1"># Adaptation failed. Move on to an isinstance check.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="c1"># Adaptation and isinstance both failed. In mode 1, fail.</span>
        <span class="c1"># Otherwise, return the default.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">_InstanceArgs</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="o">*</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="BaseInstance.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">class_of</span><span class="p">(</span><span class="n">klass</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;an implementor of, or can be adapted to implement, </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">klass</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span> <span class="o">+</span> <span class="s2">&quot; or None&quot;</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="BaseInstance.get_default_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.get_default_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a tuple of the form: ( default_value_type, default_value )</span>
<span class="sd">            which describes the default value for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span>
        <span class="n">dvt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_value_type</span>
        <span class="k">if</span> <span class="n">dvt</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dv</span><span class="p">,</span> <span class="n">_InstanceArgs</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">default_value_type</span> <span class="o">=</span> <span class="n">dvt</span> <span class="o">=</span> <span class="n">DefaultValue</span><span class="o">.</span><span class="n">callable_and_args</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span> <span class="o">=</span> <span class="n">dv</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">create_default_value</span><span class="p">,</span>
                <span class="n">dv</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
                <span class="n">dv</span><span class="o">.</span><span class="n">kw</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">dvt</span><span class="p">,</span> <span class="n">dv</span><span class="p">)</span></div>

<div class="viewcode-block" id="BaseInstance.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the default traits UI editor for this type of trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">InstanceEditor</span>

        <span class="k">return</span> <span class="n">InstanceEditor</span><span class="p">(</span>
            <span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">view</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kind</span> <span class="ow">or</span> <span class="s2">&quot;live&quot;</span><span class="p">,</span>
        <span class="p">)</span></div>

    <span class="c1"># -- Private Methods ------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">create_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find_class</span><span class="p">(</span><span class="n">klass</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;Unable to locate class: &quot;</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">klass</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>

    <span class="c1">#: fixme: Do we still need this method using the new style?...</span>
<div class="viewcode-block" id="BaseInstance.allow_none"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.allow_none">[docs]</a>    <span class="k">def</span> <span class="nf">allow_none</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">()</span></div>

<div class="viewcode-block" id="BaseInstance.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Does nothing for the BaseInstance&#39; class. Used by the &#39;Instance&#39;,</span>
<span class="sd">            &#39;Supports&#39; and &#39;AdaptsTo&#39; classes to set up the C-level fast</span>
<span class="sd">            validator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="BaseInstance.resolve_class"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.BaseInstance.resolve_class">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="c1"># fixme: The following is quite ugly, because it wants to try and fix</span>
        <span class="c1"># the trait referencing this handler to use the &#39;fast path&#39; now that</span>
        <span class="c1"># the actual class has been resolved. The problem is finding the trait,</span>
        <span class="c1"># especially in the case of List(Instance(&#39;foo&#39;)), where the</span>
        <span class="c1"># object.base_trait(...) value is the List trait, not the Instance</span>
        <span class="c1"># trait, so we need to check for this and pull out the List</span>
        <span class="c1"># &#39;item_trait&#39;. Obviously this does not extend well to other traits</span>
        <span class="c1"># containing nested trait references (Dict?)...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_fast_validate</span><span class="p">()</span>
        <span class="n">trait</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">base_trait</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">handler</span> <span class="o">=</span> <span class="n">trait</span><span class="o">.</span><span class="n">handler</span>
        <span class="k">if</span> <span class="n">handler</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">set_validate</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="s2">&quot;set_validate&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">set_validate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># The outer trait is a TraitCompound. Recompute its</span>
                <span class="c1"># fast_validate table now that we have updated ours.</span>
                <span class="c1"># FIXME: there are probably still issues if the TraitCompound</span>
                <span class="c1"># is further nested.</span>
                <span class="n">set_validate</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">item_trait</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="s2">&quot;item_trait&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">item_trait</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">item_trait</span><span class="o">.</span><span class="n">handler</span> <span class="ow">is</span> <span class="bp">self</span><span class="p">:</span>
                    <span class="c1"># The outer trait is a List trait.</span>
                    <span class="n">trait</span> <span class="o">=</span> <span class="n">item_trait</span>
                    <span class="n">handler</span> <span class="o">=</span> <span class="bp">self</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span>
        <span class="k">if</span> <span class="n">handler</span><span class="o">.</span><span class="n">fast_validate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">trait</span><span class="o">.</span><span class="n">set_validate</span><span class="p">(</span><span class="n">handler</span><span class="o">.</span><span class="n">fast_validate</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Instance"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Instance">[docs]</a><span class="k">class</span> <span class="nc">Instance</span><span class="p">(</span><span class="n">BaseInstance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A fast-validated trait type whose value is an instance of a class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Instance.init_fast_validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Instance.init_fast_validate">[docs]</a>    <span class="k">def</span> <span class="nf">init_fast_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Sets up the C-level fast validator. &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">[</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">:</span>
                <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">[</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fast_validate</span> <span class="o">=</span> <span class="p">[</span><span class="n">ValidateTrait</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">]</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="ow">in</span> <span class="n">TypeTypes</span><span class="p">:</span>
                <span class="n">fast_validate</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ValidateTrait</span><span class="o">.</span><span class="n">type</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">fast_validate</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ValidateTrait</span><span class="o">.</span><span class="n">adapt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Supports"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Supports">[docs]</a><span class="k">class</span> <span class="nc">Supports</span><span class="p">(</span><span class="n">Instance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value is adapted to a specified protocol.</span>

<span class="sd">    In other words, the value of the trait directly provide, or can be adapted</span>
<span class="sd">    to, the given protocol (Interface or type).</span>

<span class="sd">    The value of the trait after assignment is the possibly adapted value</span>
<span class="sd">    (i.e., it is the original assigned value if that provides the protocol,</span>
<span class="sd">    or is an adapter otherwise).</span>

<span class="sd">    The original, unadapted value is stored in a &quot;shadow&quot; attribute with</span>
<span class="sd">    the same name followed by an underscore (e.g., ``foo`` and ``foo_``).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">adapt_default</span> <span class="o">=</span> <span class="s2">&quot;yes&quot;</span>

<div class="viewcode-block" id="Supports.post_setattr"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Supports.post_setattr">[docs]</a>    <span class="k">def</span> <span class="nf">post_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Performs additional post-assignment processing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Save the original, unadapted value in the mapped trait:</span>
        <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span></div>

<div class="viewcode-block" id="Supports.as_ctrait"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Supports.as_ctrait">[docs]</a>    <span class="k">def</span> <span class="nf">as_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a CTrait corresponding to the trait defined by this class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">modify_ctrait</span><span class="p">(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">())</span></div>

    <span class="k">def</span> <span class="nf">modify_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctrait</span><span class="p">):</span>

        <span class="c1"># Tell the C code that the &#39;post_setattr&#39; method wants the original,</span>
        <span class="c1"># unadapted value passed to &#39;setattr&#39;:</span>
        <span class="n">ctrait</span><span class="o">.</span><span class="n">post_setattr_original_value</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">ctrait</span></div>


<div class="viewcode-block" id="AdaptsTo"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.AdaptsTo">[docs]</a><span class="k">class</span> <span class="nc">AdaptsTo</span><span class="p">(</span><span class="n">Supports</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must support a specified protocol.</span>

<span class="sd">    In other words, the value of the trait directly provide, or can be adapted</span>
<span class="sd">    to, the given protocol (Interface or type).</span>

<span class="sd">    The value of the trait after assignment is the original, unadapted value.</span>

<span class="sd">    A possibly adapted value is stored in a &quot;shadow&quot; attribute with</span>
<span class="sd">    the same name followed by an underscore (e.g., ``foo`` and ``foo_``).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">modify_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ctrait</span><span class="p">):</span>
        <span class="c1"># Tell the C code that &#39;setattr&#39; should store the original, unadapted</span>
        <span class="c1"># value passed to it:</span>
        <span class="n">ctrait</span><span class="o">.</span><span class="n">setattr_original_value</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">ctrait</span></div>


<div class="viewcode-block" id="Type"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type">[docs]</a><span class="k">class</span> <span class="nc">Type</span><span class="p">(</span><span class="n">BaseClass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value must be a subclass of a specified class.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    value : class or None</span>
<span class="sd">        The default value of the trait.</span>
<span class="sd">    klass : class, str or None</span>
<span class="sd">        The class that trait values must be subclasses of.  If None, then</span>
<span class="sd">        the default value is used instead.  If both are None, then the</span>
<span class="sd">        ``object`` type is used.  If it is a string, the first time that</span>
<span class="sd">        the validate method is called, the class will be imported and</span>
<span class="sd">        the value replaced with the class object.</span>
<span class="sd">    allow_none : bool</span>
<span class="sd">        Indicates whether None is allowed as an assignable value. Even if</span>
<span class="sd">        **False**, the default *value* may be **None**.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    klass : class or str</span>
<span class="sd">        The class that trait values must be subclasses of.  If this is a</span>
<span class="sd">        string, the first time that the validate method is called, the</span>
<span class="sd">        class will be imported and the value replaced with the class object.</span>
<span class="sd">    module : str</span>
<span class="sd">        The name of the module where local class names (ie. class names</span>
<span class="sd">        with no module components) are presumed to be importable from.</span>
<span class="sd">        This is the caller&#39;s caller&#39;s module, as determined by the</span>
<span class="sd">        ``get_module_method``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">klass</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">klass</span> <span class="o">=</span> <span class="nb">object</span>

        <span class="k">elif</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve</span>

        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="s2">&quot;A Type trait must specify a class.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span> <span class="o">=</span> <span class="n">allow_none</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">get_module_name</span><span class="p">()</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="Type.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Validates that the value is a valid object instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Type.resolve"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.resolve">[docs]</a>    <span class="k">def</span> <span class="nf">resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Resolves a class originally specified as a string into an actual</span>
<span class="sd">            class, then resets the trait so that future calls will be handled</span>
<span class="sd">            by the normal validate method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Type.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span>

        <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;a subclass of &quot;</span> <span class="o">+</span> <span class="n">klass</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_none</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span> <span class="o">+</span> <span class="s2">&quot; or None&quot;</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="Type.get_default_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.get_default_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a tuple of the form: ( default_value_type, default_value )</span>
<span class="sd">        which describes the default value for this trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="n">DefaultValue</span><span class="o">.</span><span class="n">callable_and_args</span><span class="p">,</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resolve_default_value</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Type.resolve_default_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Type.resolve_default_value">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Resolves a class name into a class so that it can be used to</span>
<span class="sd">            return the class as the default value of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resolve_class</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                    <span class="s2">&quot;Could not resolve </span><span class="si">%s</span><span class="s2"> into a valid class&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span></div></div>


<span class="c1">#: An alias for the Type trait</span>
<span class="n">Subclass</span> <span class="o">=</span> <span class="n">Type</span>


<div class="viewcode-block" id="Event"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Event">[docs]</a><span class="k">class</span> <span class="nc">Event</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type that holds no value but can be set and listened to.</span>

<span class="sd">    Event traits are write-only traits.  They do not hold any value, but</span>
<span class="sd">    they can be assigned to, and listeners to the trait will be notified</span>
<span class="sd">    of the assignment.  Since no value is held, trait change functions that</span>
<span class="sd">    ask for the ``old`` value of the trait will be given the Undefined</span>
<span class="sd">    special value.</span>

<span class="sd">    Event traits can be given an optional trait type that is used to validate</span>
<span class="sd">    values assigned to the trait.  If the assigned value does not validate,</span>
<span class="sd">    then a TraitError will occur.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    trait : a trait</span>
<span class="sd">        The type of value that can be assigned to the event.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;event&quot;</span>
        <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;transient&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">trait</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">trait</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trait</span> <span class="o">=</span> <span class="n">trait_from</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>
            <span class="n">validate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">trait</span><span class="o">.</span><span class="n">get_validate</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">validate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fast_validate</span> <span class="o">=</span> <span class="n">validate</span>

<div class="viewcode-block" id="Event.full_info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Event.full_info">[docs]</a>    <span class="k">def</span> <span class="nf">full_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a description of the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">trait</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">trait</span>
        <span class="k">if</span> <span class="n">trait</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;any value&quot;</span>

        <span class="k">return</span> <span class="n">trait</span><span class="o">.</span><span class="n">full_info</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Button"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Button">[docs]</a><span class="k">class</span> <span class="nc">Button</span><span class="p">(</span><span class="n">Event</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; An Event trait type whose UI editor is a button.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    label : str</span>
<span class="sd">        The label for the button.</span>
<span class="sd">    image : pyface.ImageResource</span>
<span class="sd">        An image to display on the button.</span>
<span class="sd">    style : &#39;button&#39;, &#39;radio&#39;, &#39;toolbar&#39; or &#39;checkbox&#39;</span>
<span class="sd">        The style of button to display.</span>
<span class="sd">    values_trait : str</span>
<span class="sd">        For a &quot;button&quot; or &quot;toolbar&quot; style, the name of an enum</span>
<span class="sd">        trait whose values will populate a drop-down menu on the button.</span>
<span class="sd">        The selected value will replace the label on the button.</span>
<span class="sd">    orientation : &#39;horizontal&#39; or &#39;vertical&#39;</span>
<span class="sd">        The orientation of the label relative to the image.</span>
<span class="sd">    width_padding : integer between 0 and 31</span>
<span class="sd">        Extra padding (in pixels) added to the left and right sides of</span>
<span class="sd">        the button.</span>
<span class="sd">    height_padding : integer between 0 and 31</span>
<span class="sd">        Extra padding (in pixels) added to the top and bottom of the</span>
<span class="sd">        button.</span>
<span class="sd">    view : traitsui View, optional</span>
<span class="sd">        An optional View to display when the button is clicked.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    label : str</span>
<span class="sd">        The label for the button.</span>
<span class="sd">    image : pyface.ImageResource</span>
<span class="sd">        An image to display on the button.</span>
<span class="sd">    style : &#39;button&#39;, &#39;radio&#39;, &#39;toolbar&#39; or &#39;checkbox&#39;</span>
<span class="sd">        The style of button to display.</span>
<span class="sd">    values_trait : str</span>
<span class="sd">        For a &quot;button&quot; or &quot;toolbar&quot; style, the name of an enum</span>
<span class="sd">        trait whose values will populate a drop-down menu on the button.</span>
<span class="sd">        The selected value will replace the label on the button.</span>
<span class="sd">    orientation : &#39;horizontal&#39; or &#39;vertical&#39;</span>
<span class="sd">        The orientation of the label relative to the image.</span>
<span class="sd">    width_padding : integer between 0 and 31</span>
<span class="sd">        Extra padding (in pixels) added to the left and right sides of</span>
<span class="sd">        the button.</span>
<span class="sd">    height_padding : integer between 0 and 31</span>
<span class="sd">        Extra padding (in pixels) added to the top and bottom of the</span>
<span class="sd">        button.</span>
<span class="sd">    view : traitsui View, optional</span>
<span class="sd">        An optional View to display when the button is clicked.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">values_trait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">style</span><span class="o">=</span><span class="s2">&quot;button&quot;</span><span class="p">,</span>
        <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
        <span class="n">width_padding</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
        <span class="n">height_padding</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="n">view</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values_trait</span> <span class="o">=</span> <span class="n">values_trait</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="n">orientation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_padding</span> <span class="o">=</span> <span class="n">width_padding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_padding</span> <span class="o">=</span> <span class="n">height_padding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="o">=</span> <span class="n">view</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="Button.create_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Button.create_editor">[docs]</a>    <span class="k">def</span> <span class="nf">create_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">ButtonEditor</span>

        <span class="n">editor</span> <span class="o">=</span> <span class="n">ButtonEditor</span><span class="p">(</span>
            <span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">,</span>
            <span class="n">values_trait</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">values_trait</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">,</span>
            <span class="n">orientation</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">,</span>
            <span class="n">width_padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width_padding</span><span class="p">,</span>
            <span class="n">height_padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height_padding</span><span class="p">,</span>
            <span class="n">view</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">editor</span></div></div>


<div class="viewcode-block" id="ToolbarButton"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.ToolbarButton">[docs]</a><span class="k">class</span> <span class="nc">ToolbarButton</span><span class="p">(</span><span class="n">Button</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A Button trait type whose UI editor is a toolbar button.</span>

<span class="sd">    This is just a Button trait with different defaults to style it like</span>
<span class="sd">    a toolbar button.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    label : str</span>
<span class="sd">        The label for the button.</span>
<span class="sd">    image : pyface.ImageResource</span>
<span class="sd">        An image to display on the button.</span>
<span class="sd">    style : &#39;button&#39;, &#39;radio&#39;, &#39;toolbar&#39; or &#39;checkbox&#39;</span>
<span class="sd">        The style of button to display.</span>
<span class="sd">    orientation : &#39;horizontal&#39; or &#39;vertical&#39;</span>
<span class="sd">        The orientation of the label relative to the image.</span>
<span class="sd">    width_padding : integer between 0 and 31</span>
<span class="sd">        Extra padding (in pixels) added to the left and right sides of</span>
<span class="sd">        the button.</span>
<span class="sd">    height_padding : integer between 0 and 31</span>
<span class="sd">        Extra padding (in pixels) added to the top and bottom of the</span>
<span class="sd">        button.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    label : str</span>
<span class="sd">        The label for the button.</span>
<span class="sd">    image : pyface.ImageResource</span>
<span class="sd">        An image to display on the button.</span>
<span class="sd">    style : &#39;button&#39;, &#39;radio&#39;, &#39;toolbar&#39; or &#39;checkbox&#39;</span>
<span class="sd">        The style of button to display.</span>
<span class="sd">    values_trait : str</span>
<span class="sd">        For a &quot;button&quot; or &quot;toolbar&quot; style, the name of an enum</span>
<span class="sd">        trait whose values will populate a drop-down menu on the button.</span>
<span class="sd">        The selected value will replace the label on the button.</span>
<span class="sd">    orientation : &#39;horizontal&#39; or &#39;vertical&#39;</span>
<span class="sd">        The orientation of the label relative to the image.</span>
<span class="sd">    width_padding : integer between 0 and 31</span>
<span class="sd">        Extra padding (in pixels) added to the left and right sides of</span>
<span class="sd">        the button.</span>
<span class="sd">    height_padding : integer between 0 and 31</span>
<span class="sd">        Extra padding (in pixels) added to the top and bottom of the</span>
<span class="sd">        button.</span>
<span class="sd">    view : traitsui View, optional</span>
<span class="sd">        An optional View to display when the button is clicked.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">style</span><span class="o">=</span><span class="s2">&quot;toolbar&quot;</span><span class="p">,</span>
        <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
        <span class="n">width_padding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">height_padding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">label</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
            <span class="n">orientation</span><span class="o">=</span><span class="n">orientation</span><span class="p">,</span>
            <span class="n">width_padding</span><span class="o">=</span><span class="n">width_padding</span><span class="p">,</span>
            <span class="n">height_padding</span><span class="o">=</span><span class="n">height_padding</span><span class="p">,</span>
            <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Either"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Either">[docs]</a><span class="k">class</span> <span class="nc">Either</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type whose value can be any of of a specified list of traits.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    *traits</span>
<span class="sd">        Arguments that define allowable trait values.</span>
<span class="sd">    **metadata</span>
<span class="sd">        Trait metadata for the trait.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    trait_maker : TraitHandler</span>
<span class="sd">        A TraitHandler generated by _TraitMaker from the arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">traits</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trait_maker</span> <span class="o">=</span> <span class="n">_TraitMaker</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="o">*</span><span class="n">traits</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Either.as_ctrait"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Either.as_ctrait">[docs]</a>    <span class="k">def</span> <span class="nf">as_ctrait</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a CTrait corresponding to the trait defined by this class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">trait_maker</span><span class="o">.</span><span class="n">as_ctrait</span><span class="p">()</span></div></div>


<span class="k">class</span> <span class="nc">_NoneTrait</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait that only accepts the None value</span>

<span class="sd">    This is primarily used for supporting ``Union``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>

    <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">default_value_type</span> <span class="o">=</span> <span class="n">DefaultValue</span><span class="o">.</span><span class="n">constant</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="n">default_value</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;default_value&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">default_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot set default value </span><span class="si">{}</span><span class="s2"> &quot;</span>
                             <span class="s2">&quot;for _NoneTrait&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">default_value</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>


<div class="viewcode-block" id="Union"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Union">[docs]</a><span class="k">class</span> <span class="nc">Union</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a trait whose value can be any of of a specified list of</span>
<span class="sd">    trait types or list of trait type instances or None</span>

<span class="sd">    If the default value is not defined on Union, the default value from the</span>
<span class="sd">    first trait will be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">traits</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list_ctrait_instances</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">traits</span><span class="p">:</span>
            <span class="n">traits</span> <span class="o">=</span> <span class="p">(</span><span class="n">_NoneTrait</span><span class="p">,)</span>

        <span class="k">for</span> <span class="n">trait</span> <span class="ow">in</span> <span class="n">traits</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">trait</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">trait</span> <span class="o">=</span> <span class="n">_NoneTrait</span>
            <span class="n">ctrait_instance</span> <span class="o">=</span> <span class="n">trait_cast</span><span class="p">(</span><span class="n">trait</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ctrait_instance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Union trait declaration expects a trait &quot;</span>
                                 <span class="s2">&quot;type or an instance of trait type or None,&quot;</span>
                                 <span class="s2">&quot; but got </span><span class="si">{!r}</span><span class="s2"> instead&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">trait</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">list_ctrait_instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ctrait_instance</span><span class="p">)</span>

        <span class="c1"># ``Either`` uses &#39;default&#39; for defining static default values.</span>
        <span class="c1"># Raise if &#39;default&#39; is found in order to help code migrate to Union</span>
        <span class="k">if</span> <span class="s2">&quot;default&quot;</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Union default value should be set via &#39;default_value&#39;, not &quot;</span>
                <span class="s2">&quot;&#39;default&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="n">default_value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;default_value&#39;</span> <span class="ow">in</span> <span class="n">metadata</span><span class="p">:</span>
            <span class="n">default_value</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;default_value&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_ctrait_instances</span><span class="p">:</span>
            <span class="n">default_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_ctrait_instances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">default</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">default_value_type</span> <span class="o">=</span> <span class="n">_infer_default_value_type</span><span class="p">(</span><span class="n">default_value</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">default_value</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>

<div class="viewcode-block" id="Union.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Union.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the value by the first trait in the list that can</span>
<span class="sd">        validate the assigned value, raise an error if none of them can.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">trait_type_instance</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_ctrait_instances</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">trait_type_instance</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">TraitError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Union.info"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Union.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot; or &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">ctrait</span><span class="o">.</span><span class="n">info</span><span class="p">()</span> <span class="k">for</span> <span class="n">ctrait</span> <span class="ow">in</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">list_ctrait_instances</span><span class="p">])</span></div>

<div class="viewcode-block" id="Union.inner_traits"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Union.inner_traits">[docs]</a>    <span class="k">def</span> <span class="nf">inner_traits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_ctrait_instances</span><span class="p">)</span></div>

<div class="viewcode-block" id="Union.get_editor"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Union.get_editor">[docs]</a>    <span class="k">def</span> <span class="nf">get_editor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trait</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="k">import</span> <span class="n">TextEditor</span><span class="p">,</span> <span class="n">CompoundEditor</span>

        <span class="n">the_editors</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">get_editor</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_ctrait_instances</span><span class="p">]</span>
        <span class="n">text_editor</span> <span class="o">=</span> <span class="n">TextEditor</span><span class="p">()</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">editors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">editor</span> <span class="ow">in</span> <span class="n">the_editors</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">text_editor</span><span class="p">,</span> <span class="n">editor</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">continue</span>
            <span class="n">editors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">editor</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">CompoundEditor</span><span class="p">(</span><span class="n">editors</span><span class="o">=</span><span class="n">editors</span><span class="p">)</span></div></div>


<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1">#  &#39;Symbol&#39; trait:</span>
<span class="c1"># -------------------------------------------------------------------------------</span>
<div class="viewcode-block" id="Symbol"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.Symbol">[docs]</a><span class="k">class</span> <span class="nc">Symbol</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A property trait type that refers to a Python object by name.</span>

<span class="sd">    The value set to the trait must be a value of the form</span>
<span class="sd">    ``&#39;[package.package...package.]module[:symbol[([arg1,...,argn])]]&#39;``</span>
<span class="sd">    which is imported and evaluated to get underlying value.</span>

<span class="sd">    The value returned by the trait is the actual object that this string</span>
<span class="sd">    refers to.  The value is cached, so any calls are only evaluated once.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;an object or a string of the form &quot;</span>
        <span class="s2">&quot;&#39;[package.package...package.]module[:symbol[([arg1,...,argn])]]&#39; &quot;</span>
        <span class="s2">&quot;specifying where to locate the object&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">Undefined</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">Undefined</span><span class="p">:</span>
            <span class="n">cache</span> <span class="o">=</span> <span class="n">TraitsCache</span> <span class="o">+</span> <span class="n">name</span>
            <span class="n">ref</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cache</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ref</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">cache</span><span class="p">]</span> <span class="o">=</span> <span class="n">ref</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">trait</span><span class="p">(</span>
                    <span class="n">name</span>
                <span class="p">)</span><span class="o">.</span><span class="n">default_value_for</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">dict</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span>
        <span class="n">old</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">Undefined</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="nb">dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="nb">dict</span><span class="p">[</span><span class="n">TraitsCache</span> <span class="o">+</span> <span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="nb">object</span><span class="o">.</span><span class="n">trait_property_changed</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">old</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="nb">object</span><span class="o">.</span><span class="n">trait_property_changed</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">old</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_resolve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ref</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="n">ref</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">symbol</span> <span class="o">=</span> <span class="n">import_symbol</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">symbol</span>

            <span class="n">args</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">args</span><span class="p">,)</span>

            <span class="k">return</span> <span class="n">symbol</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;Could not resolve &#39;</span><span class="si">%s</span><span class="s2">&#39; into a valid symbol.&quot;</span> <span class="o">%</span> <span class="n">ref</span>
            <span class="p">)</span></div>


<div class="viewcode-block" id="UUID"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.UUID">[docs]</a><span class="k">class</span> <span class="nc">UUID</span><span class="p">(</span><span class="n">TraitType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A read-only trait type whose value is a globally unique UUID (type 4).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    can_init : bool</span>
<span class="sd">        Whether the value can be set during object instantiation.  Otherwise</span>
<span class="sd">        the UUID is generated automatically.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>

<span class="sd">    Passing `can_init=True` allows the UUID value to be set during</span>
<span class="sd">    object instantiation, e.g.::</span>

<span class="sd">        class A(HasTraits):</span>
<span class="sd">            id = UUID</span>

<span class="sd">        class B(HasTraits):</span>
<span class="sd">            id = UUID(can_init=True)</span>

<span class="sd">        # TraitError!</span>
<span class="sd">        A(id=uuid.uuid4())</span>

<span class="sd">        # Okay!</span>
<span class="sd">        B(id=uuid.uuid4())</span>

<span class="sd">    Note however that in both cases, the UUID trait is set automatically</span>
<span class="sd">    to a `uuid.UUID` instance (assuming none is provided during initialization</span>
<span class="sd">    in the latter case).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A description of the type of value this trait accepts:</span>
    <span class="n">info_text</span> <span class="o">=</span> <span class="s2">&quot;a read-only UUID&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">can_init</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">metadata</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">can_init</span> <span class="o">=</span> <span class="n">can_init</span>

<div class="viewcode-block" id="UUID.validate"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.UUID.validate">[docs]</a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Raises an error, since no values can be assigned to the trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_init</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span>
                <span class="s2">&quot;The &#39;</span><span class="si">%s</span><span class="s2">&#39; trait of </span><span class="si">%s</span><span class="s2"> instance is a read-only &quot;</span>
                <span class="s2">&quot;UUID.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">class_of</span><span class="p">(</span><span class="nb">object</span><span class="p">))</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">object</span><span class="o">.</span><span class="n">traits_inited</span><span class="p">():</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Initializable UUID trait is read-only &quot;</span>
                   <span class="s2">&quot;after initialization&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Construct the UUID from a string</span>
            <span class="k">return</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The &#39;</span><span class="si">{}</span><span class="s2">&#39; trait of &#39;</span><span class="si">{}</span><span class="s2">&#39; expects an RFC 4122-compatible &quot;</span>
                   <span class="s2">&quot;UUID value, but &#39;</span><span class="si">{}</span><span class="s2">&#39; was given&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">TraitError</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span></div>

<div class="viewcode-block" id="UUID.get_default_value"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.UUID.get_default_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return a Traits default value tuple for the trait.</span>

<span class="sd">        This uses the _create_uuid method to generate the defualt value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">DefaultValue</span><span class="o">.</span><span class="n">callable_and_args</span><span class="p">,</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_create_uuid</span><span class="p">,</span> <span class="p">(),</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">)</span></div>

    <span class="c1"># -- Private Methods ---------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">_create_uuid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span></div>


<div class="viewcode-block" id="WeakRef"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.WeakRef">[docs]</a><span class="k">class</span> <span class="nc">WeakRef</span><span class="p">(</span><span class="n">Instance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A trait type holding a weak reference to an instance of a class.</span>

<span class="sd">    Only a weak reference is maintained to any object assigned to a WeakRef</span>
<span class="sd">    trait. If no other references exist to the assigned value, the value</span>
<span class="sd">    may be garbage collected, in which case the value of the trait becomes</span>
<span class="sd">    None. In all other cases, the value returned by the trait is the</span>
<span class="sd">    original object.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    klass : class, str or instance</span>
<span class="sd">        The object that forms the basis for the trait. If *klass* is</span>
<span class="sd">        omitted, then values must be an instance of HasTraits.  If a string,</span>
<span class="sd">        the value will be resolved to a class object at runtime.</span>
<span class="sd">    allow_none : boolean</span>
<span class="sd">        Indicates whether None can be _assigned_.  The trait attribute may</span>
<span class="sd">        give a None value if the object referred to has been garbage collected</span>
<span class="sd">        even if allow_none is False.</span>
<span class="sd">    adapt : str</span>
<span class="sd">        How to use the adaptation infrastructure when setting the value.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">klass</span><span class="o">=</span><span class="s2">&quot;traits.has_traits.HasTraits&quot;</span><span class="p">,</span>
        <span class="n">allow_none</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">adapt</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">metadata</span>
    <span class="p">):</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;ref&quot;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">klass</span><span class="p">,</span>
            <span class="n">allow_none</span><span class="o">=</span><span class="n">allow_none</span><span class="p">,</span>
            <span class="n">adapt</span><span class="o">=</span><span class="n">adapt</span><span class="p">,</span>
            <span class="n">module</span><span class="o">=</span><span class="n">get_module_name</span><span class="p">(),</span>
            <span class="o">**</span><span class="n">metadata</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">old</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">HandleWeakRef</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">old</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="n">trait_property_changed</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">old</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="WeakRef.resolve_class"><a class="viewcode-back" href="../../traits_api_reference/trait_types.html#traits.trait_types.WeakRef.resolve_class">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># fixme: We have to override this method to prevent the &#39;fast validate&#39;</span>
        <span class="c1"># from being set up, since the trait using this is a &#39;property&#39; style</span>
        <span class="c1"># trait which is not currently compatible with the &#39;fast_validate&#39;</span>
        <span class="c1"># style (causes internal Python SystemError messages).</span>
        <span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">klass</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate_failed</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">klass</span></div></div>


<span class="c1">#: A trait type for datetime.date instances.</span>
<span class="n">Date</span> <span class="o">=</span> <span class="n">BaseInstance</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">editor</span><span class="o">=</span><span class="n">date_editor</span><span class="p">)</span>


<span class="c1">#: A trait type for datetime.datetime instances.</span>
<span class="n">Datetime</span> <span class="o">=</span> <span class="n">BaseInstance</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="n">editor</span><span class="o">=</span><span class="n">datetime_editor</span><span class="p">)</span>


<span class="c1">#: A trait type for datetime.time instances.</span>
<span class="n">Time</span> <span class="o">=</span> <span class="n">BaseInstance</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">editor</span><span class="o">=</span><span class="n">time_editor</span><span class="p">)</span>


<span class="c1"># Predefined, reusable trait instances</span>

<span class="c1"># Everything from this point onwards is deprecated, and has a simple</span>
<span class="c1"># drop-in replacement.</span>

<span class="c1">#: A trait whose value must support a specified protocol. This is</span>
<span class="c1">#: an alias for :class:`Supports`. Use ``Supports`` instead.</span>
<span class="n">AdaptedTo</span> <span class="o">=</span> <span class="n">Supports</span>

<span class="c1">#: A trait whose value must be a (Unicode) string. This is an alias for</span>
<span class="c1">#: :class:`BaseStr`. Use ``BaseStr`` instead.</span>
<span class="n">BaseUnicode</span> <span class="o">=</span> <span class="n">BaseStr</span>

<span class="c1">#: A trait whose value must be a (Unicode) string, using a C-level</span>
<span class="c1">#: fast validator. This is an alias for :class:`Str`. Use ``Str`` instead.</span>
<span class="n">Unicode</span> <span class="o">=</span> <span class="n">Str</span>

<span class="c1">#: A trait whose value must be a (Unicode) string and which supports</span>
<span class="c1">#: coercions of non-string values to string. This is</span>
<span class="c1">#: an alias for :class:`BaseCStr`. Use ``BaseCStr`` instead.</span>
<span class="n">BaseCUnicode</span> <span class="o">=</span> <span class="n">BaseCStr</span>

<span class="c1">#: A trait whose value must be a (Unicode) string and which supports</span>
<span class="c1">#: coercions of non-string values to string, using a C-level fast validator.</span>
<span class="c1">#: This is an alias for :class:`CStr`. Use ``CStr`` instead.</span>
<span class="n">CUnicode</span> <span class="o">=</span> <span class="n">CStr</span>

<span class="c1">#: A trait whose value must be an integer. This is an alias for</span>
<span class="c1">#: :class:`BaseInt`. Use ``BaseInt`` instead.</span>
<span class="n">BaseLong</span> <span class="o">=</span> <span class="n">BaseInt</span>

<span class="c1">#: A trait whose value must be an integer, using a C-level fast validator.</span>
<span class="c1">#: This is an alias for :class:`Int`. Use ``Int`` instead.</span>
<span class="n">Long</span> <span class="o">=</span> <span class="n">Int</span>

<span class="c1">#: A trait whose value must be an integer and which supports coercions</span>
<span class="c1">#: of non-integer values to integer. This is an alias for</span>
<span class="c1">#: :class:`BaseCInt`. Use ``BaseCInt`` instead.</span>
<span class="n">BaseCLong</span> <span class="o">=</span> <span class="n">BaseCInt</span>

<span class="c1">#: A trait whose value must be an integer and which supports coercions</span>
<span class="c1">#: of non-integer values to integer, using a C-level fast validator.</span>
<span class="c1">#: This is an alias for :class:`CInt`. Use ``CInt`` instead.</span>
<span class="n">CLong</span> <span class="o">=</span> <span class="n">CInt</span>

<span class="c1">#: Synonym for Bool; default value is ``False``. This trait type is</span>
<span class="c1">#: deprecated. Use ``Bool(False)`` or ``Bool()`` instead.</span>
<span class="n">false</span> <span class="o">=</span> <span class="n">Bool</span>

<span class="c1">#: Boolean values only; default value is ``True``. This trait type is</span>
<span class="c1">#: deprecated. Use ``Bool(True)`` instead.</span>
<span class="n">true</span> <span class="o">=</span> <span class="n">Bool</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1">#: Allows any value to be assigned; no type-checking is performed.</span>
<span class="c1">#: Default value is ``Undefined``. This trait type is deprecated. Use</span>
<span class="c1">#: ``Any(Undefined)`` instead.</span>
<span class="n">undefined</span> <span class="o">=</span> <span class="n">Any</span><span class="p">(</span><span class="n">Undefined</span><span class="p">)</span>

<span class="c1"># -- List Traits --------------------------------------------------------------</span>

<span class="c1">#: List of integer values; default value is ``[]``. This trait type is</span>
<span class="c1">#: deprecated. Use ``List(Int)`` instead.</span>
<span class="n">ListInt</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1">#: List of float values; default value is ``[]``. This trait type is</span>
<span class="c1">#: deprecated. Use ``List(Float)`` instead.</span>
<span class="n">ListFloat</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

<span class="c1">#: List of string values; default value is ``[]``. This trait type is</span>
<span class="c1">#: deprecated. Use ``List(Str)`` instead.</span>
<span class="n">ListStr</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1">#: List of string values; default value is ``[]``. This trait type is</span>
<span class="c1">#: deprecated. Use ``List(Str)`` instead.</span>
<span class="n">ListUnicode</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1">#: List of complex values; default value is ``[]``. This trait type is</span>
<span class="c1">#: deprecated. Use ``List(Complex)`` instead.</span>
<span class="n">ListComplex</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">complex</span><span class="p">)</span>

<span class="c1">#: List of Boolean values; default value is ``[]``. This trait type is</span>
<span class="c1">#: deprecated. Use ``List(Bool)`` instead.</span>
<span class="n">ListBool</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>

<span class="c1">#: List of function values; default value is ``[]``. This trait type is</span>
<span class="c1">#: deprecated. Use ``List(Instance(types.FunctionType, allow_none=False))``</span>
<span class="c1">#: instead.</span>
<span class="n">ListFunction</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">FunctionType</span><span class="p">)</span>

<span class="c1">#: List of method values; default value is ``[]``. This trait type is</span>
<span class="c1">#: deprecated. Use ``List(Instance(types.MethodType, allow_none=False))``</span>
<span class="c1">#: instead.</span>
<span class="n">ListMethod</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">MethodType</span><span class="p">)</span>

<span class="c1">#: List of container type values; default value is ``[]``. This trait type is</span>
<span class="c1">#: deprecated. Use ``List(This(allow_none=False))`` instead.</span>
<span class="n">ListThis</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">This</span><span class="p">(</span><span class="n">allow_none</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="c1"># -- Dictionary Traits --------------------------------------------------------</span>

<span class="c1">#: Only a dictionary with strings as keys can be assigned; only string keys</span>
<span class="c1">#: can be inserted. The default value is {}. This trait type is deprecated. Use</span>
<span class="c1">#: ``Dict(Str, Any)`` instead.</span>
<span class="n">DictStrAny</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">)</span>

<span class="c1">#: Only a dictionary mapping strings to strings can be assigned; only string</span>
<span class="c1">#: keys with string values can be inserted. The default value is {}. This trait</span>
<span class="c1">#: type is deprecated. Use ``Dict(Str, Str)`` instead.</span>
<span class="n">DictStrStr</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>

<span class="c1">#: Only a dictionary mapping strings to integers can be assigned; only string</span>
<span class="c1">#: keys with integer values can be inserted. The default value is {}. This</span>
<span class="c1">#: trait type is deprecated. Use ``Dict(Str, Int)`` instead.</span>
<span class="n">DictStrInt</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>

<span class="c1">#: Only a dictionary mapping strings to floats can be assigned; only string</span>
<span class="c1">#: keys with float values can be inserted. The default value is {}. This trait</span>
<span class="c1">#: type is deprecated. Use ``Dict(Str, Float)`` instead.</span>
<span class="n">DictStrFloat</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>

<span class="c1">#: Only a dictionary mapping strings to booleans can be assigned; only string</span>
<span class="c1">#: keys with boolean values can be inserted. The default value is {}. This</span>
<span class="c1">#: trait type is deprecated. Use ``Dict(Str, Bool)`` instead.</span>
<span class="n">DictStrBool</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>

<span class="c1">#: Only a dictionary mapping strings to lists can be assigned; only string keys</span>
<span class="c1">#: with list values can be inserted. The default value is {}. This trait type</span>
<span class="c1">#: is deprecated. Use ``Dict(Str, List)`` instead.</span>
<span class="n">DictStrList</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
</pre></div>

          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/img/e-logo.png" alt="Logo">
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright (C) Copyright 2005-2021 Enthought, Inc., Austin, TX
All rights reserved.

      </li>
      <li>
      Last updated on Jan 20, 2021.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.3.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>